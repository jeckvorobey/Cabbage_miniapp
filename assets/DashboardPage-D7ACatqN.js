import{k as Se,g as ge,a as bt,v as Ce,x as Jl,$ as Zl,c as g,h as y,l as Xe,aC as vl,aD as fl,aE as ml,aF as gl,r as $,L as qe,N as ve,G as Re,P as wt,S as Ct,w as ce,n as Ye,i as ea,aG as ta,aH as la,aI as jt,aJ as aa,ad as Ee,Q as de,_ as na,aK as oa,aL as pl,aM as qt,aN as hl,aO as yl,Z as Sl,at as ua,p as bl,q as we,aP as ia,aQ as _l,ax as ra,ay as sa,z as ca,aR as da,aS as Kt,aT as va,aU as He,av as fa,K as gt,aV as ma,aW as ga,au as pa,aX as xl,C as wl,D as ha,E as pt,H as ht,I as tt,J as Wt,M as ya,U as Sa,a6 as ba,aY as _a,aZ as xa,a_ as wa,a$ as Xt,o as rt,b0 as Ca,d as st,u as kt,aj as ie,ai as ae,am as ye,an as Z,ah as it,aq as Cl,F as ql,f as Q,ak as Me,b1 as Yt,ao as ue,ap as fe,aB as je,b2 as Gt,Y as lt,b3 as qa,b4 as Jt,az as Zt,al as ka,ab as Fa}from"./index-BfQG0La9.js";import{b as Va,h as el,r as _t,n as tl,g as ll,s as al,u as Ft,Q as kl,a as za}from"./orderStore-DKpomzOy.js";import{b as ot,a as ut,Q as Fl,u as Vt,g as Vl,c as Pa}from"./useUtils-Cwimsykb.js";import{Q as Aa,a as Ia}from"./QMenu-CnID3Wfg.js";import{u as zl,Q as nl}from"./unitsStore-BssukMqi.js";import{C as at}from"./ClosePopup-D87p-qTM.js";import{u as zt}from"./usePermissionVisibility.hook--IOOgf9J.js";import{c as Ba}from"./selection-B6PH_KKE.js";import{_ as Pt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as $a}from"./categoriesStore-BuxoFu4L.js";const Da=Se({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:u}){const{proxy:{$q:o}}=ge(),n=bt(Jl,Ce);if(n===Ce)return console.error("QPage needs to be a deep child of QLayout"),Ce;if(bt(Zl,Ce)===Ce)return console.error("QPage needs to be child of QPageContainer"),Ce;const l=g(()=>{const v=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof e.styleFn=="function"){const h=n.isContainer.value===!0?n.containerHeight.value:o.screen.height;return e.styleFn(v,h)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-v+"px":o.screen.height===0?v!==0?`calc(100vh - ${v}px)`:"100vh":o.screen.height-v+"px"}}),p=g(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>y("main",{class:p.value,style:l.value},Xe(u.default))}}),Ta=Se({name:"QUploaderAddTrigger",setup(){const e=bt(vl,Ce);return e===Ce&&console.error("QUploaderAddTrigger needs to be child of QUploader"),e}}),Oa={...fl,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},xt=50,Pl=2*xt,Al=Pl*Math.PI,Ra=Math.round(Al*1e3)/1e3,Ea=Se({name:"QCircularProgress",props:{...Oa,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:u}){const{proxy:{$q:o}}=ge(),n=ml(e),c=g(()=>{const m=(o.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(o.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-m}deg)`:`rotate3d(0, 0, 1, ${m-90}deg)`}}),l=g(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),p=g(()=>Pl/(1-e.thickness/2)),v=g(()=>`${p.value/2} ${p.value/2} ${p.value} ${p.value}`),h=g(()=>Va(e.value,e.min,e.max)),F=g(()=>e.max-e.min),d=g(()=>e.thickness/2*p.value),q=g(()=>{const m=(e.max-h.value)/F.value,a=e.rounded===!0&&h.value<e.max&&m<.25?d.value/2*(1-m/.25):0;return Al*m+a});function i({thickness:m,offset:a,color:k,cls:f,rounded:x}){return y("circle",{class:"q-circular-progress__"+f+(k!==void 0?` text-${k}`:""),style:l.value,fill:"transparent",stroke:"currentColor","stroke-width":m,"stroke-dasharray":Ra,"stroke-dashoffset":a,"stroke-linecap":x,cx:p.value,cy:p.value,r:xt})}return()=>{const m=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&m.push(y("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:xt-d.value/2,cx:p.value,cy:p.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&m.push(i({cls:"track",thickness:d.value,offset:0,color:e.trackColor})),m.push(i({cls:"circle",thickness:d.value,offset:q.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const a=[y("svg",{class:"q-circular-progress__svg",style:c.value,viewBox:v.value,"aria-hidden":"true"},m)];return e.showValue===!0&&a.push(y("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},u.default!==void 0?u.default():[y("div",h.value)])),y("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:n.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:h.value},gl(u.internal,a))}}});function Oe(e,u,o,n){const c=[];return e.forEach(l=>{n(l)===!0?c.push(l):u.push({failedPropValidation:o,file:l})}),c}function nt(e){e?.dataTransfer&&(e.dataTransfer.dropEffect="copy"),ve(e)}const Ma={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},La=["rejected"];function Ua({editable:e,dnd:u,getFileInput:o,addFilesToQueue:n}){const{props:c,emit:l,proxy:p}=ge(),v=$(null),h=g(()=>c.accept!==void 0?c.accept.split(",").map(b=>(b=b.trim(),b==="*"?"*/":(b.endsWith("/*")&&(b=b.slice(0,b.length-1)),b.toUpperCase()))):null),F=g(()=>parseInt(c.maxFiles,10)),d=g(()=>parseInt(c.maxTotalSize,10));function q(b){if(e.value)if(b!==Object(b)&&(b={target:null}),b.target?.matches('input[type="file"]')===!0)b.clientX===0&&b.clientY===0&&qe(b);else{const D=o();D!==b.target&&D?.click(b)}}function i(b){e.value&&b&&n(null,b)}function m(b,D,V,z){let S=Array.from(D||b.target.files);const O=[],j=()=>{O.length!==0&&l("rejected",O)};if(c.accept!==void 0&&h.value.indexOf("*/")===-1&&(S=Oe(S,O,"accept",R=>h.value.some(I=>R.type.toUpperCase().startsWith(I)||R.name.toUpperCase().endsWith(I))),S.length===0))return j();if(c.maxFileSize!==void 0){const R=parseInt(c.maxFileSize,10);if(S=Oe(S,O,"max-file-size",I=>I.size<=R),S.length===0)return j()}if(c.multiple!==!0&&S.length!==0&&(S=[S[0]]),S.forEach(R=>{R.__key=R.webkitRelativePath+R.lastModified+R.name+R.size}),z===!0){const R=V.map(I=>I.__key);S=Oe(S,O,"duplicate",I=>R.includes(I.__key)===!1)}if(S.length===0)return j();if(c.maxTotalSize!==void 0){let R=z===!0?V.reduce((I,ee)=>I+ee.size,0):0;if(S=Oe(S,O,"max-total-size",I=>(R+=I.size,R<=d.value)),S.length===0)return j()}if(typeof c.filter=="function"){const R=c.filter(S);S=Oe(S,O,"filter",I=>R.includes(I))}if(c.maxFiles!==void 0){let R=z===!0?V.length:0;if(S=Oe(S,O,"max-files",()=>(R++,R<=F.value)),S.length===0)return j()}if(j(),S.length!==0)return S}function a(b){nt(b),u.value!==!0&&(u.value=!0)}function k(b){ve(b),(b.relatedTarget!==null||Re.is.safari!==!0?b.relatedTarget!==v.value:document.elementsFromPoint(b.clientX,b.clientY).includes(v.value)===!1)===!0&&(u.value=!1)}function f(b){nt(b);const D=b.dataTransfer.files;D.length!==0&&n(null,D),u.value=!1}function x(b){if(u.value===!0)return y("div",{ref:v,class:`q-${b}__dnd absolute-full`,onDragenter:nt,onDragover:nt,onDragleave:k,onDrop:f})}return Object.assign(p,{pickFiles:q,addFiles:i}),{pickFiles:q,addFiles:i,onDragover:a,onDragleave:k,processFiles:m,getDndNode:x,maxFilesNumber:F,maxTotalSizeNumber:d}}function ol(e){return(e*100).toFixed(2)+"%"}const Na={...wt,...Ma,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},Il=[...La,"start","finish","added","removed"];function Qa(e,u){const o=ge(),{props:n,slots:c,emit:l,proxy:p}=o,{$q:v}=p,h=Ct(n,v);function F(s,B,G){if(s.__status=B,B==="idle"){s.__uploaded=0,s.__progress=0,s.__sizeLabel=el(s.size),s.__progressLabel="0.00%";return}if(B==="failed"){p.$forceUpdate();return}s.__uploaded=B==="uploaded"?s.size:G,s.__progress=B==="uploaded"?1:Math.min(.9999,s.__uploaded/s.size),s.__progressLabel=ol(s.__progress),p.$forceUpdate()}const d=g(()=>n.disable!==!0&&n.readonly!==!0),q=$(!1),i=$(null),m=$(null),a={files:$([]),queuedFiles:$([]),uploadedFiles:$([]),uploadedSize:$(0),updateFileStatus:F,isAlive:()=>aa(o)===!1},{pickFiles:k,addFiles:f,onDragover:x,onDragleave:b,processFiles:D,getDndNode:V,maxFilesNumber:z,maxTotalSizeNumber:S}=Ua({editable:d,dnd:q,getFileInput:r,addFilesToQueue:_});Object.assign(a,e({props:n,slots:c,emit:l,helpers:a,exposeApi:s=>{Object.assign(a,s)}})),a.isBusy===void 0&&(a.isBusy=$(!1));const O=$(0),j=g(()=>O.value===0?0:a.uploadedSize.value/O.value),R=g(()=>ol(j.value)),I=g(()=>el(O.value)),ee=g(()=>d.value===!0&&a.isUploading.value!==!0&&(n.multiple===!0||a.queuedFiles.value.length===0)&&(n.maxFiles===void 0||a.files.value.length<z.value)&&(n.maxTotalSize===void 0||O.value<S.value)),P=g(()=>d.value===!0&&a.isBusy.value!==!0&&a.isUploading.value!==!0&&a.queuedFiles.value.length!==0);na(vl,te);const K=g(()=>"q-uploader column no-wrap"+(h.value===!0?" q-uploader--dark q-dark":"")+(n.bordered===!0?" q-uploader--bordered":"")+(n.square===!0?" q-uploader--square no-border-radius":"")+(n.flat===!0?" q-uploader--flat no-shadow":"")+(n.disable===!0?" disabled q-uploader--disable":"")+(q.value===!0?" q-uploader--dnd":"")),A=g(()=>"q-uploader__header"+(n.color!==void 0?` bg-${n.color}`:"")+(n.textColor!==void 0?` text-${n.textColor}`:""));ce(a.isUploading,(s,B)=>{B===!1&&s===!0?l("start"):B===!0&&s===!1&&l("finish")});function E(){n.disable===!1&&(a.abort(),a.uploadedSize.value=0,O.value=0,xe(),a.files.value=[],a.queuedFiles.value=[],a.uploadedFiles.value=[])}function U(){n.disable===!1&&_e(["uploaded"],()=>{a.uploadedFiles.value=[]})}function re(){_e(["idle","failed"],({size:s})=>{O.value-=s,a.queuedFiles.value=[]})}function _e(s,B){if(n.disable===!0)return;const G={files:[],size:0},oe=a.files.value.filter(J=>s.indexOf(J.__status)===-1?!0:(G.size+=J.size,G.files.push(J),J.__img!==void 0&&window.URL.revokeObjectURL(J.__img.src),!1));G.files.length!==0&&(a.files.value=oe,B(G),l("removed",G.files))}function pe(s){n.disable||(s.__status==="uploaded"?a.uploadedFiles.value=a.uploadedFiles.value.filter(B=>B.__key!==s.__key):s.__status==="uploading"?s.__abort():O.value-=s.size,a.files.value=a.files.value.filter(B=>B.__key!==s.__key?!0:(B.__img!==void 0&&window.URL.revokeObjectURL(B.__img.src),!1)),a.queuedFiles.value=a.queuedFiles.value.filter(B=>B.__key!==s.__key),l("removed",[s]))}function xe(){a.files.value.forEach(s=>{s.__img!==void 0&&window.URL.revokeObjectURL(s.__img.src)})}function r(){return m.value||i.value.getElementsByClassName("q-uploader__input")[0]}function _(s,B){const G=D(s,B,a.files.value,!0),oe=r();oe!=null&&(oe.value=""),G!==void 0&&(G.forEach(J=>{if(a.updateFileStatus(J,"idle"),O.value+=J.size,n.noThumbnails!==!0&&J.type.toUpperCase().startsWith("IMAGE")){const ke=new Image;ke.src=window.URL.createObjectURL(J),J.__img=ke}}),a.files.value=a.files.value.concat(G),a.queuedFiles.value=a.queuedFiles.value.concat(G),l("added",G),n.autoUpload===!0&&a.upload())}function T(){P.value===!0&&a.upload()}function H(s,B,G){if(s===!0){const oe={type:"a",key:B,icon:v.iconSet.uploader[B],flat:!0,dense:!0};let J;return B==="add"?(oe.onClick=k,J=te):oe.onClick=G,y(de,oe,J)}}function te(){return y("input",{ref:m,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:n.accept,multiple:n.multiple===!0?"multiple":void 0,capture:n.capture,onMousedown:qe,onClick:k,onChange:_})}function N(){return c.header!==void 0?c.header(X):[y("div",{class:"q-uploader__header-content column"},[y("div",{class:"flex flex-center no-wrap q-gutter-xs"},[H(a.queuedFiles.value.length!==0,"removeQueue",re),H(a.uploadedFiles.value.length!==0,"removeUploaded",U),a.isUploading.value===!0?y(jt,{class:"q-uploader__spinner"}):null,y("div",{class:"col column justify-center"},[n.label!==void 0?y("div",{class:"q-uploader__title"},[n.label]):null,y("div",{class:"q-uploader__subtitle"},[I.value+" / "+R.value])]),H(ee.value,"add"),H(n.hideUploadBtn===!1&&P.value===!0,"upload",a.upload),H(a.isUploading.value,"clear",a.abort)])])]}function M(){return c.list!==void 0?c.list(X):a.files.value.map(s=>y("div",{key:s.__key,class:"q-uploader__file relative-position"+(n.noThumbnails!==!0&&s.__img!==void 0?" q-uploader__file--img":"")+(s.__status==="failed"?" q-uploader__file--failed":s.__status==="uploaded"?" q-uploader__file--uploaded":""),style:n.noThumbnails!==!0&&s.__img!==void 0?{backgroundImage:'url("'+s.__img.src+'")',backgroundSize:n.thumbnailFit}:null},[y("div",{class:"q-uploader__file-header row flex-center no-wrap"},[s.__status==="failed"?y(Ee,{class:"q-uploader__file-status",name:v.iconSet.type.negative,color:"negative"}):null,y("div",{class:"q-uploader__file-header-content col"},[y("div",{class:"q-uploader__title"},[s.name]),y("div",{class:"q-uploader__subtitle row items-center no-wrap"},[s.__sizeLabel+" / "+s.__progressLabel])]),s.__status==="uploading"?y(Ea,{value:s.__progress,min:0,max:1,indeterminate:s.__progress===0}):y(de,{round:!0,dense:!0,flat:!0,icon:v.iconSet.uploader[s.__status==="uploaded"?"done":"clear"],onClick:()=>{pe(s)}})])]))}Ye(()=>{a.isUploading.value===!0&&a.abort(),a.files.value.length!==0&&xe()});const X={};for(const s in a)ea(a[s])===!0?ta(X,s,()=>a[s].value):X[s]=a[s];return Object.assign(X,{upload:T,reset:E,removeUploadedFiles:U,removeQueuedFiles:re,removeFile:pe,pickFiles:k,addFiles:f}),la(X,{canAddFiles:()=>ee.value,canUpload:()=>P.value,uploadSizeLabel:()=>I.value,uploadProgressLabel:()=>R.value}),u({...a,upload:T,reset:E,removeUploadedFiles:U,removeQueuedFiles:re,removeFile:pe,pickFiles:k,addFiles:f,canAddFiles:ee,canUpload:P,uploadSizeLabel:I,uploadProgressLabel:R}),()=>{const s=[y("div",{class:A.value},N()),y("div",{class:"q-uploader__list scroll"},M()),V("uploader")];a.isBusy.value===!0&&s.push(y("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[y(jt)]));const B={ref:i,class:K.value};return ee.value===!0&&Object.assign(B,{onDragover:x,onDragleave:b}),y("div",B,s)}}const Ha=()=>!0;function Bl(e){const u={};return e.forEach(o=>{u[o]=Ha}),u}const ja=Bl(Il),Ka=({name:e,props:u,emits:o,injectPlugin:n})=>Se({name:e,props:{...Na,...u},emits:oa(o)===!0?{...ja,...o}:[...Il,...o],setup(c,{expose:l}){return Qa(n,l)}});function be(e){return typeof e=="function"?e:()=>e}const Wa="QUploader",Xa={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},Ya=["factoryFailed","uploaded","failed","uploading"];function Ga({props:e,emit:u,helpers:o}){const n=$([]),c=$([]),l=$(0),p=g(()=>({url:be(e.url),method:be(e.method),headers:be(e.headers),formFields:be(e.formFields),fieldName:be(e.fieldName),withCredentials:be(e.withCredentials),sendRaw:be(e.sendRaw),batch:be(e.batch)})),v=g(()=>l.value>0),h=g(()=>c.value.length!==0);let F;function d(){n.value.forEach(a=>{a.abort()}),c.value.length!==0&&(F=!0)}function q(){const a=o.queuedFiles.value.slice(0);o.queuedFiles.value=[],p.value.batch(a)?i(a):a.forEach(k=>{i([k])})}function i(a){if(l.value++,typeof e.factory!="function"){m(a,{});return}const k=e.factory(a);if(!k)u("factoryFailed",new Error("QUploader: factory() does not return properly"),a),l.value--;else if(typeof k.catch=="function"&&typeof k.then=="function"){c.value.push(k);const f=x=>{o.isAlive()===!0&&(c.value=c.value.filter(b=>b!==k),c.value.length===0&&(F=!1),o.queuedFiles.value=o.queuedFiles.value.concat(a),a.forEach(b=>{o.updateFileStatus(b,"failed")}),u("factoryFailed",x,a),l.value--)};k.then(x=>{F===!0?f(new Error("Aborted")):o.isAlive()===!0&&(c.value=c.value.filter(b=>b!==k),m(a,x))}).catch(f)}else m(a,k||{})}function m(a,k){const f=new FormData,x=new XMLHttpRequest,b=(P,K)=>k[P]!==void 0?be(k[P])(K):p.value[P](K),D=b("url",a);if(!D){console.error("q-uploader: invalid or no URL specified"),l.value--;return}const V=b("formFields",a);V!==void 0&&V.forEach(P=>{f.append(P.name,P.value)});let z=0,S=0,O=0,j=0,R;x.upload.addEventListener("progress",P=>{if(R===!0)return;const K=Math.min(j,P.loaded);o.uploadedSize.value+=K-O,O=K;let A=O-S;for(let E=z;A>0&&E<a.length;E++){const U=a[E];if(A>U.size)A-=U.size,z++,S+=U.size,o.updateFileStatus(U,"uploading",U.size);else{o.updateFileStatus(U,"uploading",A);return}}},!1),x.onreadystatechange=()=>{x.readyState<4||(x.status&&x.status<400?(o.uploadedFiles.value=o.uploadedFiles.value.concat(a),a.forEach(P=>{o.updateFileStatus(P,"uploaded")}),u("uploaded",{files:a,xhr:x})):(R=!0,o.uploadedSize.value-=O,o.queuedFiles.value=o.queuedFiles.value.concat(a),a.forEach(P=>{o.updateFileStatus(P,"failed")}),u("failed",{files:a,xhr:x})),l.value--,n.value=n.value.filter(P=>P!==x))},x.open(b("method",a),D),b("withCredentials",a)===!0&&(x.withCredentials=!0);const I=b("headers",a);I!==void 0&&I.forEach(P=>{x.setRequestHeader(P.name,P.value)});const ee=b("sendRaw",a);a.forEach(P=>{o.updateFileStatus(P,"uploading",0),ee!==!0&&f.append(b("fieldName",P),P,P.name),P.xhr=x,P.__abort=()=>{x.abort()},j+=P.size}),u("uploading",{files:a,xhr:x}),n.value.push(x),ee===!0?x.send(new Blob(a)):x.send(f)}return{isUploading:v,isBusy:h,abort:d,upload:q}}const Ja={name:Wa,props:Xa,emits:Ya,injectPlugin:Ga},Za=Ka(Ja),en=Se({name:"QField",inheritAttrs:!1,props:{...qt,tag:{type:String,default:"label"}},emits:pl,setup(){return hl(yl({tagProp:!0}))}}),tn={xs:8,sm:10,md:14,lg:20,xl:24},ln=Se({name:"QChip",props:{...wt,...fl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:u,emit:o}){const{proxy:{$q:n}}=ge(),c=Ct(e,n),l=ml(e,tn),p=g(()=>e.selected===!0||e.icon!==void 0),v=g(()=>e.selected===!0?e.iconSelected||n.iconSet.chip.selected:e.icon),h=g(()=>e.iconRemove||n.iconSet.chip.remove),F=g(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=g(()=>{const f=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(f?` text-${f} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(F.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(c.value===!0?" q-chip--dark q-dark":"")}),q=g(()=>{const f=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},x={...f,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||n.lang.label.remove};return{chip:f,remove:x}});function i(f){f.keyCode===13&&m(f)}function m(f){e.disable||(o("update:selected",!e.selected),o("click",f))}function a(f){(f.keyCode===void 0||f.keyCode===13)&&(ve(f),e.disable===!1&&(o("update:modelValue",!1),o("remove")))}function k(){const f=[];F.value===!0&&f.push(y("div",{class:"q-focus-helper"})),p.value===!0&&f.push(y(Ee,{class:"q-chip__icon q-chip__icon--left",name:v.value}));const x=e.label!==void 0?[y("div",{class:"ellipsis"},[e.label])]:void 0;return f.push(y("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},gl(u.default,x))),e.iconRight&&f.push(y(Ee,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&f.push(y(Ee,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value,...q.value.remove,onClick:a,onKeyup:a})),f}return()=>{if(e.modelValue===!1)return;const f={class:d.value,style:l.value};return F.value===!0&&Object.assign(f,q.value.chip,{onClick:m,onKeyup:i}),Sl("div",f,k(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ua,e.ripple]])}}}),me=1e3,an=["start","center","end","start-force","center-force","end-force"],$l=Array.prototype.filter,nn=window.getComputedStyle(document.body).overflowAnchor===void 0?bl:function(e,u){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];$l.call(o,c=>c.dataset&&c.dataset.qVsAnchor!==void 0).forEach(c=>{delete c.dataset.qVsAnchor});const n=o[u];n?.dataset&&(n.dataset.qVsAnchor="")}))};function Le(e,u){return e+u}function yt(e,u,o,n,c,l,p,v){const h=e===window?document.scrollingElement||document.documentElement:e,F=c===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-p-v,scrollMaxSize:0,offsetStart:-p,offsetEnd:-v};if(c===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=h.scrollLeft,d.scrollViewSize+=h.clientWidth),d.scrollMaxSize=h.scrollWidth,l===!0&&(d.scrollStart=(_t===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=h.scrollTop,d.scrollViewSize+=h.clientHeight),d.scrollMaxSize=h.scrollHeight),o!==null)for(let q=o.previousElementSibling;q!==null;q=q.previousElementSibling)q.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=q[F]);if(n!==null)for(let q=n.nextElementSibling;q!==null;q=q.nextElementSibling)q.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=q[F]);if(u!==e){const q=h.getBoundingClientRect(),i=u.getBoundingClientRect();c===!0?(d.offsetStart+=i.left-q.left,d.offsetEnd-=i.width):(d.offsetStart+=i.top-q.top,d.offsetEnd-=i.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function ul(e,u,o,n){u==="end"&&(u=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(n===!0&&(u=(_t===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-u),window.scrollTo(u,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u):o===!0?(n===!0&&(u=(_t===!0?e.scrollWidth-e.offsetWidth:0)-u),e.scrollLeft=u):e.scrollTop=u}function Ke(e,u,o,n){if(o>=n)return 0;const c=u.length,l=Math.floor(o/me),p=Math.floor((n-1)/me)+1;let v=e.slice(l,p).reduce(Le,0);return o%me!==0&&(v-=u.slice(l*me,o).reduce(Le,0)),n%me!==0&&n!==c&&(v-=u.slice(n,p*me).reduce(Le,0)),v}const on={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},il={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...on};function un({virtualScrollLength:e,getVirtualScrollTarget:u,getVirtualScrollEl:o,virtualScrollItemSizeComputed:n}){const c=ge(),{props:l,emit:p,proxy:v}=c,{$q:h}=v;let F,d,q,i=[],m;const a=$(0),k=$(0),f=$({}),x=$(null),b=$(null),D=$(null),V=$({from:0,to:0}),z=g(()=>l.tableColspan!==void 0?l.tableColspan:100);n===void 0&&(n=g(()=>l.virtualScrollItemSize));const S=g(()=>n.value+";"+l.virtualScrollHorizontal),O=g(()=>S.value+";"+l.virtualScrollSliceRatioBefore+";"+l.virtualScrollSliceRatioAfter);ce(O,()=>{U()}),ce(S,j);function j(){E(d,!0)}function R(r){E(r===void 0?d:r)}function I(r,_){const T=u();if(T==null||T.nodeType===8)return;const H=yt(T,o(),x.value,b.value,l.virtualScrollHorizontal,h.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd);q!==H.scrollViewSize&&U(H.scrollViewSize),P(T,H,Math.min(e.value-1,Math.max(0,parseInt(r,10)||0)),0,an.indexOf(_)!==-1?_:d!==-1&&r>d?"end":"start")}function ee(){const r=u();if(r==null||r.nodeType===8)return;const _=yt(r,o(),x.value,b.value,l.virtualScrollHorizontal,h.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd),T=e.value-1,H=_.scrollMaxSize-_.offsetStart-_.offsetEnd-k.value;if(F===_.scrollStart)return;if(_.scrollMaxSize<=0){P(r,_,0,0);return}q!==_.scrollViewSize&&U(_.scrollViewSize),K(V.value.from);const te=Math.floor(_.scrollMaxSize-Math.max(_.scrollViewSize,_.offsetEnd)-Math.min(m[T],_.scrollViewSize/2));if(te>0&&Math.ceil(_.scrollStart)>=te){P(r,_,T,_.scrollMaxSize-_.offsetEnd-i.reduce(Le,0));return}let N=0,M=_.scrollStart-_.offsetStart,X=M;if(M<=H&&M+_.scrollViewSize>=a.value)M-=a.value,N=V.value.from,X=M;else for(let s=0;M>=i[s]&&N<T;s++)M-=i[s],N+=me;for(;M>0&&N<T;)M-=m[N],M>-_.scrollViewSize?(N++,X=M):X=m[N]+M;P(r,_,N,X)}function P(r,_,T,H,te){const N=typeof te=="string"&&te.indexOf("-force")!==-1,M=N===!0?te.replace("-force",""):te,X=M!==void 0?M:"start";let s=Math.max(0,T-f.value[X]),B=s+f.value.total;B>e.value&&(B=e.value,s=Math.max(0,B-f.value.total)),F=_.scrollStart;const G=s!==V.value.from||B!==V.value.to;if(G===!1&&M===void 0){_e(T);return}const{activeElement:oe}=document,J=D.value;G===!0&&J!==null&&J!==oe&&J.contains(oe)===!0&&(J.addEventListener("focusout",A),setTimeout(()=>{J?.removeEventListener("focusout",A)})),nn(J,T-s);const ke=M!==void 0?m.slice(s,T).reduce(Le,0):0;if(G===!0){const Fe=B>=V.value.from&&s<=V.value.to?V.value.to:B;V.value={from:s,to:Fe},a.value=Ke(i,m,0,s),k.value=Ke(i,m,B,e.value),requestAnimationFrame(()=>{V.value.to!==B&&F===_.scrollStart&&(V.value={from:V.value.from,to:B},k.value=Ke(i,m,B,e.value))})}requestAnimationFrame(()=>{if(F!==_.scrollStart)return;G===!0&&K(s);const Fe=m.slice(s,T).reduce(Le,0),Ve=Fe+_.offsetStart+a.value,Ge=Ve+m[T];let Ue=Ve+H;if(M!==void 0){const ct=Fe-ke,Ne=_.scrollStart+ct;Ue=N!==!0&&Ne<Ve&&Ge<Ne+_.scrollViewSize?Ne:M==="end"?Ge-_.scrollViewSize:Ve-(M==="start"?0:Math.round((_.scrollViewSize-m[T])/2))}F=Ue,ul(r,Ue,l.virtualScrollHorizontal,h.lang.rtl),_e(T)})}function K(r){const _=D.value;if(_){const T=$l.call(_.children,s=>s.classList&&s.classList.contains("q-virtual-scroll--skip")===!1),H=T.length,te=l.virtualScrollHorizontal===!0?s=>s.getBoundingClientRect().width:s=>s.offsetHeight;let N=r,M,X;for(let s=0;s<H;){for(M=te(T[s]),s++;s<H&&T[s].classList.contains("q-virtual-scroll--with-prev")===!0;)M+=te(T[s]),s++;X=M-m[N],X!==0&&(m[N]+=X,i[Math.floor(N/me)]+=X),N++}}}function A(){D.value?.focus()}function E(r,_){const T=1*n.value;(_===!0||Array.isArray(m)===!1)&&(m=[]);const H=m.length;m.length=e.value;for(let N=e.value-1;N>=H;N--)m[N]=T;const te=Math.floor((e.value-1)/me);i=[];for(let N=0;N<=te;N++){let M=0;const X=Math.min((N+1)*me,e.value);for(let s=N*me;s<X;s++)M+=m[s];i.push(M)}d=-1,F=void 0,a.value=Ke(i,m,0,V.value.from),k.value=Ke(i,m,V.value.to,e.value),r>=0?(K(V.value.from),we(()=>{I(r)})):pe()}function U(r){if(r===void 0&&typeof window<"u"){const M=u();M!=null&&M.nodeType!==8&&(r=yt(M,o(),x.value,b.value,l.virtualScrollHorizontal,h.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd).scrollViewSize)}q=r;const _=parseFloat(l.virtualScrollSliceRatioBefore)||0,T=parseFloat(l.virtualScrollSliceRatioAfter)||0,H=1+_+T,te=r===void 0||r<=0?1:Math.ceil(r/n.value),N=Math.max(1,te,Math.ceil((l.virtualScrollSliceSize>0?l.virtualScrollSliceSize:10)/H));f.value={total:Math.ceil(N*H),start:Math.ceil(N*_),center:Math.ceil(N*(.5+_)),end:Math.ceil(N*(1+_)),view:te}}function re(r,_){const T=l.virtualScrollHorizontal===!0?"width":"height",H={["--q-virtual-scroll-item-"+T]:n.value+"px"};return[r==="tbody"?y(r,{class:"q-virtual-scroll__padding",key:"before",ref:x},[y("tr",[y("td",{style:{[T]:`${a.value}px`,...H},colspan:z.value})])]):y(r,{class:"q-virtual-scroll__padding",key:"before",ref:x,style:{[T]:`${a.value}px`,...H}}),y(r,{class:"q-virtual-scroll__content",key:"content",ref:D,tabindex:-1},_.flat()),r==="tbody"?y(r,{class:"q-virtual-scroll__padding",key:"after",ref:b},[y("tr",[y("td",{style:{[T]:`${k.value}px`,...H},colspan:z.value})])]):y(r,{class:"q-virtual-scroll__padding",key:"after",ref:b,style:{[T]:`${k.value}px`,...H}})]}function _e(r){d!==r&&(l.onVirtualScroll!==void 0&&p("virtualScroll",{index:r,from:V.value.from,to:V.value.to-1,direction:r<d?"decrease":"increase",ref:v}),d=r)}U();const pe=ia(ee,h.platform.is.ios===!0?120:35);_l(()=>{U()});let xe=!1;return ra(()=>{xe=!0}),sa(()=>{if(xe!==!0)return;const r=u();F!==void 0&&r!==void 0&&r!==null&&r.nodeType!==8?ul(r,F,l.virtualScrollHorizontal,h.lang.rtl):I(d)}),Ye(()=>{pe.cancel()}),Object.assign(v,{scrollTo:I,reset:j,refresh:R}),{virtualScrollSliceRange:V,virtualScrollSliceSizeComputed:f,setVirtualScrollSize:U,onVirtualScrollEvt:pe,localResetVirtualScroll:E,padVirtualScroll:re,scrollTo:I,reset:j,refresh:R}}const rl=e=>["add","add-unique","toggle"].includes(e),rn=".*+?^${}()|[]\\",sn=Object.keys(qt);function St(e,u){if(typeof e=="function")return e;const o=e!==void 0?e:u;return n=>n!==null&&typeof n=="object"&&o in n?n[o]:n}const sl=Se({name:"QSelect",inheritAttrs:!1,props:{...il,...ca,...qt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:rl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:il.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...pl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:u,emit:o}){const{proxy:n}=ge(),{$q:c}=n,l=$(!1),p=$(!1),v=$(-1),h=$(""),F=$(!1),d=$(!1);let q=null,i=null,m,a,k,f=null,x,b,D,V;const z=$(null),S=$(null),O=$(null),j=$(null),R=$(null),I=da(e),ee=va(Lt),P=g(()=>Array.isArray(e.options)?e.options.length:0),K=g(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:A,virtualScrollSliceSizeComputed:E,localResetVirtualScroll:U,padVirtualScroll:re,onVirtualScrollEvt:_e,scrollTo:pe,setVirtualScrollSize:xe}=un({virtualScrollLength:P,getVirtualScrollTarget:El,getVirtualScrollEl:Et,virtualScrollItemSizeComputed:K}),r=yl(),_=g(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,w=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const C=e.mapOptions===!0&&m!==void 0?m:[],L=w.map(Y=>Rl(Y,C));return e.modelValue===null&&t===!0?L.filter(Y=>Y!==null):L}return w}),T=g(()=>{const t={};return sn.forEach(w=>{const C=e[w];C!==void 0&&(t[w]=C)}),t}),H=g(()=>e.optionsDark===null?r.isDark.value:e.optionsDark),te=g(()=>Kt(_.value)),N=g(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||_.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),M=g(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),X=g(()=>P.value===0),s=g(()=>_.value.map(t=>se.value(t)).join(", ")),B=g(()=>e.displayValue!==void 0?e.displayValue:s.value),G=g(()=>e.optionsHtml===!0?()=>!0:t=>t?.html===!0),oe=g(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||_.value.some(G.value))),J=g(()=>r.focused.value===!0?e.tabindex:-1),ke=g(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":l.value===!0?"true":"false","aria-controls":`${r.targetUid.value}_lb`};return v.value>=0&&(t["aria-activedescendant"]=`${r.targetUid.value}_${v.value}`),t}),Fe=g(()=>({id:`${r.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ve=g(()=>_.value.map((t,w)=>({index:w,opt:t,html:G.value(t),selected:!0,removeAtIndex:Ol,toggleOption:ze,tabindex:J.value}))),Ge=g(()=>{if(P.value===0)return[];const{from:t,to:w}=A.value;return e.options.slice(t,w).map((C,L)=>{const Y=Ae.value(C)===!0,W=vt(C)===!0,ne=t+L,le={clickable:!0,active:W,activeClass:Ne.value,manualFocus:!0,focused:!1,disable:Y,tabindex:-1,dense:e.optionsDense,dark:H.value,role:"option","aria-selected":W===!0?"true":"false",id:`${r.targetUid.value}_${ne}`,onClick:()=>{ze(C)}};return Y!==!0&&(v.value===ne&&(le.focused=!0),c.platform.is.desktop===!0&&(le.onMousemove=()=>{l.value===!0&&Ie(ne)})),{index:ne,opt:C,html:G.value(C),label:se.value(C),selected:le.active,focused:le.focused,toggleOption:ze,setOptionIndex:Ie,itemProps:le}})}),Ue=g(()=>e.dropdownIcon!==void 0?e.dropdownIcon:c.iconSet.arrow.dropdown),ct=g(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ne=g(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),he=g(()=>St(e.optionValue,"value")),se=g(()=>St(e.optionLabel,"label")),Ae=g(()=>St(e.optionDisable,"disable")),Je=g(()=>_.value.map(he.value)),Tl=g(()=>{const t={onInput:Lt,onChange:ee,onKeydown:Rt,onKeyup:Tt,onKeypress:Ot,onFocus:$t,onClick(w){a===!0&&qe(w)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ee,t});ce(_,t=>{m=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&r.innerLoading.value!==!0&&(p.value!==!0&&l.value!==!0||te.value!==!0)&&(k!==!0&&Te(),(p.value===!0||l.value===!0)&&Be(""))},{immediate:!0}),ce(()=>e.fillInput,Te),ce(l,ft),ce(P,Gl);function It(t){return e.emitValue===!0?he.value(t):t}function dt(t){if(t!==-1&&t<_.value.length)if(e.multiple===!0){const w=e.modelValue.slice();o("remove",{index:t,value:w.splice(t,1)[0]}),o("update:modelValue",w)}else o("update:modelValue",null)}function Ol(t){dt(t),r.focus()}function Bt(t,w){const C=It(t);if(e.multiple!==!0){e.fillInput===!0&&Qe(se.value(t),!0,!0),o("update:modelValue",C);return}if(_.value.length===0){o("add",{index:0,value:C}),o("update:modelValue",e.multiple===!0?[C]:C);return}if(w===!0&&vt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const L=e.modelValue.slice();o("add",{index:L.length,value:C}),L.push(C),o("update:modelValue",L)}function ze(t,w){if(r.editable.value!==!0||t===void 0||Ae.value(t)===!0)return;const C=he.value(t);if(e.multiple!==!0){w!==!0&&(Qe(e.fillInput===!0?se.value(t):"",!0,!0),Pe()),S.value?.focus(),(_.value.length===0||He(he.value(_.value[0]),C)!==!0)&&o("update:modelValue",e.emitValue===!0?C:t);return}if((a!==!0||F.value===!0)&&r.focus(),$t(),_.value.length===0){const W=e.emitValue===!0?C:t;o("add",{index:0,value:W}),o("update:modelValue",e.multiple===!0?[W]:W);return}const L=e.modelValue.slice(),Y=Je.value.findIndex(W=>He(W,C));if(Y!==-1)o("remove",{index:Y,value:L.splice(Y,1)[0]});else{if(e.maxValues!==void 0&&L.length>=e.maxValues)return;const W=e.emitValue===!0?C:t;o("add",{index:L.length,value:W}),L.push(W)}o("update:modelValue",L)}function Ie(t){if(c.platform.is.desktop!==!0)return;const w=t!==-1&&t<P.value?t:-1;v.value!==w&&(v.value=w)}function Ze(t=1,w){if(l.value===!0){let C=v.value;do C=tl(C+t,-1,P.value-1);while(C!==-1&&C!==v.value&&Ae.value(e.options[C])===!0);v.value!==C&&(Ie(C),pe(C),w!==!0&&e.useInput===!0&&e.fillInput===!0&&et(C>=0?se.value(e.options[C]):x,!0))}}function Rl(t,w){const C=L=>He(he.value(L),t);return e.options.find(C)||w.find(C)||t}function vt(t){const w=he.value(t);return Je.value.find(C=>He(C,w))!==void 0}function $t(t){e.useInput===!0&&S.value!==null&&(t===void 0||S.value===t.target&&t.target.value===s.value)&&S.value.select()}function Dt(t){pa(t,27)===!0&&l.value===!0&&(qe(t),Pe(),Te()),o("keyup",t)}function Tt(t){const{value:w}=t.target;if(t.keyCode!==void 0){Dt(t);return}if(t.target.value="",q!==null&&(clearTimeout(q),q=null),i!==null&&(clearTimeout(i),i=null),Te(),typeof w=="string"&&w.length!==0){const C=w.toLocaleLowerCase(),L=W=>{const ne=e.options.find(le=>String(W.value(le)).toLocaleLowerCase()===C);return ne===void 0?!1:(_.value.indexOf(ne)===-1?ze(ne):Pe(),!0)},Y=W=>{L(he)!==!0&&W!==!0&&L(se)!==!0&&Be(w,!0,()=>Y(!0))};Y()}else r.clearValue(t)}function Ot(t){o("keypress",t)}function Rt(t){if(o("keydown",t),fa(t)===!0)return;const w=h.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),C=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(v.value!==-1||w===!0);if(t.keyCode===27){gt(t);return}if(t.keyCode===9&&C===!1){$e();return}if(t.target===void 0||t.target.id!==r.targetUid.value||r.editable.value!==!0)return;if(t.keyCode===40&&r.innerLoading.value!==!0&&l.value===!1){ve(t),De();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&h.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?dt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(ve(t),v.value=-1,Ze(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&E.value!==void 0&&(ve(t),v.value=Math.max(-1,Math.min(P.value,v.value+(t.keyCode===33?-1:1)*E.value.view)),Ze(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ve(t),Ze(t.keyCode===38?-1:1,e.multiple));const L=P.value;if((D===void 0||V<Date.now())&&(D=""),L>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||D.length!==0)){l.value!==!0&&De(t);const Y=t.key.toLocaleLowerCase(),W=D.length===1&&D[0]===Y;V=Date.now()+1500,W===!1&&(ve(t),D+=Y);const ne=new RegExp("^"+D.split("").map(mt=>rn.indexOf(mt)!==-1?"\\"+mt:mt).join(".*"),"i");let le=v.value;if(W===!0||le<0||ne.test(se.value(e.options[le]))!==!0)do le=tl(le+1,-1,L-1);while(le!==v.value&&(Ae.value(e.options[le])===!0||ne.test(se.value(e.options[le]))!==!0));v.value!==le&&we(()=>{Ie(le),pe(le),le>=0&&e.useInput===!0&&e.fillInput===!0&&et(se.value(e.options[le]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||D!=="")&&(t.keyCode!==9||C===!1))){if(t.keyCode!==9&&ve(t),v.value!==-1&&v.value<L){ze(e.options[v.value]);return}if(w===!0){const Y=(W,ne)=>{if(ne){if(rl(ne)!==!0)return}else ne=e.newValueMode;if(Qe("",e.multiple!==!0,!0),W==null)return;(ne==="toggle"?ze:Bt)(W,ne==="add-unique"),e.multiple!==!0&&(S.value?.focus(),Pe())};if(e.onNewValue!==void 0?o("newValue",h.value,Y):Y(h.value),e.multiple!==!0)return}l.value===!0?$e():r.innerLoading.value!==!0&&De()}}function Et(){return a===!0?R.value:O.value!==null&&O.value.contentEl!==null?O.value.contentEl:void 0}function El(){return Et()}function Ml(){return e.hideSelected===!0?[]:u["selected-item"]!==void 0?Ve.value.map(t=>u["selected-item"](t)).slice():u.selected!==void 0?[].concat(u.selected()):e.useChips===!0?Ve.value.map((t,w)=>y(ln,{key:"option-"+w,removable:r.editable.value===!0&&Ae.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:J.value,onRemove(){t.removeAtIndex(w)}},()=>y("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:se.value(t.opt)}))):[y("span",{class:"ellipsis",[oe.value===!0?"innerHTML":"textContent"]:B.value})]}function Mt(){if(X.value===!0)return u["no-option"]!==void 0?u["no-option"]({inputValue:h.value}):void 0;const t=u.option!==void 0?u.option:C=>y(Fl,{key:C.index,...C.itemProps},()=>y(ot,()=>y(ut,()=>y("span",{[C.html===!0?"innerHTML":"textContent"]:C.label}))));let w=re("div",Ge.value.map(t));return u["before-options"]!==void 0&&(w=u["before-options"]().concat(w)),wl(u["after-options"],w)}function Ll(t,w){const C=w===!0?{...ke.value,...r.splitAttrs.attributes.value}:void 0,L={ref:w===!0?S:void 0,key:"i_t",class:N.value,style:e.inputStyle,value:h.value!==void 0?h.value:"",type:"search",...C,id:w===!0?r.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Tl.value};return t!==!0&&a===!0&&(Array.isArray(L.class)===!0?L.class=[...L.class,"no-pointer-events"]:L.class+=" no-pointer-events"),y("input",L)}function Lt(t){q!==null&&(clearTimeout(q),q=null),i!==null&&(clearTimeout(i),i=null),!(t&&t.target&&t.target.qComposing===!0)&&(et(t.target.value||""),k=!0,x=h.value,r.focused.value!==!0&&(a!==!0||F.value===!0)&&r.focus(),e.onFilter!==void 0&&(q=setTimeout(()=>{q=null,Be(h.value)},e.inputDebounce)))}function et(t,w){h.value!==t&&(h.value=t,w===!0||e.inputDebounce===0||e.inputDebounce==="0"?o("inputValue",t):i=setTimeout(()=>{i=null,o("inputValue",t)},e.inputDebounce))}function Qe(t,w,C){k=C!==!0,e.useInput===!0&&(et(t,!0),(w===!0||C!==!0)&&(x=t),w!==!0&&Be(t))}function Be(t,w,C){if(e.onFilter===void 0||w!==!0&&r.focused.value!==!0)return;r.innerLoading.value===!0?o("filterAbort"):(r.innerLoading.value=!0,d.value=!0),t!==""&&e.multiple!==!0&&_.value.length!==0&&k!==!0&&t===se.value(_.value[0])&&(t="");const L=setTimeout(()=>{l.value===!0&&(l.value=!1)},10);f!==null&&clearTimeout(f),f=L,o("filter",t,(Y,W)=>{(w===!0||r.focused.value===!0)&&f===L&&(clearTimeout(f),typeof Y=="function"&&Y(),d.value=!1,we(()=>{r.innerLoading.value=!1,r.editable.value===!0&&(w===!0?l.value===!0&&Pe():l.value===!0?ft(!0):l.value=!0),typeof W=="function"&&we(()=>{W(n)}),typeof C=="function"&&we(()=>{C(n)})}))},()=>{r.focused.value===!0&&f===L&&(clearTimeout(f),r.innerLoading.value=!1,d.value=!1),l.value===!0&&(l.value=!1)})}function Ul(){return y(Aa,{ref:O,class:M.value,style:e.popupContentStyle,modelValue:l.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&X.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:H.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:ct.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Fe.value,onScrollPassive:_e,onBeforeShow:Nt,onBeforeHide:Nl,onShow:Ql},Mt)}function Nl(t){Qt(t),$e()}function Ql(){xe()}function Hl(t){qe(t),S.value?.focus(),F.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function jl(t){qe(t),we(()=>{F.value=!1})}function Kl(){const t=[y(en,{class:`col-auto ${r.fieldClass.value}`,...T.value,for:r.targetUid.value,dark:H.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:h.value.length!==0,...r.splitAttrs.listeners.value,onFocus:Hl,onBlur:jl},{...u,rawControl:()=>r.getControl(!0),before:void 0,after:void 0})];return l.value===!0&&t.push(y("div",{ref:R,class:M.value+" scroll",style:e.popupContentStyle,...Fe.value,onClick:gt,onScrollPassive:_e},Mt())),y(xl,{ref:j,modelValue:p.value,position:e.useInput===!0?"top":void 0,transitionShow:b,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Nt,onBeforeHide:Wl,onHide:Xl,onShow:Yl},()=>y("div",{class:"q-select__dialog"+(H.value===!0?" q-select__dialog--dark q-dark":"")+(F.value===!0?" q-select__dialog--focused":"")},t))}function Wl(t){Qt(t),j.value!==null&&j.value.__updateRefocusTarget(r.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),r.focused.value=!1}function Xl(t){Pe(),r.focused.value===!1&&o("blur",t),Te()}function Yl(){const t=document.activeElement;(t===null||t.id!==r.targetUid.value)&&S.value!==null&&S.value!==t&&S.value.focus(),xe()}function $e(){p.value!==!0&&(v.value=-1,l.value===!0&&(l.value=!1),r.focused.value===!1&&(f!==null&&(clearTimeout(f),f=null),r.innerLoading.value===!0&&(o("filterAbort"),r.innerLoading.value=!1,d.value=!1)))}function De(t){r.editable.value===!0&&(a===!0?(r.onControlFocusin(t),p.value=!0,we(()=>{r.focus()})):r.focus(),e.onFilter!==void 0?Be(h.value):(X.value!==!0||u["no-option"]!==void 0)&&(l.value=!0))}function Pe(){p.value=!1,$e()}function Te(){e.useInput===!0&&Qe(e.multiple!==!0&&e.fillInput===!0&&_.value.length!==0&&se.value(_.value[0])||"",!0,!0)}function ft(t){let w=-1;if(t===!0){if(_.value.length!==0){const C=he.value(_.value[0]);w=e.options.findIndex(L=>He(he.value(L),C))}U(w)}Ie(w)}function Gl(t,w){l.value===!0&&r.innerLoading.value===!1&&(U(-1,!0),we(()=>{l.value===!0&&r.innerLoading.value===!1&&(t>w?U():ft(!0))}))}function Ut(){p.value===!1&&O.value!==null&&O.value.updatePosition()}function Nt(t){t!==void 0&&qe(t),o("popupShow",t),r.hasPopupOpen=!0,r.onControlFocusin(t)}function Qt(t){t!==void 0&&qe(t),o("popupHide",t),r.hasPopupOpen=!1,r.onControlFocusout(t)}function Ht(){a=c.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?u["no-option"]!==void 0||e.onFilter!==void 0||X.value===!1:!0),b=c.platform.is.ios===!0&&a===!0&&e.useInput===!0?"fade":e.transitionShow}return ma(Ht),ga(Ut),Ht(),Ye(()=>{q!==null&&clearTimeout(q),i!==null&&clearTimeout(i)}),Object.assign(n,{showPopup:De,hidePopup:Pe,removeAtIndex:dt,add:Bt,toggleOption:ze,getOptionIndex:()=>v.value,setOptionIndex:Ie,moveOptionSelection:Ze,filter:Be,updateMenuPosition:Ut,updateInputValue:Qe,isOptionSelected:vt,getEmittingOptionValue:It,isOptionDisabled:(...t)=>Ae.value.apply(null,t)===!0,getOptionValue:(...t)=>he.value.apply(null,t),getOptionLabel:(...t)=>se.value.apply(null,t)}),Object.assign(r,{innerValue:_,fieldClass:g(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:z,targetRef:S,hasValue:te,showPopup:De,floatingLabel:g(()=>e.hideSelected!==!0&&te.value===!0||typeof h.value=="number"||h.value.length!==0||Kt(e.displayValue)),getControlChild:()=>{if(r.editable.value!==!1&&(p.value===!0||X.value!==!0||u["no-option"]!==void 0))return a===!0?Kl():Ul();r.hasPopupOpen===!0&&(r.hasPopupOpen=!1)},controlEvents:{onFocusin(t){r.onControlFocusin(t)},onFocusout(t){r.onControlFocusout(t,()=>{Te(),$e()})},onClick(t){if(gt(t),a!==!0&&l.value===!0){$e(),S.value?.focus();return}De(t)}},getControl:t=>{const w=Ml(),C=t===!0||p.value!==!0||a!==!0;if(e.useInput===!0)w.push(Ll(t,C));else if(r.editable.value===!0){const Y=C===!0?ke.value:void 0;w.push(y("input",{ref:C===!0?S:void 0,key:"d_t",class:"q-select__focus-target",id:C===!0?r.targetUid.value:void 0,value:B.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...Y,onKeydown:Rt,onKeyup:Dt,onKeypress:Ot})),C===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&w.push(y("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Tt}))}if(I.value!==void 0&&e.disable!==!0&&Je.value.length!==0){const Y=Je.value.map(W=>y("option",{value:W,selected:!0}));w.push(y("select",{class:"hidden",name:I.value,multiple:e.multiple},Y))}const L=e.useInput===!0||C!==!0?void 0:r.splitAttrs.attributes.value;return y("div",{class:"q-field__native row items-center",...L,...r.splitAttrs.listeners.value},w)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[y(Ee,{class:"q-select__dropdown-icon"+(l.value===!0?" rotate-180":""),name:Ue.value})]:null}),hl(r)}});function At(){const{emit:e,proxy:u}=ge(),o=$(null);function n(){o.value.show()}function c(){o.value.hide()}function l(v){e("ok",v),c()}function p(){e("hide")}return Object.assign(u,{show:n,hide:c}),{dialogRef:o,onDialogHide:p,onDialogOK:l,onDialogCancel:c}}const Dl=["ok","hide"];At.emits=Dl;At.emitsObject=Bl(Dl);function cn(e){const u=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((o,n)=>{const c=parseFloat(o);c&&(u[n]=c)}),u}const dn=ha({name:"touch-swipe",beforeMount(e,{value:u,arg:o,modifiers:n}){if(n.mouse!==!0&&Re.has.touch!==!0)return;const c=n.mouseCapture===!0?"Capture":"",l={handler:u,sensitivity:cn(o),direction:ll(n),noop:bl,mouseStart(p){al(p,l)&&ya(p)&&(tt(l,"temp",[[document,"mousemove","move",`notPassive${c}`],[document,"mouseup","end","notPassiveCapture"]]),l.start(p,!0))},touchStart(p){if(al(p,l)){const v=p.target;tt(l,"temp",[[v,"touchmove","move","notPassiveCapture"],[v,"touchcancel","end","notPassiveCapture"],[v,"touchend","end","notPassiveCapture"]]),l.start(p)}},start(p,v){Re.is.firefox===!0&&ht(e,!0);const h=Wt(p);l.event={x:h.left,y:h.top,time:Date.now(),mouse:v===!0,dir:!1}},move(p){if(l.event===void 0)return;if(l.event.dir!==!1){ve(p);return}const v=Date.now()-l.event.time;if(v===0)return;const h=Wt(p),F=h.left-l.event.x,d=Math.abs(F),q=h.top-l.event.y,i=Math.abs(q);if(l.event.mouse!==!0){if(d<l.sensitivity[1]&&i<l.sensitivity[1]){l.end(p);return}}else if(window.getSelection().toString()!==""){l.end(p);return}else if(d<l.sensitivity[2]&&i<l.sensitivity[2])return;const m=d/v,a=i/v;l.direction.vertical===!0&&d<i&&d<100&&a>l.sensitivity[0]&&(l.event.dir=q<0?"up":"down"),l.direction.horizontal===!0&&d>i&&i<100&&m>l.sensitivity[0]&&(l.event.dir=F<0?"left":"right"),l.direction.up===!0&&d<i&&q<0&&d<100&&a>l.sensitivity[0]&&(l.event.dir="up"),l.direction.down===!0&&d<i&&q>0&&d<100&&a>l.sensitivity[0]&&(l.event.dir="down"),l.direction.left===!0&&d>i&&F<0&&i<100&&m>l.sensitivity[0]&&(l.event.dir="left"),l.direction.right===!0&&d>i&&F>0&&i<100&&m>l.sensitivity[0]&&(l.event.dir="right"),l.event.dir!==!1?(ve(p),l.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ba(),l.styleCleanup=k=>{l.styleCleanup=void 0,document.body.classList.remove("non-selectable");const f=()=>{document.body.classList.remove("no-pointer-events--children")};k===!0?setTimeout(f,50):f()}),l.handler({evt:p,touch:l.event.mouse!==!0,mouse:l.event.mouse,direction:l.event.dir,duration:v,distance:{x:d,y:i}})):l.end(p)},end(p){l.event!==void 0&&(pt(l,"temp"),Re.is.firefox===!0&&ht(e,!1),l.styleCleanup?.(!0),p!==void 0&&l.event.dir!==!1&&ve(p),l.event=void 0)}};if(e.__qtouchswipe=l,n.mouse===!0){const p=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";tt(l,"main",[[e,"mousedown","mouseStart",`passive${p}`]])}Re.has.touch===!0&&tt(l,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,u){const o=e.__qtouchswipe;o!==void 0&&(u.oldValue!==u.value&&(typeof u.value!="function"&&o.end(),o.handler=u.value),o.direction=ll(u.modifiers))},beforeUnmount(e){const u=e.__qtouchswipe;u!==void 0&&(pt(u,"main"),pt(u,"temp"),Re.is.firefox===!0&&ht(e,!1),u.styleCleanup?.(),delete e.__qtouchswipe)}});function vn(){let e=Object.create(null);return{getCache:(u,o)=>e[u]===void 0?e[u]=typeof o=="function"?o():o:e[u],setCache(u,o){e[u]=o},hasCache(u){return Object.hasOwnProperty.call(e,u)},clearCache(u){u!==void 0?delete e[u]:e=Object.create(null)}}}const fn={name:{required:!0},disable:Boolean},cl={setup(e,{slots:u}){return()=>y("div",{class:"q-panel scroll",role:"tabpanel"},Xe(u.default))}},mn={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},gn=["update:modelValue","beforeTransition","transition"];function pn(){const{props:e,emit:u,proxy:o}=ge(),{getCache:n}=vn(),{registerTimeout:c}=Sa();let l,p;const v=$(null),h={value:null};function F(A){const E=e.vertical===!0?"up":"left";j((o.$q.lang.rtl===!0?-1:1)*(A.direction===E?1:-1))}const d=g(()=>[[dn,F,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),q=g(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),i=g(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),m=g(()=>`--q-transition-duration: ${e.transitionDuration}ms`),a=g(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),k=g(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),f=g(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ce(()=>e.modelValue,(A,E)=>{const U=V(A)===!0?z(A):-1;p!==!0&&O(U===-1?0:U<z(E)?-1:1),h.value!==U&&(h.value=U,u("beforeTransition",A,E),c(()=>{u("transition",A,E)},e.transitionDuration))});function x(){j(1)}function b(){j(-1)}function D(A){u("update:modelValue",A)}function V(A){return A!=null&&A!==""}function z(A){return l.findIndex(E=>E.props.name===A&&E.props.disable!==""&&E.props.disable!==!0)}function S(){return l.filter(A=>A.props.disable!==""&&A.props.disable!==!0)}function O(A){const E=A!==0&&e.animated===!0&&h.value!==-1?"q-transition--"+(A===-1?q.value:i.value):null;v.value!==E&&(v.value=E)}function j(A,E=h.value){let U=E+A;for(;U!==-1&&U<l.length;){const re=l[U];if(re!==void 0&&re.props.disable!==""&&re.props.disable!==!0){O(A),p=!0,u("update:modelValue",re.props.name),setTimeout(()=>{p=!1});return}U+=A}e.infinite===!0&&l.length!==0&&E!==-1&&E!==l.length&&j(A,A===-1?l.length:-1)}function R(){const A=z(e.modelValue);return h.value!==A&&(h.value=A),!0}function I(){const A=V(e.modelValue)===!0&&R()&&l[h.value];return e.keepAlive===!0?[y(xa,k.value,[y(f.value===!0?n(a.value,()=>({...cl,name:a.value})):cl,{key:a.value,style:m.value},()=>A)])]:[y("div",{class:"q-panel scroll",style:m.value,key:a.value,role:"tabpanel"},[A])]}function ee(){if(l.length!==0)return e.animated===!0?[y(ba,{name:v.value},I)]:I()}function P(A){return l=_a(Xe(A.default,[])).filter(E=>E.props!==null&&E.props.slot===void 0&&V(E.props.name)===!0),l.length}function K(){return l}return Object.assign(o,{next:x,previous:b,goTo:D}),{panelIndex:h,panelDirectives:d,updatePanelsList:P,updatePanelIndex:R,getPanelContent:ee,getEnabledPanels:S,getPanels:K,isValidPanelName:V,keepAliveProps:k,needsUniqueKeepAliveWrapper:f,goToPanelByOffset:j,goToPanel:D,nextPanel:x,previousPanel:b}}const hn=Se({name:"QCarouselSlide",props:{...fn,imgSrc:String},setup(e,{slots:u}){const o=g(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>y("div",{class:"q-carousel__slide",style:o.value},Xe(u.default))}}),yn=Se({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,default:()=>[18,18],validator:e=>e.length===2}},setup(e,{slots:u}){const o=g(()=>`q-carousel__control absolute absolute-${e.position}`),n=g(()=>({margin:`${e.offset[1]}px ${e.offset[0]}px`}));return()=>y("div",{class:o.value,style:n.value},Xe(u.default))}});let We=0;const Sn={fullscreen:Boolean,noRouteFullscreenExit:Boolean},bn=["update:fullscreen","fullscreen"];function _n(){const e=ge(),{props:u,emit:o,proxy:n}=e;let c,l,p;const v=$(!1);wa(e)===!0&&ce(()=>n.$route.fullPath,()=>{u.noRouteFullscreenExit!==!0&&d()}),ce(()=>u.fullscreen,q=>{v.value!==q&&h()}),ce(v,q=>{o("update:fullscreen",q),o("fullscreen",q)});function h(){v.value===!0?d():F()}function F(){v.value!==!0&&(v.value=!0,p=n.$el.parentNode,p.replaceChild(l,n.$el),document.body.appendChild(n.$el),We++,We===1&&document.body.classList.add("q-body--fullscreen-mixin"),c={handler:d},Xt.add(c))}function d(){v.value===!0&&(c!==void 0&&(Xt.remove(c),c=void 0),p.replaceChild(n.$el,l),v.value=!1,We=Math.max(0,We-1),We===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),n.$el.scrollIntoView!==void 0&&setTimeout(()=>{n.$el.scrollIntoView()})))}return _l(()=>{l=document.createElement("span")}),rt(()=>{u.fullscreen===!0&&F()}),Ye(d),Object.assign(n,{toggleFullscreen:h,setFullscreen:F,exitFullscreen:d}),{inFullscreen:v,toggleFullscreen:h}}const xn=["top","right","bottom","left"],wn=["regular","flat","outline","push","unelevated"],Cn=Se({name:"QCarousel",props:{...wt,...mn,...Sn,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>wn.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>xn.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...bn,...gn],setup(e,{slots:u}){const{proxy:{$q:o}}=ge(),n=Ct(e,o);let c=null,l;const{updatePanelsList:p,getPanelContent:v,panelDirectives:h,goToPanel:F,previousPanel:d,nextPanel:q,getEnabledPanels:i,panelIndex:m}=pn(),{inFullscreen:a}=_n(),k=g(()=>a.value!==!0&&e.height!==void 0?{height:e.height}:{}),f=g(()=>e.vertical===!0?"vertical":"horizontal"),x=g(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),b=g(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(a.value===!0?" fullscreen":"")+(n.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${f.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${x.value}`:"")),D=g(()=>{const I=[e.prevIcon||o.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||o.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&o.lang.rtl===!0?I.reverse():I}),V=g(()=>e.navigationIcon||o.iconSet.carousel.navigationIcon),z=g(()=>e.navigationActiveIcon||V.value),S=g(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));ce(()=>e.modelValue,()=>{e.autoplay&&O()}),ce(()=>e.autoplay,I=>{I?O():c!==null&&(clearTimeout(c),c=null)});function O(){const I=Ca(e.autoplay)===!0?Math.abs(e.autoplay):5e3;c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,I>=0?q():d()},I)}rt(()=>{e.autoplay&&O()}),Ye(()=>{c!==null&&clearTimeout(c)});function j(I,ee){return y("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${I} q-carousel__navigation--${x.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[y("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},i().map(ee))])}function R(){const I=[];if(e.navigation===!0){const ee=u["navigation-icon"]!==void 0?u["navigation-icon"]:K=>y(de,{key:"nav"+K.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${K.active===!0?"":"in"}active`,...K.btnProps,onClick:K.onClick}),P=l-1;I.push(j("buttons",(K,A)=>{const E=K.props.name,U=m.value===A;return ee({index:A,maxIndex:P,name:E,active:U,btnProps:{icon:U===!0?z.value:V.value,size:"sm",...S.value},onClick:()=>{F(E)}})}))}else if(e.thumbnails===!0){const ee=e.controlColor!==void 0?` text-${e.controlColor}`:"";I.push(j("thumbnails",P=>{const K=P.props;return y("img",{key:"tmb#"+K.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${K.name===e.modelValue?"":"in"}active`+ee,src:K.imgSrc||K["img-src"],onClick:()=>{F(K.name)}})}))}return e.arrows===!0&&m.value>=0&&((e.infinite===!0||m.value>0)&&I.push(y("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${f.value} absolute flex flex-center`},[y(de,{icon:D.value[0],...S.value,onClick:d})])),(e.infinite===!0||m.value<l-1)&&I.push(y("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${f.value} absolute flex flex-center`},[y(de,{icon:D.value[1],...S.value,onClick:q})]))),wl(u.control,I)}return()=>(l=p(u),y("div",{class:b.value,style:k.value},[Sl("div",{class:"q-carousel__slides-container"},v(),"sl-cont",e.swipeable,()=>h.value)].concat(R())))}}),qn=st({__name:"ProductImgCarusel",props:{images:{}},emits:["refresh-data"],setup(e,{emit:u}){const o=e,n=u,c=Vt(),l=Ft(),p=kt(),{isManager:v}=zt(g(()=>p.user?.role)),h=$(0),F=$(!1);function d(){c.dialog({title:" ",message:"     ?",cancel:!0,persistent:!0}).onOk(()=>{q()})}async function q(){try{const i=o.images[h.value];await l.deleteFile(i.id),n("refresh-data")}catch(i){console.error(i)}}return(i,m)=>(ae(),ie(Cn,{swipeable:"",animated:"",arrows:"",modelValue:h.value,"onUpdate:modelValue":m[2]||(m[2]=a=>h.value=a),fullscreen:F.value,"onUpdate:fullscreen":m[3]||(m[3]=a=>F.value=a),infinite:"",height:ye(v)?"200px":"250px",class:"q-mb-sm"},{control:Z(()=>[Q(yn,{position:"bottom-right",offset:[18,18]},{default:Z(()=>[ye(v)?Me("",!0):(ae(),ie(de,{key:0,push:"",round:"",dense:"",color:"white","text-color":"primary",icon:F.value?"fullscreen_exit":"fullscreen",onClick:m[0]||(m[0]=a=>F.value=!F.value)},null,8,["icon"])),ye(v)?(ae(),ie(de,{key:1,round:"",dense:"","text-color":"red",icon:"delete",onClick:m[1]||(m[1]=a=>d())})):Me("",!0)]),_:1})]),default:Z(()=>[(ae(!0),it(ql,null,Cl(i.images,(a,k)=>(ae(),ie(hn,{key:k,name:k,"img-src":a.file_path,class:"card-image"},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue","fullscreen","height"]))}}),dl=Pt(qn,[["__scopeId","data-v-11af1822"]]),kn={class:"text-h6 q-mb-md"},Fn={class:"text-center upload-title"},Vn={key:1},zn={class:"text-h6 text-center q-mt-sm"},Pn={class:"text-bold"},An=st({__name:"AddProductModal",props:{productData:{}},emits:["refresh-data","add-product"],setup(e,{emit:u}){const o=e,n=u,c=Vt(),l=Ft(),p=$a(),{dialogRef:v}=At(),h=kt(),{isManager:F}=zt(g(()=>h.user?.role)),d=zl(),q=$(!1),i=$({id:null,name:"",price:null,category_id:null,unit_id:null,qty:null,description:"",images:"",origin_country:"",unit:null}),m=new FormData;rt(()=>{o.productData&&(i.value=o.productData)});async function a(){try{let V=null;i.value?.id?V=l.updateProduct(i.value):(f(),V=await l.createProduct(m)),V&&(i.value.id=V.id,c.notify({message:" ",color:"primary"}),n("refresh-data"))}catch(V){console.error(V)}}function k(){n("add-product",i.value)}function f(){i?.value?.id&&m.append("id",i.value.id.toString()),i.value?.name&&m.append("name",i.value.name),i.value?.price&&m.append("price",i.value.price.toString()),i.value?.category_id&&m.append("category_id",i.value.category_id.toString()),i.value?.unit_id&&m.append("unit_id",i.value.unit_id.toString()),i.value?.qty&&m.append("qty",i.value.qty.toString()),i.value?.description&&m.append("description",i.value.description),i.value?.origin_country&&m.append("origin_country",i.value.origin_country)}function x(V){const z=new FileReader;z.readAsDataURL(V[0]),z.onload=()=>{},m.append("images",V[0]),i.value?.id&&b(V[0])}async function b(V){const z=new FormData;z.append("file",V),z.append("is_primary","true");try{await l.uploadFile(i.value.id,z)&&(D(),c.notify({message:"  ",color:"primary"}))}catch(S){console.error(S)}}async function D(){try{const V=await l.fetchProductsById(i.value.id);i.value=V}catch(V){console.error(V)}}return(V,z)=>(ae(),ie(xl,{ref_key:"dialogRef",ref:v,modelValue:q.value,"onUpdate:modelValue":z[10]||(z[10]=S=>q.value=S),persistent:""},{default:Z(()=>[Q(qa,{class:"add-product"},{default:Z(()=>[ye(F)?(ae(),ie(nl,{key:0,greedy:""},{default:Z(()=>[Q(Yt,null,{default:Z(()=>[ue("div",kn,fe(i.value.id?" ":" "),1),Q(Za,{ref:"uploaderRef",color:"primary",flat:"",onAdded:x},{header:Z(()=>[...z[11]||(z[11]=[])]),list:Z(()=>[Q(Ta),ue("div",Fn,[Q(Ee,{class:"q-mr-sm",name:"note_add",size:"24px"}),z[12]||(z[12]=ue("span",null," ",-1))])]),_:1},512),ue("div",null,[i.value?.images?.length?(ae(),ie(dl,{key:0,onRefreshData:z[0]||(z[0]=S=>D()),images:i.value.images},null,8,["images"])):Me("",!0)]),Q(je,{modelValue:i.value.name,"onUpdate:modelValue":z[1]||(z[1]=S=>i.value.name=S),class:"q-mb-xs",outlined:"",label:" "},null,8,["modelValue"]),Q(je,{modelValue:i.value.price,"onUpdate:modelValue":z[2]||(z[2]=S=>i.value.price=S),class:"q-mb-xs",outlined:"",label:" "},null,8,["modelValue"]),Q(je,{modelValue:i.value.qty,"onUpdate:modelValue":z[3]||(z[3]=S=>i.value.qty=S),class:"q-mb-xs",outlined:"",label:""},null,8,["modelValue"]),Q(je,{modelValue:i.value.origin_country,"onUpdate:modelValue":z[4]||(z[4]=S=>i.value.origin_country=S),class:"q-mb-xs",outlined:"",label:" "},null,8,["modelValue"]),Q(sl,{modelValue:i.value.category_id,"onUpdate:modelValue":z[5]||(z[5]=S=>i.value.category_id=S),options:ye(p).categories,class:"q-mb-xs",outlined:"",label:"","emit-value":"","map-options":"","option-label":"name","option-value":"id"},null,8,["modelValue","options"]),Q(sl,{modelValue:i.value.unit_id,"onUpdate:modelValue":z[6]||(z[6]=S=>i.value.unit_id=S),options:ye(d).units,outlined:"",label:" ","emit-value":"","map-options":"","option-label":"name","option-value":"id"},null,8,["modelValue","options"]),Q(je,{class:"q-mt-sm",modelValue:i.value.description,"onUpdate:modelValue":z[7]||(z[7]=S=>i.value.description=S),outlined:"",type:"textarea",rows:"2",label:""},null,8,["modelValue"])]),_:1}),Q(Gt,{align:"right"},{default:Z(()=>[lt(Q(de,{color:"red",label:""},null,512),[[at]]),lt(Q(de,{color:"primary",label:"",onClick:z[8]||(z[8]=S=>a())},null,512),[[at]])]),_:1})]),_:1})):(ae(),ie(nl,{key:1},{default:Z(()=>[Q(Yt,null,{default:Z(()=>[ue("div",null,[i.value?.images?.length?(ae(),ie(dl,{key:0,images:i.value.images},null,8,["images"])):(ae(),it("div",Vn,[Q(kl,{class:"q-mt-sm",src:ye(Vl)("/card-shop.jpg")},null,8,["src"])]))]),ue("div",zn,fe(i.value.name),1),ue("div",Pn," : "+fe(i.value.price),1),ue("div",null,": 11 "+fe(i.value?.unit?.name||"")+".",1),ue("div",null," : "+fe(i.value.origin_country),1),ue("div",null,": "+fe(i.value.description),1)]),_:1}),Q(Gt,{align:"right"},{default:Z(()=>[lt(Q(de,{color:"red",label:""},null,512),[[at]]),lt(Q(de,{color:"primary",label:"  ",onClick:z[9]||(z[9]=S=>k())},null,512),[[at]])]),_:1})]),_:1}))]),_:1})]),_:1},8,["modelValue"]))}}),In=Pt(An,[["__scopeId","data-v-74dadd3f"]]),Bn={class:"product-card"},$n={key:0,class:"text-grey old-price"},Dn={class:"row items-end"},Tn=st({__name:"ProductList",setup(e){const u=Vt(),o=zl(),n=Ft(),c=za(),l=kt(),{isManager:p}=zt(g(()=>l.user?.role)),v=$(!1),h=$(!1),F=$();rt(async()=>{try{await o.fetchUnits(),u.loading.show()}catch(k){console.error(k)}finally{u.loading.hide()}});function d(){n.pagination.offset=0,q()}async function q(){try{u.loading.show();const k={offset:n.pagination.offset,limit:n.pagination.limit},f=await n.fetchProducts(k);f&&(n.pagination.total=f.total,n.pagination.has_more=f.has_more,n?.products?.length?n.products.push(f.items):n.products=f.items)}catch(k){console.error(k)}finally{u.loading.hide()}}function i(k){try{u.loading.show(),c.basketData?.length?c.basketData.push(structuredClone(Jt(k))):c.basketData.push(structuredClone(Jt(k)))}catch(f){console.error(f)}finally{u.notify({message:` ${k.name}   `,color:"primary"}),u.loading.hide()}}const m=async(k,f)=>{if(!n.pagination.has_more){v.value=!0,f(!0);return}await q(),n.pagination.offset+=n.pagination.limit,f()};function a(k){F.value=k,h.value=!h.value}return(k,f)=>(ae(),ie(Ia,{onLoad:m,offset:250},{default:Z(()=>[ye(p)?(ae(),ie(de,{key:0,onClick:f[0]||(f[0]=x=>a()),class:"full-width q-mb-sm",color:"secondary",label:" "})):Me("",!0),ue("div",Bn,[(ae(!0),it(ql,null,Cl(ye(n).products,(x,b)=>(ae(),ie(Pa,{key:b},{default:Z(()=>[Q(Fl,null,{default:Z(()=>[Q(ot,{top:"",avatar:"",onClick:D=>a(x)},{default:Z(()=>[Q(kl,{class:"cursor-pointer radius-8",src:x[0]?.primary_image?x[0].primary_image:ye(Vl)("/card-shop.jpg"),height:"80px",width:"80px",fit:"cover"},null,8,["src"])]),_:2},1032,["onClick"]),Q(ot,{class:"column justify-between",onClick:D=>a(x)},{default:Z(()=>[Q(ut,{caption:"",class:"text-size-16"},{default:Z(()=>[Zt(fe(x.name),1)]),_:2},1024),Q(ut,null,{default:Z(()=>[x?.old_price?(ae(),it("div",$n,fe(x.old_price)+" ",1)):Me("",!0),ue("div",{class:ka(x?.old_price?"text-red":"")},fe(x.price)+" / "+fe(x.unit_name),3)]),_:2},1024)]),_:2},1032,["onClick"]),Q(ot,{side:"",top:"",class:"column justify-between"},{default:Z(()=>[f[3]||(f[3]=ue("div",null,null,-1)),ue("div",Dn,[Q(ut,{class:"q-mr-xs",caption:""},{default:Z(()=>[Zt(fe(x.price)+" / "+fe(x.unit_name),1)]),_:2},1024),Q(de,{dense:"",round:"",color:"green",icon:"shopping_cart",onClick:D=>i(x)},null,8,["onClick"])])]),_:2},1024)]),_:2},1024),Q(Fa,{spaced:"",inset:""})]),_:2},1024))),128))]),h.value?(ae(),ie(In,{key:1,modelValue:h.value,"onUpdate:modelValue":f[1]||(f[1]=x=>h.value=x),productData:F.value,onRefreshData:f[2]||(f[2]=x=>d()),onAddProduct:i},null,8,["modelValue","productData"])):Me("",!0)]),_:1}))}}),On=Pt(Tn,[["__scopeId","data-v-402c7906"]]),Wn=st({__name:"DashboardPage",setup(e){return(u,o)=>(ae(),ie(Da,{class:"q-mx-xs"},{default:Z(()=>[Q(On,{class:"q-mb-lg"})]),_:1}))}});export{Wn as default};
