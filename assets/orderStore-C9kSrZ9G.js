import{b5 as J,r as b,b6 as x,D as re,E as j,G as N,H as R,p as ne,I as O,N as F,J as Q,M as ie,g as Z,U as H,c as m,w as ee,h as S,a6 as te,b7 as oe,l as K,aA as ae,k as ue,m as se,o as le,aK as ce,aL as V}from"./index-B91JE9Op.js";import{c as de}from"./selection-Cf7x3ZwH.js";const U={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},ve=Object.keys(U);U.all=!0;function X(e){const t={};for(const i of ve)e[i]===!0&&(t[i]=!0);return Object.keys(t).length===0?U:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const fe=["INPUT","TEXTAREA"];function W(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&fe.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}const Y=["B","KB","MB","GB","TB","PB"];function Ce(e,t=1){let i=0;for(;parseInt(e,10)>=1024&&i<Y.length-1;)e/=1024,++i;return`${e.toFixed(t)}${Y[i]}`}function xe(e,t,i){return i<=t?t:Math.min(i,Math.max(t,e))}function Ae(e,t,i){if(i<=t)return t;const d=i-t+1;let c=t+(e-t)%d;return c<t&&(c=d+c),c===0?0:c}const Te=J("Products",()=>{const e=b(),t=b({offset:0,limit:20,total:0,has_more:!0});async function i(s){return x.post("products",s).then(n=>n.data).catch(n=>{throw console.error("[ProductsStore] - An error occurred while createing via product",n.message),n})}async function d(s){return x.patch(`/products/${s.id}`,s).then(n=>n.data).catch(n=>{throw console.error("[ProductsStore] - An error occurred while creating via updateProduct",n.message),n})}async function c(s){return x.get(`/products/${s}`).then(n=>n.data).catch(n=>{throw console.error("[ProductsStore] - An error occurred while fetching via product",n.message),n})}async function r(s){return x.get("products",{params:s}).then(n=>n.data).catch(n=>{throw console.error("[ProductsStore] - An error occurred while fetching via products",n.message),n})}async function a(s){return x.delete(`products/${s}`).then(n=>n.data).catch(n=>{throw console.error("[ProductsStore] - An error occurred while deleting via Product",n.message),n})}async function v(s,n){return x.post(`/products/${s}/images`,n).then(p=>p.data).catch(p=>{throw console.error("[ProductsStore] - An error occurred while createing via uploadFile",p.message),p})}async function g(s){return x.delete(`/products/images/${s}`).then(n=>n.data).catch(n=>{throw console.error("[ProductsStore] - An error occurred while createing via deleteFile",n.message),n})}return{pagination:t,products:e,createProduct:i,updateProduct:d,fetchProducts:r,deleteProduct:a,fetchProductsById:c,uploadFile:v,deleteFile:g}});let ge=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,ge=e.scrollLeft>=0,e.remove()}function he(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((i,d)=>{const c=parseFloat(i);c&&(t[d]=c)}),t}const me=re({name:"touch-swipe",beforeMount(e,{value:t,arg:i,modifiers:d}){if(d.mouse!==!0&&N.has.touch!==!0)return;const c=d.mouseCapture===!0?"Capture":"",r={handler:t,sensitivity:he(i),direction:X(d),noop:ne,mouseStart(a){W(a,r)&&ie(a)&&(O(r,"temp",[[document,"mousemove","move",`notPassive${c}`],[document,"mouseup","end","notPassiveCapture"]]),r.start(a,!0))},touchStart(a){if(W(a,r)){const v=a.target;O(r,"temp",[[v,"touchmove","move","notPassiveCapture"],[v,"touchcancel","end","notPassiveCapture"],[v,"touchend","end","notPassiveCapture"]]),r.start(a)}},start(a,v){N.is.firefox===!0&&R(e,!0);const g=Q(a);r.event={x:g.left,y:g.top,time:Date.now(),mouse:v===!0,dir:!1}},move(a){if(r.event===void 0)return;if(r.event.dir!==!1){F(a);return}const v=Date.now()-r.event.time;if(v===0)return;const g=Q(a),s=g.left-r.event.x,n=Math.abs(s),p=g.top-r.event.y,l=Math.abs(p);if(r.event.mouse!==!0){if(n<r.sensitivity[1]&&l<r.sensitivity[1]){r.end(a);return}}else if(window.getSelection().toString()!==""){r.end(a);return}else if(n<r.sensitivity[2]&&l<r.sensitivity[2])return;const h=n/v,y=l/v;r.direction.vertical===!0&&n<l&&n<100&&y>r.sensitivity[0]&&(r.event.dir=p<0?"up":"down"),r.direction.horizontal===!0&&n>l&&l<100&&h>r.sensitivity[0]&&(r.event.dir=s<0?"left":"right"),r.direction.up===!0&&n<l&&p<0&&n<100&&y>r.sensitivity[0]&&(r.event.dir="up"),r.direction.down===!0&&n<l&&p>0&&n<100&&y>r.sensitivity[0]&&(r.event.dir="down"),r.direction.left===!0&&n>l&&s<0&&l<100&&h>r.sensitivity[0]&&(r.event.dir="left"),r.direction.right===!0&&n>l&&s>0&&l<100&&h>r.sensitivity[0]&&(r.event.dir="right"),r.event.dir!==!1?(F(a),r.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),de(),r.styleCleanup=w=>{r.styleCleanup=void 0,document.body.classList.remove("non-selectable");const A=()=>{document.body.classList.remove("no-pointer-events--children")};w===!0?setTimeout(A,50):A()}),r.handler({evt:a,touch:r.event.mouse!==!0,mouse:r.event.mouse,direction:r.event.dir,duration:v,distance:{x:n,y:l}})):r.end(a)},end(a){r.event!==void 0&&(j(r,"temp"),N.is.firefox===!0&&R(e,!1),r.styleCleanup?.(!0),a!==void 0&&r.event.dir!==!1&&F(a),r.event=void 0)}};if(e.__qtouchswipe=r,d.mouse===!0){const a=d.mouseCapture===!0||d.mousecapture===!0?"Capture":"";O(r,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}N.has.touch===!0&&O(r,"main",[[e,"touchstart","touchStart",`passive${d.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const i=e.__qtouchswipe;i!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&i.end(),i.handler=t.value),i.direction=X(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(j(t,"main"),j(t,"temp"),N.is.firefox===!0&&R(e,!1),t.styleCleanup?.(),delete e.__qtouchswipe)}});function pe(){let e=Object.create(null);return{getCache:(t,i)=>e[t]===void 0?e[t]=typeof i=="function"?i():i:e[t],setCache(t,i){e[t]=i},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const _e={name:{required:!0},disable:Boolean},G={setup(e,{slots:t}){return()=>S("div",{class:"q-panel scroll",role:"tabpanel"},K(t.default))}},qe={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ke=["update:modelValue","beforeTransition","transition"];function Be(){const{props:e,emit:t,proxy:i}=Z(),{getCache:d}=pe(),{registerTimeout:c}=H();let r,a;const v=b(null),g={value:null};function s(o){const f=e.vertical===!0?"up":"left";_((i.$q.lang.rtl===!0?-1:1)*(o.direction===f?1:-1))}const n=m(()=>[[me,s,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),p=m(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),l=m(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),h=m(()=>`--q-transition-duration: ${e.transitionDuration}ms`),y=m(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),w=m(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),A=m(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ee(()=>e.modelValue,(o,f)=>{const C=q(o)===!0?T(o):-1;a!==!0&&k(C===-1?0:C<T(f)?-1:1),g.value!==C&&(g.value=C,t("beforeTransition",o,f),c(()=>{t("transition",o,f)},e.transitionDuration))});function $(){_(1)}function z(){_(-1)}function L(o){t("update:modelValue",o)}function q(o){return o!=null&&o!==""}function T(o){return r.findIndex(f=>f.props.name===o&&f.props.disable!==""&&f.props.disable!==!0)}function D(){return r.filter(o=>o.props.disable!==""&&o.props.disable!==!0)}function k(o){const f=o!==0&&e.animated===!0&&g.value!==-1?"q-transition--"+(o===-1?p.value:l.value):null;v.value!==f&&(v.value=f)}function _(o,f=g.value){let C=f+o;for(;C!==-1&&C<r.length;){const I=r[C];if(I!==void 0&&I.props.disable!==""&&I.props.disable!==!0){k(o),a=!0,t("update:modelValue",I.props.name),setTimeout(()=>{a=!1});return}C+=o}e.infinite===!0&&r.length!==0&&f!==-1&&f!==r.length&&_(o,o===-1?r.length:-1)}function E(){const o=T(e.modelValue);return g.value!==o&&(g.value=o),!0}function B(){const o=q(e.modelValue)===!0&&E()&&r[g.value];return e.keepAlive===!0?[S(ae,w.value,[S(A.value===!0?d(y.value,()=>({...G,name:y.value})):G,{key:y.value,style:h.value},()=>o)])]:[S("div",{class:"q-panel scroll",style:h.value,key:y.value,role:"tabpanel"},[o])]}function M(){if(r.length!==0)return e.animated===!0?[S(te,{name:v.value},B)]:B()}function u(o){return r=oe(K(o.default,[])).filter(f=>f.props!==null&&f.props.slot===void 0&&q(f.props.name)===!0),r.length}function P(){return r}return Object.assign(i,{next:$,previous:z,goTo:L}),{panelIndex:g,panelDirectives:n,updatePanelsList:u,updatePanelIndex:E,getPanelContent:M,getEnabledPanels:D,getPanels:P,isValidPanelName:q,keepAliveProps:w,needsUniqueKeepAliveWrapper:A,goToPanelByOffset:_,goToPanel:L,nextPanel:$,previousPanel:z}}const ye={ratio:[String,Number]};function Se(e,t){return m(()=>{const i=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(i)!==!0&&i>0?{paddingBottom:`${100/i}%`}:null})}const be=1.7778,Ne=ue({name:"QImg",props:{...ye,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:be},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:i}){const d=b(e.initialRatio),c=Se(e,d),r=Z(),{registerTimeout:a,removeTimeout:v}=H(),{registerTimeout:g,removeTimeout:s}=H(),n=m(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),p=m(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),l=[b(null),b(n.value)],h=b(0),y=b(!1),w=b(!1),A=m(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),$=m(()=>({width:e.width,height:e.height})),z=m(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),L=m(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function q(){if(s(),e.loadingShowDelay===0){y.value=!0;return}g(()=>{y.value=!0},e.loadingShowDelay)}function T(){s(),y.value=!1}function D({target:u}){V(r)===!1&&(v(),d.value=u.naturalHeight===0?.5:u.naturalWidth/u.naturalHeight,k(u,1))}function k(u,P){P===1e3||V(r)===!0||(u.complete===!0?_(u):a(()=>{k(u,P+1)},50))}function _(u){V(r)!==!0&&(h.value=h.value^1,l[h.value].value=null,T(),u.getAttribute("__qerror")!=="true"&&(w.value=!1),i("load",u.currentSrc||u.src))}function E(u){v(),T(),w.value=!0,l[h.value].value=p.value,l[h.value^1].value=n.value,i("error",u)}function B(u){const P=l[u].value,o={key:"img_"+u,class:z.value,style:L.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...P};return h.value===u?Object.assign(o,{class:o.class+"current",onLoad:D,onError:E}):o.class+="loaded",S("div",{class:"q-img__container absolute-full",key:"img"+u},S("img",o))}function M(){return y.value===!1?S("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},K(t[w.value===!0?"error":"default"])):S("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[S(ce,{color:e.spinnerColor,size:e.spinnerSize})])}{let u=function(){ee(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,P=>{v(),w.value=!1,P===null?(T(),l[h.value^1].value=n.value):q(),l[h.value].value=P},{immediate:!0})};se.value===!0?le(u):u()}return()=>{const u=[];return c.value!==null&&u.push(S("div",{key:"filler",style:c.value})),l[0].value!==null&&u.push(B(0)),l[1].value!==null&&u.push(B(1)),u.push(S(te,{name:"q-transition--fade"},M)),S("div",{key:"main",class:A.value,style:$.value,role:"img","aria-label":e.alt},u)}}}),$e=J("Order",()=>{const e=b([]),t=b();async function i(d){return x.post("order",d).then(c=>c.data).catch(c=>{throw console.error("[OrderStore] - An error occurred while createing via order",c.message),c})}return{basketData:e,previewBasketData:t,createOrder:i}});export{Ne as Q,_e as a,xe as b,pe as c,ke as d,qe as e,Be as f,X as g,$e as h,Ce as i,Ae as n,ge as r,W as s,Te as u};
