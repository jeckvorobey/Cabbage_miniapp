import{Q as g}from"./QImg-CLZ7QX_U.js";import{d as _,aa as h,o as x,ad as r,ae as i,ak as a,F as y,am as q,ai as l,f as n,aj as m,aE as v,al as C,aG as k}from"./index-AFLQayUV.js";import{u as w}from"./use-quasar-D5KfIT5q.js";import{u as S}from"./categoriesStore-Bwr2MIWX.js";import{u as Q}from"./productsStore-Cr4xzi-F.js";import{g as P}from"./useUtils-D5MSzZl3.js";const b={class:"q-px-md"},B={class:"row q-col-gutter-sm"},j=["onClick"],E={class:"q-mr-sm"},F={class:"self-center text-18"},R=_({__name:"CatalogPage",setup(I){const c=w(),u=h(),d=S(),s=Q();x(()=>{console.log(d.categories)});async function p(e){try{c.loading.show(),e?(s.pagination.category_ids=e,s.pagination.offset=0):(delete s.pagination.category_ids,s.pagination.offset=0);const t={offset:s.pagination.offset,limit:s.pagination.limit,category_ids:s.pagination.category_ids},o=await s.fetchProducts(t);o&&(s.products=o.items),u.push("/")}catch(t){console.error(t)}finally{c.loading.hide()}}return(e,t)=>(i(),r("div",b,[t[0]||(t[0]=a("h5",{class:"text-center q-ma-none q-mb-sm"},"Каталог",-1)),t[1]||(t[1]=a("div",{class:"text-18 text-bold q-mb-sm"}," Список каталога: ",-1)),a("div",B,[(i(!0),r(y,null,q(l(d).categories,(o,f)=>(i(),r("div",{class:"col-6",key:f,onClick:N=>p(o.id)},[n(k,{class:"my-card radius-16"},{default:m(()=>[n(v,{class:"row q-pa-sm"},{default:m(()=>[a("div",E,[n(g,{class:"cursor-pointer radius-8",src:l(P)("/card-shop.jpg"),height:"60px",width:"60px",fit:"cover"},null,8,["src"])]),a("div",F,C(o.name),1)]),_:2},1024)]),_:2},1024)],8,j))),128))])]))}});export{R as default};
