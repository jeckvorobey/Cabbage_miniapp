import{b5 as L,r as u,b6 as g,c as f,k as D,U as A,m as E,o as x,h as d,a6 as H,l as Q,aI as U,w as G,aJ as z,g as J}from"./index-BfQG0La9.js";const B={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},K=Object.keys(B);B.all=!0;function te(e){const t={};for(const n of K)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?B:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const W=["INPUT","TEXTAREA"];function re(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&W.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}const I=["B","KB","MB","GB","TB","PB"];function oe(e,t=1){let n=0;for(;parseInt(e,10)>=1024&&n<I.length-1;)e/=1024,++n;return`${e.toFixed(t)}${I[n]}`}function ne(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function ie(e,t,n){if(n<=t)return t;const a=n-t+1;let l=t+(e-t)%a;return l<t&&(l=a+l),l===0?0:l}const ae=L("Products",()=>{const e=u(),t=u({offset:0,limit:20,total:0,has_more:!0});async function n(i){return g.post("products",i).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while createing via product",r.message),r})}async function a(i){return g.patch(`/products/${i.id}`,i).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while creating via updateProduct",r.message),r})}async function l(i){return g.get(`/products/${i}`).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while fetching via product",r.message),r})}async function v(i){return g.get("products",{params:i}).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while fetching via products",r.message),r})}async function P(i){return g.delete(`products/${i}`).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while deleting via Product",r.message),r})}async function S(i,r){return g.post(`/products/${i}/images`,r).then(m=>m.data).catch(m=>{throw console.error("[ProductsStore] - An error occurred while createing via uploadFile",m.message),m})}async function _(i){return g.delete(`/products/images/${i}`).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while createing via deleteFile",r.message),r})}return{pagination:t,products:e,createProduct:n,updateProduct:a,fetchProducts:v,deleteProduct:P,fetchProductsById:l,uploadFile:S,deleteFile:_}});let X=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,X=e.scrollLeft>=0,e.remove()}const V={ratio:[String,Number]};function Y(e,t){return f(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const Z=1.7778,le=D({name:"QImg",props:{...V,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Z},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const a=u(e.initialRatio),l=Y(e,a),v=J(),{registerTimeout:P,removeTimeout:S}=A(),{registerTimeout:_,removeTimeout:i}=A(),r=f(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),m=f(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),c=[u(null),u(r.value)],s=u(0),y=u(!1),w=u(!1),N=f(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),k=f(()=>({width:e.width,height:e.height})),O=f(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),$=f(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function j(){if(i(),e.loadingShowDelay===0){y.value=!0;return}_(()=>{y.value=!0},e.loadingShowDelay)}function T(){i(),y.value=!1}function R({target:o}){z(v)===!1&&(S(),a.value=o.naturalHeight===0?.5:o.naturalWidth/o.naturalHeight,C(o,1))}function C(o,h){h===1e3||z(v)===!0||(o.complete===!0?F(o):P(()=>{C(o,h+1)},50))}function F(o){z(v)!==!0&&(s.value=s.value^1,c[s.value].value=null,T(),o.getAttribute("__qerror")!=="true"&&(w.value=!1),n("load",o.currentSrc||o.src))}function M(o){S(),T(),w.value=!0,c[s.value].value=m.value,c[s.value^1].value=r.value,n("error",o)}function q(o){const h=c[o].value,b={key:"img_"+o,class:O.value,style:$.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...h};return s.value===o?Object.assign(b,{class:b.class+"current",onLoad:R,onError:M}):b.class+="loaded",d("div",{class:"q-img__container absolute-full",key:"img"+o},d("img",b))}function p(){return y.value===!1?d("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Q(t[w.value===!0?"error":"default"])):d("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[d(U,{color:e.spinnerColor,size:e.spinnerSize})])}{let o=function(){G(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,h=>{S(),w.value=!1,h===null?(T(),c[s.value^1].value=r.value):j(),c[s.value].value=h},{immediate:!0})};E.value===!0?x(o):o()}return()=>{const o=[];return l.value!==null&&o.push(d("div",{key:"filler",style:l.value})),c[0].value!==null&&o.push(q(0)),c[1].value!==null&&o.push(q(1)),o.push(d(H,{name:"q-transition--fade"},p)),d("div",{key:"main",class:N.value,style:k.value,role:"img","aria-label":e.alt},o)}}}),ue=L("Order",()=>{const e=u([]);async function t(n){return g.post("order",n).then(a=>a.data).catch(a=>{throw console.error("[OrderStore] - An error occurred while createing via order",a.message),a})}return{basketData:e,createOrder:t}});export{le as Q,ue as a,ne as b,te as g,oe as h,ie as n,X as r,re as s,ae as u};
