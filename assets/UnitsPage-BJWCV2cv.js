import{d as U,r as c,aj as q,ai as u,an as a,f as e,as as C,aM as B,ao as x,av as p,aN as M,Y as _,Q as i,aL as N,o as $,ag as D,ah as f,ak as L,am as v,F as A,aq as F,at as b,ap as y,ab as P}from"./index-C9Luj8DU.js";import{u as k,Q as h,b as Q,a as V}from"./use-quasar-BCDZYpkg.js";import{Q as j}from"./QList-D2u7rswZ.js";import{u as w,Q as E}from"./unitsStore-DaKeE_W6.js";import{C as g}from"./ClosePopup-D3W6t7bV.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T=U({__name:"AddUnitModal",setup(S){const r=k(),d=w(),s=c(!1),n=c({name:"",symbol:""});async function m(){try{await d.createUnit(n.value)&&r.notify({message:"Единица измерения успешно создана",color:"primary"})}catch(o){console.error(o)}}return(o,l)=>(u(),q(N,{ref:"dialogRef",modelValue:s.value,"onUpdate:modelValue":l[3]||(l[3]=t=>s.value=t),persistent:""},{default:a(()=>[e(C,{class:"add-product"},{default:a(()=>[e(E,{greedy:""},{default:a(()=>[e(B,null,{default:a(()=>[l[4]||(l[4]=x("div",{class:"text-h6 q-mb-md"},"Добавление единицы измерения",-1)),e(p,{modelValue:n.value.name,"onUpdate:modelValue":l[0]||(l[0]=t=>n.value.name=t),outlined:"",class:"q-mb-xs",label:"Наименование"},null,8,["modelValue"]),e(p,{modelValue:n.value.symbol,"onUpdate:modelValue":l[1]||(l[1]=t=>n.value.symbol=t),outlined:"",class:"q-mb-xs",label:"Символ"},null,8,["modelValue"])]),_:1}),e(M,{align:"right"},{default:a(()=>[_(e(i,{color:"red",label:"Отмена"},null,512),[[g]]),_(e(i,{color:"primary",label:"Подтвердить",onClick:l[2]||(l[2]=t=>m())},null,512),[[g]])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Y=R(T,[["__scopeId","data-v-05746ffa"]]),z={key:0},X=U({__name:"UnitsPage",setup(S){const r=w(),d=k(),s=c(!1);$(()=>{n()});async function n(){try{await r.fetchUnits(),d.loading.show()}catch(m){console.error(m)}finally{d.loading.hide()}}return(m,o)=>{const l=D("q-item-action");return u(),f("div",null,[e(i,{onClick:o[0]||(o[0]=t=>s.value=!s.value),class:"full-width q-mb-sm",color:"secondary",label:"Добавление единицы измерения"}),v(r).units?(u(),f("div",z,[o[2]||(o[2]=x("h6",{class:"text-center q-mt-md q-mb-md"},"Единицы измерения",-1)),e(C,{class:"my-card q-ma-sm",flat:"",bordered:""},{default:a(()=>[(u(!0),f(A,null,F(v(r).units,(t,I)=>(u(),q(j,{key:I},{default:a(()=>[e(h,null,{default:a(()=>[e(Q,null,{default:a(()=>[e(V,null,{default:a(()=>[b(y(t.name),1)]),_:2},1024)]),_:2},1024),e(Q,null,{default:a(()=>[e(V,null,{default:a(()=>[b(y(t.symbol),1)]),_:2},1024)]),_:2},1024),e(l,null,{default:a(()=>[e(i,{flat:"",round:"",color:"primary",icon:"mode_edit"})]),_:1})]),_:2},1024),e(P)]),_:2},1024))),128))]),_:1})])):L("",!0),e(Y,{modelValue:s.value,"onUpdate:modelValue":o[1]||(o[1]=t=>s.value=t),label:"test"},null,8,["modelValue"])])}}});export{X as default};
