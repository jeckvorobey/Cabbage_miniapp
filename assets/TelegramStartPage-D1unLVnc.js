import{d as m,ad as g,bl as f,r as l,o as v,af as _,ag as n,ah as r,aj as u,f as h,an as c,F as k}from"./index-FiVUXmGD.js";const w={key:0,class:"align-center pt-2.5"},y={key:1,class:"align-center pt-2.5"},x=m({__name:"TelegramStartPage",setup(S){const d=g(),a=f(),e=l(),s=l(!0);v(()=>{e.value=window?.Telegram?.WebApp?.initData,i()});async function i(){try{console.log("TelegramStartPage",e.value),localStorage.removeItem("token"),a.token=null,e.value&&(a.telegramData=e.value,await a.auth(a.telegramData)&&d.push("/dashboard"))}catch(o){console.error(o)}finally{s.value=!1}}return(o,t)=>{const p=_("ExpandedViewport");return r(),n(k,null,[s.value?(r(),n("div",w,[...t[0]||(t[0]=[c("h3",null,"Загрузка...",-1)])])):u("",!0),e.value?u("",!0):(r(),n("div",y,[...t[1]||(t[1]=[c("h4",null,"Вам необходимо войти через Telegram.",-1)])])),h(p,{force:""})],64)}}});export{x as default};
