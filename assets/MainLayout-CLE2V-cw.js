import{k as j,c as v,h as y,l as se,m as ze,r as T,n as pt,o as ue,g as te,p as ce,q as yt,t as Fe,v as mt,a as Ie,x as F,y as Qe,w as D,z as aa,A as na,B as lt,C as De,D as rt,E as Oe,G as ht,H as Tt,I as it,J as oa,K as _t,L as Qt,M as wt,N as Mt,O as qt,P as gt,Q as Rt,R as la,S as ra,U as We,V as bt,W as Ke,X as ia,Y as sa,Z as ua,_ as ca,$ as da,a0 as st,a1 as He,b as va,a2 as Et,a3 as Ot,a4 as U,a5 as fa,a6 as ma,a7 as ut,a8 as ha,a9 as ga,d as Se,aa as Ue,ab as W,ac as z,f as C,ad as L,F as ye,ae as we,af as be,ag as je,ah as N,ai as ee,aj as St,ak as Z,al as ba,am as Ht,an as pa,ao as V,ap as fe,aq as kt,ar as $t,as as Nt,at as Ft,au as jt,av as ya,aw as _a,ax as wa,ay as Wt,az as qa,aA as Kt,aB as ct}from"./index-RSkPE35L.js";import{u as Sa,Q as ka}from"./addressesStore-BgpXnG32.js";import{Q as Xe,a as pe,b as $e}from"./QItem-qt0Hu9NN.js";import{Q as qe}from"./QList-BzsxLoTS.js";import{g as It,s as Bt,u as Ca,a as xa,b as Ta,c as $a,d as Ia,e as Ye}from"./orderStore-PV69vYG4.js";import{c as Ba,Q as La}from"./QMenu-D5jwLRmq.js";import{b as Ne}from"./format-CJebrXOQ.js";import{r as Pa}from"./rtl-DFPa-2ov.js";import{_ as Ct}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{Q as Va}from"./QImg-BgWS8lvR.js";import{g as Da,i as Lt}from"./useUtils-Xfq78rOk.js";import{u as xt}from"./use-quasar-ItTCf_bv.js";import{u as Ut}from"./productsStore-3nKXbJVn.js";import{u as Aa}from"./categoriesStore-C8L3TY2P.js";import{u as za}from"./usePermissionVisibility.hook-COuxv0nE.js";import"./QBtnGroup-DwIh0HaH.js";const Qa=j({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:i}){const r=v(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>y("div",{class:r.value},se(i.default))}}),Ma=["top","middle","bottom"],Ra=j({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Ma.includes(e)}},setup(e,{slots:i}){const r=v(()=>e.align!==void 0?{verticalAlign:e.align}:null),u=v(()=>{const t=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(t!==void 0?` text-${t}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>y("div",{class:u.value,style:r.value,role:"status","aria-label":e.label},ze(i.default,e.label!==void 0?[e.label]:[]))}}),Ea=j({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:i}){const r=v(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>y("div",{class:r.value,role:"toolbar"},se(i.default))}});function Oa(){const e=T(!pt.value);return e.value===!1&&ue(()=>{e.value=!0}),{isHydrated:e}}const Xt=typeof ResizeObserver<"u",Pt=Xt===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},Ae=j({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:i}){let r=null,u,t={width:-1,height:-1};function a(l){l===!0||e.debounce===0||e.debounce==="0"?c():r===null&&(r=setTimeout(c,e.debounce))}function c(){if(r!==null&&(clearTimeout(r),r=null),u){const{offsetWidth:l,offsetHeight:s}=u;(l!==t.width||s!==t.height)&&(t={width:l,height:s},i("resize",t))}}const{proxy:d}=te();if(d.trigger=a,Xt===!0){let l;const s=n=>{u=d.$el.parentNode,u?(l=new ResizeObserver(a),l.observe(u),c()):n!==!0&&Fe(()=>{s(!0)})};return ue(()=>{s()}),ce(()=>{r!==null&&clearTimeout(r),l!==void 0&&(l.disconnect!==void 0?l.disconnect():u&&l.unobserve(u))}),yt}else{let l=function(){r!==null&&(clearTimeout(r),r=null),f!==void 0&&(f.removeEventListener!==void 0&&f.removeEventListener("resize",a,mt.passive),f=void 0)},s=function(){l(),u?.contentDocument&&(f=u.contentDocument.defaultView,f.addEventListener("resize",a,mt.passive),c())};const{isHydrated:n}=Oa();let f;return ue(()=>{Fe(()=>{u=d.$el,u&&s()})}),ce(l),()=>{if(n.value===!0)return y("object",{class:"q--avoid-card-border",style:Pt.style,tabindex:-1,type:"text/html",data:Pt.url,"aria-hidden":"true",onLoad:s})}}}}),Ha=j({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:i,emit:r}){const{proxy:{$q:u}}=te(),t=Ie(Qe,F);if(t===F)return console.error("QHeader needs to be child of QLayout"),F;const a=T(parseInt(e.heightHint,10)),c=T(!0),d=v(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||u.platform.is.ios&&t.isContainer.value===!0),l=v(()=>{if(e.modelValue!==!0)return 0;if(d.value===!0)return c.value===!0?a.value:0;const q=a.value-t.scroll.value.position;return q>0?q:0}),s=v(()=>e.modelValue!==!0||d.value===!0&&c.value!==!0),n=v(()=>e.modelValue===!0&&s.value===!0&&e.reveal===!0),f=v(()=>"q-header q-layout__section--marginal "+(d.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(s.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),b=v(()=>{const q=t.rows.value.top,$={};return q[0]==="l"&&t.left.space===!0&&($[u.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),q[2]==="r"&&t.right.space===!0&&($[u.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),$});function h(q,$){t.update("header",q,$)}function k(q,$){q.value!==$&&(q.value=$)}function w({height:q}){k(a,q),h("size",q)}function g(q){n.value===!0&&k(c,!0),r("focusin",q)}D(()=>e.modelValue,q=>{h("space",q),k(c,!0),t.animate()}),D(l,q=>{h("offset",q)}),D(()=>e.reveal,q=>{q===!1&&k(c,e.modelValue)}),D(c,q=>{t.animate(),r("reveal",q)}),D(t.scroll,q=>{e.reveal===!0&&k(c,q.direction==="up"||q.position<=e.revealOffset||q.position-q.inflectionPoint<100)});const _={};return t.instances.header=_,e.modelValue===!0&&h("size",a.value),h("space",e.modelValue),h("offset",l.value),ce(()=>{t.instances.header===_&&(t.instances.header=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const q=aa(i.default,[]);return e.elevated===!0&&q.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),q.push(y(Ae,{debounce:0,onResize:w})),y("header",{class:f.value,style:b.value,onFocusin:g},q)}}});function dt(e,i,r){const u=ht(e);let t,a=u.left-i.event.x,c=u.top-i.event.y,d=Math.abs(a),l=Math.abs(c);const s=i.direction;s.horizontal===!0&&s.vertical!==!0?t=a<0?"left":"right":s.horizontal!==!0&&s.vertical===!0?t=c<0?"up":"down":s.up===!0&&c<0?(t="up",d>l&&(s.left===!0&&a<0?t="left":s.right===!0&&a>0&&(t="right"))):s.down===!0&&c>0?(t="down",d>l&&(s.left===!0&&a<0?t="left":s.right===!0&&a>0&&(t="right"))):s.left===!0&&a<0?(t="left",d<l&&(s.up===!0&&c<0?t="up":s.down===!0&&c>0&&(t="down"))):s.right===!0&&a>0&&(t="right",d<l&&(s.up===!0&&c<0?t="up":s.down===!0&&c>0&&(t="down")));let n=!1;if(t===void 0&&r===!1){if(i.event.isFirst===!0||i.event.lastDir===void 0)return{};t=i.event.lastDir,n=!0,t==="left"||t==="right"?(u.left-=a,d=0,a=0):(u.top-=c,l=0,c=0)}return{synthetic:n,payload:{evt:e,touch:i.event.mouse!==!0,mouse:i.event.mouse===!0,position:u,direction:t,isFirst:i.event.isFirst,isFinal:r===!0,duration:Date.now()-i.event.time,distance:{x:d,y:l},offset:{x:a,y:c},delta:{x:u.left-i.event.lastX,y:u.top-i.event.lastY}}}}let Na=0;const vt=na({name:"touch-pan",beforeMount(e,{value:i,modifiers:r}){if(r.mouse!==!0&&De.has.touch!==!0)return;function u(a,c){r.mouse===!0&&c===!0?_t(a):(r.stop===!0&&it(a),r.prevent===!0&&Tt(a))}const t={uid:"qvtp_"+Na++,handler:i,modifiers:r,direction:It(r),noop:yt,mouseStart(a){Bt(a,t)&&oa(a)&&(Oe(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(a,!0))},touchStart(a){if(Bt(a,t)){const c=a.target;Oe(t,"temp",[[c,"touchmove","move","notPassiveCapture"],[c,"touchcancel","end","passiveCapture"],[c,"touchend","end","passiveCapture"]]),t.start(a)}},start(a,c){if(De.is.firefox===!0&&rt(e,!0),t.lastEvt=a,c===!0||r.stop===!0){if(t.direction.all!==!0&&(c!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const s=a.type.indexOf("mouse")!==-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&Tt(s),a.cancelBubble===!0&&it(s),Object.assign(s,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[t.uid]:a.qClonedBy.concat(t.uid)}),t.initialEvent={target:a.target,event:s}}it(a)}const{left:d,top:l}=ht(a);t.event={x:d,y:l,time:Date.now(),mouse:c===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:d,lastY:l}},move(a){if(t.event===void 0)return;const c=ht(a),d=c.left-t.event.x,l=c.top-t.event.y;if(d===0&&l===0)return;t.lastEvt=a;const s=t.event.mouse===!0,n=()=>{u(a,s);let h;r.preserveCursor!==!0&&r.preservecursor!==!0&&(h=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),s===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ba(),t.styleCleanup=k=>{if(t.styleCleanup=void 0,h!==void 0&&(document.documentElement.style.cursor=h),document.body.classList.remove("non-selectable"),s===!0){const w=()=>{document.body.classList.remove("no-pointer-events--children")};k!==void 0?setTimeout(()=>{w(),k()},50):w()}else k!==void 0&&k()}};if(t.event.detected===!0){t.event.isFirst!==!0&&u(a,t.event.mouse);const{payload:h,synthetic:k}=dt(a,t,!1);h!==void 0&&(t.handler(h)===!1?t.end(a):(t.styleCleanup===void 0&&t.event.isFirst===!0&&n(),t.event.lastX=h.position.left,t.event.lastY=h.position.top,t.event.lastDir=k===!0?void 0:h.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||s===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){n(),t.event.detected=!0,t.move(a);return}const f=Math.abs(d),b=Math.abs(l);f!==b&&(t.direction.horizontal===!0&&f>b||t.direction.vertical===!0&&f<b||t.direction.up===!0&&f<b&&l<0||t.direction.down===!0&&f<b&&l>0||t.direction.left===!0&&f>b&&d<0||t.direction.right===!0&&f>b&&d>0?(t.event.detected=!0,t.move(a)):t.end(a,!0))},end(a,c){if(t.event!==void 0){if(lt(t,"temp"),De.is.firefox===!0&&rt(e,!1),c===!0)t.styleCleanup?.(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(dt(a===void 0?t.lastEvt:a,t).payload);const{payload:d}=dt(a===void 0?t.lastEvt:a,t,!0),l=()=>{t.handler(d)};t.styleCleanup!==void 0?t.styleCleanup(l):l()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,r.mouse===!0){const a=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";Oe(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}De.has.touch===!0&&Oe(t,"main",[[e,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,i){const r=e.__qtouchpan;r!==void 0&&(i.oldValue!==i.value&&(typeof value!="function"&&r.end(),r.handler=i.value),r.direction=It(i.modifiers))},beforeUnmount(e){const i=e.__qtouchpan;i!==void 0&&(i.event!==void 0&&i.end(),lt(i,"main"),lt(i,"temp"),De.is.firefox===!0&&rt(e,!1),i.styleCleanup?.(),delete e.__qtouchpan)}}),Vt=150,Dt=j({name:"QDrawer",inheritAttrs:!1,props:{...Mt,...wt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Qt,"onLayout","miniState"],setup(e,{slots:i,emit:r,attrs:u}){const t=te(),{proxy:{$q:a}}=t,c=qt(e,a),{preventBodyScroll:d}=ra(),{registerTimeout:l,removeTimeout:s}=gt(),n=Ie(Qe,F);if(n===F)return console.error("QDrawer needs to be child of QLayout"),F;let f,b=null,h;const k=T(e.behavior==="mobile"||e.behavior!=="desktop"&&n.totalWidth.value<=e.breakpoint),w=v(()=>e.mini===!0&&k.value!==!0),g=v(()=>w.value===!0?e.miniWidth:e.width),_=T(e.showIfAbove===!0&&k.value===!1?!0:e.modelValue===!0),q=v(()=>e.persistent!==!0&&(k.value===!0||Be.value===!0));function $(o,p){if(M(),o!==!1&&n.animate(),X(0),k.value===!0){const A=n.instances[re.value];A?.belowBreakpoint===!0&&A.hide(!1),Y(1),n.isContainer.value!==!0&&d(!0)}else Y(0),o!==!1&&Ce(!1);l(()=>{o!==!1&&Ce(!0),p!==!0&&r("show",o)},Vt)}function I(o,p){x(),o!==!1&&n.animate(),Y(0),X(ae.value*g.value),xe(),p!==!0?l(()=>{r("hide",o)},Vt):s()}const{show:S,hide:P}=Rt({showing:_,hideOnRouteChange:q,handleShow:$,handleHide:I}),{addToHistory:M,removeFromHistory:x}=la(_,P,q),G={belowBreakpoint:k,hide:P},Q=v(()=>e.side==="right"),ae=v(()=>(a.lang.rtl===!0?-1:1)*(Q.value===!0?1:-1)),ke=T(0),oe=T(!1),le=T(!1),de=T(g.value*ae.value),re=v(()=>Q.value===!0?"left":"right"),B=v(()=>_.value===!0&&k.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:g.value:0),H=v(()=>e.overlay===!0||e.miniToOverlay===!0||n.view.value.indexOf(Q.value?"R":"L")!==-1||a.platform.is.ios===!0&&n.isContainer.value===!0),J=v(()=>e.overlay===!1&&_.value===!0&&k.value===!1),Be=v(()=>e.overlay===!0&&_.value===!0&&k.value===!1),me=v(()=>"fullscreen q-drawer__backdrop"+(_.value===!1&&oe.value===!1?" hidden":"")),he=v(()=>({backgroundColor:`rgba(0,0,0,${ke.value*.4})`})),Le=v(()=>Q.value===!0?n.rows.value.top[2]==="r":n.rows.value.top[0]==="l"),Me=v(()=>Q.value===!0?n.rows.value.bottom[2]==="r":n.rows.value.bottom[0]==="l"),Re=v(()=>{const o={};return n.header.space===!0&&Le.value===!1&&(H.value===!0?o.top=`${n.header.offset}px`:n.header.space===!0&&(o.top=`${n.header.size}px`)),n.footer.space===!0&&Me.value===!1&&(H.value===!0?o.bottom=`${n.footer.offset}px`:n.footer.space===!0&&(o.bottom=`${n.footer.size}px`)),o}),ie=v(()=>{const o={width:`${g.value}px`,transform:`translateX(${de.value}px)`};return k.value===!0?o:Object.assign(o,Re.value)}),Ge=v(()=>"q-drawer__content fit "+(n.isContainer.value!==!0?"scroll":"overflow-auto")),Je=v(()=>`q-drawer q-drawer--${e.side}`+(le.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(c.value===!0?" q-drawer--dark q-dark":"")+(oe.value===!0?" no-transition":_.value===!0?"":" q-layout--prevent-focus")+(k.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${w.value===!0?"mini":"standard"}`+(H.value===!0||J.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Le.value===!0?" q-drawer--top-padding":""))),Ze=v(()=>{const o=a.lang.rtl===!0?e.side:re.value;return[[vt,at,void 0,{[o]:!0,mouse:!0}]]}),Ee=v(()=>{const o=a.lang.rtl===!0?re.value:e.side;return[[vt,Ve,void 0,{[o]:!0,mouse:!0}]]}),et=v(()=>{const o=a.lang.rtl===!0?re.value:e.side;return[[vt,Ve,void 0,{[o]:!0,mouse:!0,mouseAllDir:!0}]]});function Pe(){Te(k,e.behavior==="mobile"||e.behavior!=="desktop"&&n.totalWidth.value<=e.breakpoint)}D(k,o=>{o===!0?(f=_.value,_.value===!0&&P(!1)):e.overlay===!1&&e.behavior!=="mobile"&&f!==!1&&(_.value===!0?(X(0),Y(0),xe()):S(!1))}),D(()=>e.side,(o,p)=>{n.instances[p]===G&&(n.instances[p]=void 0,n[p].space=!1,n[p].offset=0),n.instances[o]=G,n[o].size=g.value,n[o].space=J.value,n[o].offset=B.value}),D(n.totalWidth,()=>{(n.isContainer.value===!0||document.qScrollPrevented!==!0)&&Pe()}),D(()=>e.behavior+e.breakpoint,Pe),D(n.isContainer,o=>{_.value===!0&&d(o!==!0),o===!0&&Pe()}),D(n.scrollbarWidth,()=>{X(_.value===!0?0:void 0)}),D(B,o=>{ne("offset",o)}),D(J,o=>{r("onLayout",o),ne("space",o)}),D(Q,()=>{X()}),D(g,o=>{X(),m(e.miniToOverlay,o)}),D(()=>e.miniToOverlay,o=>{m(o,g.value)}),D(()=>a.lang.rtl,()=>{X()}),D(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(tt(),n.animate())}),D(w,o=>{r("miniState",o)});function X(o){o===void 0?Fe(()=>{o=_.value===!0?0:g.value,X(ae.value*o)}):(n.isContainer.value===!0&&Q.value===!0&&(k.value===!0||Math.abs(o)===g.value)&&(o+=ae.value*n.scrollbarWidth.value),de.value=o)}function Y(o){ke.value=o}function Ce(o){const p=o===!0?"remove":n.isContainer.value!==!0?"add":"";p!==""&&document.body.classList[p]("q-body--drawer-toggle")}function tt(){b!==null&&clearTimeout(b),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),le.value=!0,b=setTimeout(()=>{b=null,le.value=!1,t?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function at(o){if(_.value!==!1)return;const p=g.value,A=Ne(o.distance.x,0,p);if(o.isFinal===!0){A>=Math.min(75,p)===!0?S():(n.animate(),Y(0),X(ae.value*p)),oe.value=!1;return}X((a.lang.rtl===!0?Q.value!==!0:Q.value)?Math.max(p-A,0):Math.min(0,A-p)),Y(Ne(A/p,0,1)),o.isFirst===!0&&(oe.value=!0)}function Ve(o){if(_.value!==!0)return;const p=g.value,A=o.direction===e.side,O=(a.lang.rtl===!0?A!==!0:A)?Ne(o.distance.x,0,p):0;if(o.isFinal===!0){Math.abs(O)<Math.min(75,p)===!0?(n.animate(),Y(1),X(0)):P(),oe.value=!1;return}X(ae.value*O),Y(Ne(1-O/p,0,1)),o.isFirst===!0&&(oe.value=!0)}function xe(){d(!1),Ce(!0)}function ne(o,p){n.update(e.side,o,p)}function Te(o,p){o.value!==p&&(o.value=p)}function m(o,p){ne("size",o===!0?e.miniWidth:p)}return n.instances[e.side]=G,m(e.miniToOverlay,g.value),ne("space",J.value),ne("offset",B.value),e.showIfAbove===!0&&e.modelValue!==!0&&_.value===!0&&e["onUpdate:modelValue"]!==void 0&&r("update:modelValue",!0),ue(()=>{r("onLayout",J.value),r("miniState",w.value),f=e.showIfAbove===!0;const o=()=>{(_.value===!0?$:I)(!1,!0)};if(n.totalWidth.value!==0){Fe(o);return}h=D(n.totalWidth,()=>{h(),h=void 0,_.value===!1&&e.showIfAbove===!0&&k.value===!1?S(!1):o()})}),ce(()=>{h?.(),b!==null&&(clearTimeout(b),b=null),_.value===!0&&xe(),n.instances[e.side]===G&&(n.instances[e.side]=void 0,ne("size",0),ne("offset",0),ne("space",!1))}),()=>{const o=[];k.value===!0&&(e.noSwipeOpen===!1&&o.push(We(y("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Ze.value)),o.push(bt("div",{ref:"backdrop",class:me.value,style:he.value,"aria-hidden":"true",onClick:P},void 0,"backdrop",e.noSwipeBackdrop!==!0&&_.value===!0,()=>et.value)));const p=w.value===!0&&i.mini!==void 0,A=[y("div",{...u,key:""+p,class:[Ge.value,u.class]},p===!0?i.mini():se(i.default))];return e.elevated===!0&&_.value===!0&&A.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push(bt("aside",{ref:"content",class:Je.value,style:ie.value},A,"contentclose",e.noSwipeClose!==!0&&k.value===!0,()=>Ee.value)),y("div",{class:"q-drawer-container"},o)}}}),Fa=j({name:"QPageContainer",setup(e,{slots:i}){const{proxy:{$q:r}}=te(),u=Ie(Qe,F);if(u===F)return console.error("QPageContainer needs to be child of QLayout"),F;Ke(ia,!0);const t=v(()=>{const a={};return u.header.space===!0&&(a.paddingTop=`${u.header.size}px`),u.right.space===!0&&(a[`padding${r.lang.rtl===!0?"Left":"Right"}`]=`${u.right.size}px`),u.footer.space===!0&&(a.paddingBottom=`${u.footer.size}px`),u.left.space===!0&&(a[`padding${r.lang.rtl===!0?"Right":"Left"}`]=`${u.left.size}px`),a});return()=>y("div",{class:"q-page-container",style:t.value},se(i.default))}}),ja=j({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:i,emit:r}){const{proxy:{$q:u}}=te(),t=Ie(Qe,F);if(t===F)return console.error("QFooter needs to be child of QLayout"),F;const a=T(parseInt(e.heightHint,10)),c=T(!0),d=T(pt.value===!0||t.isContainer.value===!0?0:window.innerHeight),l=v(()=>e.reveal===!0||t.view.value.indexOf("F")!==-1||u.platform.is.ios&&t.isContainer.value===!0),s=v(()=>t.isContainer.value===!0?t.containerHeight.value:d.value),n=v(()=>{if(e.modelValue!==!0)return 0;if(l.value===!0)return c.value===!0?a.value:0;const S=t.scroll.value.position+s.value+a.value-t.height.value;return S>0?S:0}),f=v(()=>e.modelValue!==!0||l.value===!0&&c.value!==!0),b=v(()=>e.modelValue===!0&&f.value===!0&&e.reveal===!0),h=v(()=>"q-footer q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(f.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(l.value!==!0?" hidden":""):"")),k=v(()=>{const S=t.rows.value.bottom,P={};return S[0]==="l"&&t.left.space===!0&&(P[u.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),S[2]==="r"&&t.right.space===!0&&(P[u.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),P});function w(S,P){t.update("footer",S,P)}function g(S,P){S.value!==P&&(S.value=P)}function _({height:S}){g(a,S),w("size",S)}function q(){if(e.reveal!==!0)return;const{direction:S,position:P,inflectionPoint:M}=t.scroll.value;g(c,S==="up"||P-M<100||t.height.value-s.value-P-a.value<300)}function $(S){b.value===!0&&g(c,!0),r("focusin",S)}D(()=>e.modelValue,S=>{w("space",S),g(c,!0),t.animate()}),D(n,S=>{w("offset",S)}),D(()=>e.reveal,S=>{S===!1&&g(c,e.modelValue)}),D(c,S=>{t.animate(),r("reveal",S)}),D([a,t.scroll,t.height],q),D(()=>u.screen.height,S=>{t.isContainer.value!==!0&&g(d,S)});const I={};return t.instances.footer=I,e.modelValue===!0&&w("size",a.value),w("space",e.modelValue),w("offset",n.value),ce(()=>{t.instances.footer===I&&(t.instances.footer=void 0,w("size",0),w("offset",0),w("space",!1))}),()=>{const S=ze(i.default,[y(Ae,{debounce:0,onResize:_})]);return e.elevated===!0&&S.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),y("footer",{class:h.value,style:k.value,onFocusin:$},S)}}}),{passive:At}=mt,Wa=["both","horizontal","vertical"],Ka=j({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Wa.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:sa},emits:["scroll"],setup(e,{emit:i}){const r={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let u=null,t,a;D(()=>e.scrollTarget,()=>{l(),d()});function c(){u?.();const f=Math.max(0,ca(t)),b=da(t),h={top:f-r.position.top,left:b-r.position.left};if(e.axis==="vertical"&&h.top===0||e.axis==="horizontal"&&h.left===0)return;const k=Math.abs(h.top)>=Math.abs(h.left)?h.top<0?"up":"down":h.left<0?"left":"right";r.position={top:f,left:b},r.directionChanged=r.direction!==k,r.delta=h,r.directionChanged===!0&&(r.direction=k,r.inflectionPoint=r.position),i("scroll",{...r})}function d(){t=ua(a,e.scrollTarget),t.addEventListener("scroll",s,At),s(!0)}function l(){t!==void 0&&(t.removeEventListener("scroll",s,At),t=void 0)}function s(f){if(f===!0||e.debounce===0||e.debounce==="0")c();else if(u===null){const[b,h]=e.debounce?[setTimeout(c,e.debounce),clearTimeout]:[requestAnimationFrame(c),cancelAnimationFrame];u=()=>{h(b),u=null}}}const{proxy:n}=te();return D(()=>n.$q.lang.rtl,c),ue(()=>{a=n.$el.parentNode,d()}),ce(()=>{u?.(),l()}),Object.assign(n,{trigger:s,getPosition:()=>r}),yt}}),Ua=j({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:i,emit:r}){const{proxy:{$q:u}}=te(),t=T(null),a=T(u.screen.height),c=T(e.container===!0?0:u.screen.width),d=T({position:0,direction:"down",inflectionPoint:0}),l=T(0),s=T(pt.value===!0?0:st()),n=v(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),f=v(()=>e.container===!1?{minHeight:u.screen.height+"px"}:null),b=v(()=>s.value!==0?{[u.lang.rtl===!0?"left":"right"]:`${s.value}px`}:null),h=v(()=>s.value!==0?{[u.lang.rtl===!0?"right":"left"]:0,[u.lang.rtl===!0?"left":"right"]:`-${s.value}px`,width:`calc(100% + ${s.value}px)`}:null);function k(I){if(e.container===!0||document.qScrollPrevented!==!0){const S={position:I.position.top,direction:I.direction,directionChanged:I.directionChanged,inflectionPoint:I.inflectionPoint.top,delta:I.delta.top};d.value=S,e.onScroll!==void 0&&r("scroll",S)}}function w(I){const{height:S,width:P}=I;let M=!1;a.value!==S&&(M=!0,a.value=S,e.onScrollHeight!==void 0&&r("scrollHeight",S),_()),c.value!==P&&(M=!0,c.value=P),M===!0&&e.onResize!==void 0&&r("resize",I)}function g({height:I}){l.value!==I&&(l.value=I,_())}function _(){if(e.container===!0){const I=a.value>l.value?st():0;s.value!==I&&(s.value=I)}}let q=null;const $={instances:{},view:v(()=>e.view),isContainer:v(()=>e.container),rootRef:t,height:a,containerHeight:l,scrollbarWidth:s,totalWidth:v(()=>c.value+s.value),rows:v(()=>{const I=e.view.toLowerCase().split(" ");return{top:I[0].split(""),middle:I[1].split(""),bottom:I[2].split("")}}),header:He({size:0,offset:0,space:!1}),right:He({size:300,offset:0,space:!1}),footer:He({size:0,offset:0,space:!1}),left:He({size:300,offset:0,space:!1}),scroll:d,animate(){q!==null?clearTimeout(q):document.body.classList.add("q-body--layout-animate"),q=setTimeout(()=>{q=null,document.body.classList.remove("q-body--layout-animate")},155)},update(I,S,P){$[I][S]=P}};if(Ke(Qe,$),st()>0){let I=function(){M=null,x.classList.remove("hide-scrollbar")},S=function(){if(M===null){if(x.scrollHeight>u.screen.height)return;x.classList.add("hide-scrollbar")}else clearTimeout(M);M=setTimeout(I,300)},P=function(G){M!==null&&G==="remove"&&(clearTimeout(M),I()),window[`${G}EventListener`]("resize",S)},M=null;const x=document.body;D(()=>e.container!==!0?"add":"remove",P),e.container!==!0&&P("add"),va(()=>{P("remove")})}return()=>{const I=ze(i.default,[y(Ka,{onScroll:k}),y(Ae,{onResize:w})]),S=y("div",{class:n.value,style:f.value,ref:e.container===!0?void 0:t,tabindex:-1},I);return e.container===!0?y("div",{class:"q-layout-container overflow-hidden",ref:t},[y(Ae,{onResize:g}),y("div",{class:"absolute-full",style:b.value},[y("div",{class:"scroll",style:h.value},[S])])]):S}}});let Xa=0;const Ya=["click","keydown"],Ga={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Xa++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Ja(e,i,r,u){const t=Ie(Et,F);if(t===F)return console.error("QTab/QRouteTab component needs to be child of QTabs"),F;const{proxy:a}=te(),c=T(null),d=T(null),l=T(null),s=v(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),n=v(()=>t.currentModel.value===e.name),f=v(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(n.value===!0?" q-tab--active"+(t.tabProps.value.activeClass?" "+t.tabProps.value.activeClass:"")+(t.tabProps.value.activeColor?` text-${t.tabProps.value.activeColor}`:"")+(t.tabProps.value.activeBgColor?` bg-${t.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&t.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||t.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),b=v(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(t.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),h=v(()=>e.disable===!0||t.hasFocus.value===!0||n.value===!1&&t.hasActiveTab.value===!0?-1:e.tabindex||0);function k($,I){if(I!==!0&&$?.qAvoidFocus!==!0&&c.value?.focus(),e.disable!==!0){t.updateModel({name:e.name}),r("click",$);return}}function w($){fa($,[13,32])?k($,!0):ma($)!==!0&&$.keyCode>=35&&$.keyCode<=40&&$.altKey!==!0&&$.metaKey!==!0&&t.onKbdNavigate($.keyCode,a.$el)===!0&&_t($),r("keydown",$)}function g(){const $=t.tabProps.value.narrowIndicator,I=[],S=y("div",{ref:l,class:["q-tab__indicator",t.tabProps.value.indicatorClass]});e.icon!==void 0&&I.push(y(U,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&I.push(y("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&I.push(e.alertIcon!==void 0?y(U,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):y("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),$===!0&&I.push(S);const P=[y("div",{class:"q-focus-helper",tabindex:-1,ref:c}),y("div",{class:b.value},ze(i.default,I))];return $===!1&&P.push(S),P}const _={name:v(()=>e.name),rootRef:d,tabIndicatorRef:l,routeData:u};ce(()=>{t.unregisterTab(_)}),ue(()=>{t.registerTab(_)});function q($,I){const S={ref:d,class:f.value,tabindex:h.value,role:"tab","aria-selected":n.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:k,onKeydown:w,...I};return We(y($,S,g()),[[Ot,s.value]])}return{renderTab:q,$tabs:t}}const Za=j({name:"QTab",props:Ga,emits:Ya,setup(e,{slots:i,emit:r}){const{renderTab:u}=Ja(e,i,r);return()=>u("div")}});function en(e,i,r){const u=r===!0?["left","right"]:["top","bottom"];return`absolute-${i===!0?u[0]:u[1]}${e?` text-${e}`:""}`}const tn=["left","center","right","justify"],an=j({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>tn.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:i,emit:r}){const{proxy:u}=te(),{$q:t}=u,{registerTick:a}=ut(),{registerTick:c}=ut(),{registerTick:d}=ut(),{registerTimeout:l,removeTimeout:s}=gt(),{registerTimeout:n,removeTimeout:f}=gt(),b=T(null),h=T(null),k=T(e.modelValue),w=T(!1),g=T(!0),_=T(!1),q=T(!1),$=[],I=T(0),S=T(!1);let P=null,M=null,x;const G=v(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:en(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),Q=v(()=>{const m=I.value,o=k.value;for(let p=0;p<m;p++)if($[p].name.value===o)return!0;return!1}),ae=v(()=>`q-tabs__content--align-${w.value===!0?"left":q.value===!0?"justify":e.align}`),ke=v(()=>`q-tabs row no-wrap items-center q-tabs--${w.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),oe=v(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+ae.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),le=v(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),de=v(()=>e.vertical!==!0&&t.lang.rtl===!0),re=v(()=>Pa===!1&&de.value===!0);D(de,he),D(()=>e.modelValue,m=>{B({name:m,setCurrent:!0,skipEmit:!0})}),D(()=>e.outsideArrows,H);function B({name:m,setCurrent:o,skipEmit:p}){k.value!==m&&(p!==!0&&e["onUpdate:modelValue"]!==void 0&&r("update:modelValue",m),(o===!0||e["onUpdate:modelValue"]===void 0)&&(Be(k.value,m),k.value=m))}function H(){a(()=>{b.value&&J({width:b.value.offsetWidth,height:b.value.offsetHeight})})}function J(m){if(le.value===void 0||h.value===null)return;const o=m[le.value.container],p=Math.min(h.value[le.value.scroll],Array.prototype.reduce.call(h.value.children,(O,E)=>O+(E[le.value.content]||0),0)),A=o>0&&p>o;w.value=A,A===!0&&c(he),q.value=o<parseInt(e.breakpoint,10)}function Be(m,o){const p=m!=null&&m!==""?$.find(O=>O.name.value===m):null,A=o!=null&&o!==""?$.find(O=>O.name.value===o):null;if(Te===!0)Te=!1;else if(p&&A){const O=p.tabIndicatorRef.value,E=A.tabIndicatorRef.value;P!==null&&(clearTimeout(P),P=null),O.style.transition="none",O.style.transform="none",E.style.transition="none",E.style.transform="none";const R=O.getBoundingClientRect(),K=E.getBoundingClientRect();E.style.transform=e.vertical===!0?`translate3d(0,${R.top-K.top}px,0) scale3d(1,${K.height?R.height/K.height:1},1)`:`translate3d(${R.left-K.left}px,0,0) scale3d(${K.width?R.width/K.width:1},1,1)`,d(()=>{P=setTimeout(()=>{P=null,E.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",E.style.transform="none"},70)})}A&&w.value===!0&&me(A.rootRef.value)}function me(m){const{left:o,width:p,top:A,height:O}=h.value.getBoundingClientRect(),E=m.getBoundingClientRect();let R=e.vertical===!0?E.top-A:E.left-o;if(R<0){h.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(R),he();return}R+=e.vertical===!0?E.height-O:E.width-p,R>0&&(h.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(R),he())}function he(){const m=h.value;if(m===null)return;const o=m.getBoundingClientRect(),p=e.vertical===!0?m.scrollTop:Math.abs(m.scrollLeft);de.value===!0?(g.value=Math.ceil(p+o.width)<m.scrollWidth-1,_.value=p>0):(g.value=p>0,_.value=e.vertical===!0?Math.ceil(p+o.height)<m.scrollHeight:Math.ceil(p+o.width)<m.scrollWidth)}function Le(m){M!==null&&clearInterval(M),M=setInterval(()=>{Ze(m)===!0&&ie()},5)}function Me(){Le(re.value===!0?Number.MAX_SAFE_INTEGER:0)}function Re(){Le(re.value===!0?0:Number.MAX_SAFE_INTEGER)}function ie(){M!==null&&(clearInterval(M),M=null)}function Ge(m,o){const p=Array.prototype.filter.call(h.value.children,K=>K===o||K.matches&&K.matches(".q-tab.q-focusable")===!0),A=p.length;if(A===0)return;if(m===36)return me(p[0]),p[0].focus(),!0;if(m===35)return me(p[A-1]),p[A-1].focus(),!0;const O=m===(e.vertical===!0?38:37),E=m===(e.vertical===!0?40:39),R=O===!0?-1:E===!0?1:void 0;if(R!==void 0){const K=de.value===!0?-1:1,ve=p.indexOf(o)+R*K;return ve>=0&&ve<A&&(me(p[ve]),p[ve].focus({preventScroll:!0})),!0}}const Je=v(()=>re.value===!0?{get:m=>Math.abs(m.scrollLeft),set:(m,o)=>{m.scrollLeft=-o}}:e.vertical===!0?{get:m=>m.scrollTop,set:(m,o)=>{m.scrollTop=o}}:{get:m=>m.scrollLeft,set:(m,o)=>{m.scrollLeft=o}});function Ze(m){const o=h.value,{get:p,set:A}=Je.value;let O=!1,E=p(o);const R=m<E?-1:1;return E+=R*5,E<0?(O=!0,E=0):(R===-1&&E<=m||R===1&&E>=m)&&(O=!0,E=m),A(o,E),he(),O}function Ee(m,o){for(const p in m)if(m[p]!==o[p])return!1;return!0}function et(){let m=null,o={matchedLen:0,queryDiff:9999,hrefLen:0};const p=$.filter(R=>R.routeData?.hasRouterLink.value===!0),{hash:A,query:O}=u.$route,E=Object.keys(O).length;for(const R of p){const K=R.routeData.exact.value===!0;if(R.routeData[K===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:ve,query:nt,matched:ea,href:ta}=R.routeData.resolvedLink.value,ot=Object.keys(nt).length;if(K===!0){if(ve!==A||ot!==E||Ee(O,nt)===!1)continue;m=R.name.value;break}if(ve!==""&&ve!==A||ot!==0&&Ee(nt,O)===!1)continue;const ge={matchedLen:ea.length,queryDiff:E-ot,hrefLen:ta.length-ve.length};if(ge.matchedLen>o.matchedLen){m=R.name.value,o=ge;continue}else if(ge.matchedLen!==o.matchedLen)continue;if(ge.queryDiff<o.queryDiff)m=R.name.value,o=ge;else if(ge.queryDiff!==o.queryDiff)continue;ge.hrefLen>o.hrefLen&&(m=R.name.value,o=ge)}if(m===null&&$.some(R=>R.routeData===void 0&&R.name.value===k.value)===!0){Te=!1;return}B({name:m,setCurrent:!0})}function Pe(m){if(s(),S.value!==!0&&b.value!==null&&m.target&&typeof m.target.closest=="function"){const o=m.target.closest(".q-tab");o&&b.value.contains(o)===!0&&(S.value=!0,w.value===!0&&me(o))}}function X(){l(()=>{S.value=!1},30)}function Y(){Ve.avoidRouteWatcher===!1?n(et):f()}function Ce(){if(x===void 0){const m=D(()=>u.$route.fullPath,Y);x=()=>{m(),x=void 0}}}function tt(m){$.push(m),I.value++,H(),m.routeData===void 0||u.$route===void 0?n(()=>{if(w.value===!0){const o=k.value,p=o!=null&&o!==""?$.find(A=>A.name.value===o):null;p&&me(p.rootRef.value)}}):(Ce(),m.routeData.hasRouterLink.value===!0&&Y())}function at(m){$.splice($.indexOf(m),1),I.value--,H(),x!==void 0&&m.routeData!==void 0&&($.every(o=>o.routeData===void 0)===!0&&x(),Y())}const Ve={currentModel:k,tabProps:G,hasFocus:S,hasActiveTab:Q,registerTab:tt,unregisterTab:at,verifyRouteModel:Y,updateModel:B,onKbdNavigate:Ge,avoidRouteWatcher:!1};Ke(Et,Ve);function xe(){P!==null&&clearTimeout(P),ie(),x?.()}let ne,Te;return ce(xe),ha(()=>{ne=x!==void 0,xe()}),ga(()=>{ne===!0&&(Ce(),Te=!0,Y()),H()}),()=>y("div",{ref:b,class:ke.value,role:"tablist",onFocusin:Pe,onFocusout:X},[y(Ae,{onResize:J}),y("div",{ref:h,class:oe.value,onScroll:he},se(i.default)),y(U,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(g.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||t.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Me,onTouchstartPassive:Me,onMouseupPassive:ie,onMouseleavePassive:ie,onTouchendPassive:ie}),y(U,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(_.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||t.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Re,onTouchstartPassive:Re,onMouseupPassive:ie,onMouseleavePassive:ie,onTouchendPassive:ie})])}}),nn={class:"bottom-menu"},on=Se({__name:"BottomMenu",emits:["open-basket"],setup(e,{emit:i}){const r=i,u=Ue(),t=T("images"),a=T([{name:"dashboard",label:"Главная",icon:"home",path:"/"},{name:"catalog",label:"Каталог",icon:"reorder",path:"/catalog"},{name:"",label:"Корзина",icon:"shopping_cart_checkout",path:""},{name:"delivery",label:"Доставка",icon:"local_shipping",path:"/delivery"}]),c=T([{name:"user",label:"Профиль",icon:"perm_identity",path:"/user"},{name:"reviews",label:"Отзывы",icon:"rate_review",path:"/reviews"},{name:"history",label:"История заказов",icon:"history",path:"/history"}]);function d(l){l?u.push(l):r("open-basket")}return(l,s)=>(z(),W("div",nn,[C(an,{"no-caps":"","active-color":"green","indicator-color":"transparent",class:"bg-light-gray text-light-gray flex row",modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=n=>t.value=n)},{default:L(()=>[(z(!0),W(ye,null,we(a.value,(n,f)=>(z(),N(Za,{key:f,name:n.name,label:n.label,icon:n.icon,class:"q-pa-none col",onClick:b=>d(n.path)},null,8,["name","label","icon","onClick"]))),128)),C(be,{flat:"",round:"",icon:"more_vert",size:"20px",class:"q-px-sm"},{default:L(()=>[C(La,{"auto-close":""},{default:L(()=>[C(qe,{dense:""},{default:L(()=>[(z(!0),W(ye,null,we(c.value,(n,f)=>(z(),N(Xe,{clickable:"",key:f,onClick:b=>{ee(u).push(n.path)}},{default:L(()=>[C(pe,{avatar:""},{default:L(()=>[C(U,{name:n.icon},null,8,["name"])]),_:2},1024),C(pe,null,{default:L(()=>[St(Z(n.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),C(je)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),ln=Ct(on,[["__scopeId","data-v-d0029d66"]]),Yt=j({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:i,emit:r}){let u=!1,t,a,c=null,d=null,l,s;function n(){t?.(),t=null,u=!1,c!==null&&(clearTimeout(c),c=null),d!==null&&(clearTimeout(d),d=null),a?.removeEventListener("transitionend",l),l=null}function f(w,g,_){g!==void 0&&(w.style.height=`${g}px`),w.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,u=!0,t=_}function b(w,g){w.style.overflowY=null,w.style.height=null,w.style.transition=null,n(),g!==s&&r(g)}function h(w,g){let _=0;a=w,u===!0?(n(),_=w.offsetHeight===w.scrollHeight?0:void 0):(s="hide",w.style.overflowY="hidden"),f(w,_,g),c=setTimeout(()=>{c=null,w.style.height=`${w.scrollHeight}px`,l=q=>{d=null,(Object(q)!==q||q.target===w)&&b(w,"show")},w.addEventListener("transitionend",l),d=setTimeout(l,e.duration*1.1)},100)}function k(w,g){let _;a=w,u===!0?n():(s="show",w.style.overflowY="hidden",_=w.scrollHeight),f(w,_,g),c=setTimeout(()=>{c=null,w.style.height=0,l=q=>{d=null,(Object(q)!==q||q.target===w)&&b(w,"hide")},w.addEventListener("transitionend",l),d=setTimeout(l,e.duration*1.1)},100)}return ce(()=>{u===!0&&n()}),()=>y(ba,{css:!1,appear:e.appear,onEnter:h,onLeave:k},i.default)}}),Gt=j({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:i}){const{proxy:{$q:r}}=te(),u=T(null),t=v(()=>e.stepper.modelValue===e.step.name),a=v(()=>{const g=e.step.disable;return g===!0||g===""}),c=v(()=>{const g=e.step.error;return g===!0||g===""}),d=v(()=>{const g=e.step.done;return a.value===!1&&(g===!0||g==="")}),l=v(()=>{const g=e.step.headerNav,_=g===!0||g===""||g===void 0;return a.value===!1&&e.stepper.headerNav&&_}),s=v(()=>e.step.prefix&&(t.value===!1||e.stepper.activeIcon==="none")&&(c.value===!1||e.stepper.errorIcon==="none")&&(d.value===!1||e.stepper.doneIcon==="none")),n=v(()=>{const g=e.step.icon||e.stepper.inactiveIcon;if(t.value===!0){const _=e.step.activeIcon||e.stepper.activeIcon;return _==="none"?g:_||r.iconSet.stepper.active}if(c.value===!0){const _=e.step.errorIcon||e.stepper.errorIcon;return _==="none"?g:_||r.iconSet.stepper.error}if(a.value===!1&&d.value===!0){const _=e.step.doneIcon||e.stepper.doneIcon;return _==="none"?g:_||r.iconSet.stepper.done}return g}),f=v(()=>{const g=c.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(t.value===!0){const _=e.step.activeColor||e.stepper.activeColor||e.step.color;return _!==void 0?_:g}return g!==void 0?g:a.value===!1&&d.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),b=v(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(f.value!==void 0?` text-${f.value}`:"")+(c.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(s.value===!0?"prefix":"icon"):"")+(t.value===!0?" q-stepper__tab--active":"")+(d.value===!0?" q-stepper__tab--done":"")+(l.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(a.value===!0?" q-stepper__tab--disabled":"")),h=v(()=>e.stepper.headerNav!==!0?!1:l.value);function k(){u.value?.focus(),t.value===!1&&e.goToPanel(e.step.name)}function w(g){g.keyCode===13&&t.value===!1&&e.goToPanel(e.step.name)}return()=>{const g={class:b.value};l.value===!0&&(g.onClick=k,g.onKeyup=w,Object.assign(g,a.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:i.tabindex||0}));const _=[y("div",{class:"q-focus-helper",tabindex:-1,ref:u}),y("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[y("span",{class:"row flex-center"},[s.value===!0?e.step.prefix:y(U,{name:n.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const q=[y("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&q.push(y("div",{class:"q-stepper__caption"},e.step.caption)),_.push(y("div",{class:"q-stepper__label q-stepper__line relative-position"},q))}return We(y("div",g,_),[[Ot,h.value]])}}});function Jt(e){return y("div",{class:"q-stepper__step-content"},[y("div",{class:"q-stepper__step-inner"},se(e.default))])}const zt={setup(e,{slots:i}){return()=>Jt(i)}},ft=j({name:"QStep",props:{...Ca,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:i,emit:r}){const{proxy:{$q:u}}=te(),t=Ie(Ht,F);if(t===F)return console.error("QStep needs to be a child of QStepper"),F;const{getCache:a}=xa(),c=T(null),d=v(()=>t.value.modelValue===e.name),l=v(()=>u.platform.is.ios!==!0&&u.platform.is.chrome===!0||d.value!==!0||t.value.vertical!==!0?{}:{onScroll(f){const{target:b}=f;b.scrollTop>0&&(b.scrollTop=0),e.onScroll!==void 0&&r("scroll",f)}}),s=v(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function n(){const f=t.value.vertical;return f===!0&&t.value.keepAlive===!0?y(pa,t.value.keepAliveProps.value,d.value===!0?[y(t.value.needsUniqueKeepAliveWrapper.value===!0?a(s.value,()=>({...zt,name:s.value})):zt,{key:s.value},i.default)]:void 0):f!==!0||d.value===!0?Jt(i):void 0}return()=>y("div",{ref:c,class:"q-stepper__step",role:"tabpanel",...l.value},t.value.vertical===!0?[y(Gt,{stepper:t.value,step:e,goToPanel:t.value.goToPanel}),t.value.animated===!0?y(Yt,n):n()]:[n()])}}),rn=j({name:"QStepperNavigation",setup(e,{slots:i}){return()=>y("div",{class:"q-stepper__nav"},se(i.default))}}),sn=/(-\w)/g;function un(e){const i={};for(const r in e){const u=r.replace(sn,t=>t[1].toUpperCase());i[u]=e[r]}return i}const cn=j({name:"QStepper",props:{...wt,...$a,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:Ta,setup(e,{slots:i}){const r=te(),u=qt(e,r.proxy.$q),{updatePanelsList:t,isValidPanelName:a,updatePanelIndex:c,getPanelContent:d,getPanels:l,panelDirectives:s,goToPanel:n,keepAliveProps:f,needsUniqueKeepAliveWrapper:b}=Ia();Ke(Ht,v(()=>({goToPanel:n,keepAliveProps:f,needsUniqueKeepAliveWrapper:b,...e})));const h=v(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(u.value===!0?" q-stepper--dark q-dark":"")),k=v(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function w(){const g=se(i.message,[]);if(e.vertical===!0){a(e.modelValue)&&c();const _=y("div",{class:"q-stepper__content"},se(i.default));return g===void 0?[_]:g.concat(_)}return[y("div",{class:k.value},l().map(_=>{const q=un(_.props);return y(Gt,{key:q.name,stepper:e,step:q,goToPanel:n})})),g,bt("div",{class:"q-stepper__content q-panel-parent"},d(),"cont",e.swipeable,()=>s.value)]}return()=>(t(i),y("div",{class:h.value},ze(i.navigation,w())))}}),dn={class:"flex justify-between"},vn={key:0,class:"flex justify-between border-bot q-mb-sm"},fn={class:"flex justify-between"},Zt=Se({__name:"BasketsSippingCost",setup(e){const i=T(!0),r=Ye(),u=v(()=>r.totalCost>=1500?0:500);return(t,a)=>(z(),N(qe,null,{default:L(()=>[V("div",dn,[a[0]||(a[0]=V("span",null,"Итого: ",-1)),V("span",null,Z(ee(r).totalCost)+"₽",1)]),i.value?(z(),W("div",vn,[a[1]||(a[1]=V("span",null,"Стоимость доставки: ",-1)),V("span",null,Z(u.value),1)])):fe("",!0),V("div",fn,[a[2]||(a[2]=V("span",null,"Общая: ",-1)),V("span",null,Z(ee(r).totalCost)+"₽",1)])]),_:1}))}}),mn={class:"basket q-px-sm"},hn={class:"containet"},gn={class:"row"},bn={class:"column justify-between"},pn={class:"text-bold"},yn={class:"q-mb-md"},_n={class:"text-bold text-basic-green"},wn={key:0,class:"old-price"},qn={class:"flex quantity-goods"},Sn={class:"bg-green q-pa-xs radius-100 remove-icon"},kn={class:"q-px-md q-py-xs self-center bg-light-gray quantity"},Cn={class:"bg-green q-pa-xs radius-100 add-icon"},xn=Se({__name:"BasketItems",setup(e){const i=Ye();D(i.basketData,()=>{r()}),ue(()=>{r()});function r(){i.previewBasketData=a(i.basketData),i.totalCost=i.basketData.reduce((d,l)=>d+l.price,0)}function u(d,l){i.previewBasketData.splice(l,1);const s=new Set(d.map(f=>f.id)),n=i.basketData.filter(f=>!s.has(f.id));i.basketData=n,window.localStorage.setItem("basket",JSON.stringify(i.basketData))}function t(d,l){if(console.log(i.previewBasketData,"orderStore.previewBasketData"),console.log(d,"changeQuantity"),l)d.push(d[0]),i.basketData.push(d[0]),window.localStorage.setItem("basket",JSON.stringify(i.basketData));else{const s=i.basketData.findLastIndex(n=>n.id===d[0].id);i.basketData.splice(s,1),d.pop()}console.log(d)}function a(d){const l=new Map;for(const s of d){const n=s.id;l.has(n)||l.set(n,[]),l.get(n).push(s)}return Array.from(l.values())}function c(d){return d.reduce((l,s)=>{const n=typeof s.price=="number"?s.price:0;return l+n},0)}return(d,l)=>{const s=kt("q-item-action");return z(),W("div",mn,[V("div",hn,[(z(!0),W(ye,null,we(ee(i).previewBasketData,(n,f)=>(z(),N(qe,{key:f},{default:L(()=>[C(Xe,{class:"q-px-xs"},{default:L(()=>[C(pe,null,{default:L(()=>[V("div",gn,[C(Va,{class:"cursor-pointer radius-8 q-mr-md",src:n[0]?.primary_image?n[0].primary_image:ee(Da)("/card-shop.jpg"),height:"80px",width:"80px",fit:"cover"},null,8,["src"]),V("div",bn,[C($e,null,{default:L(()=>[V("div",pn,Z(n[0].name),1)]),_:2},1024),C($e,null,{default:L(()=>[V("div",yn,[V("span",_n,Z(n[0].price),1),l[0]||(l[0]=St(" ₽ ",-1)),n[0]?.oldPrice?(z(),W("span",wn,Z(n[0].oldPrice)+" ₽",1)):fe("",!0),V("span",null,"/"+Z(n[0].qty)+"кг",1)]),V("div",qn,[V("div",Sn,[C(U,{name:"remove",color:"white",size:"20px",onClick:b=>t(n,!1)},null,8,["onClick"])]),V("span",kn,Z(n.length),1),V("div",Cn,[C(U,{name:"add",color:"white",size:"20px",onClick:b=>t(n,!0)},null,8,["onClick"])])])]),_:2},1024)])])]),_:2},1024),C(s,{class:"column justify-between items-end"},{default:L(()=>[C(be,{"text-color":"red",flat:"",dense:"",round:"",icon:"delete",onClick:b=>u(n,f)},null,8,["onClick"]),V("div",null,Z(c(n)),1)]),_:2},1024)]),_:2},1024),C(je)]),_:2},1024))),128)),C(Zt)])])}}}),Tn=Ct(xn,[["__scopeId","data-v-49262400"]]),$n={class:"border-bot q-mb-md"},In={class:"border-bot q-mb-md"},Bn=Se({__name:"BasketsDeliveryInformation",setup(e){const i=T(1),r=T([{address_line:"Пушка 12a дом 3",area_id:1,comment:"",is_default:""}]),u=T(1),t=T([{label:"Наличными курьеру",value:1},{label:"Переводом курьеру",value:2},{label:"Оплата сразу",value:3}]);return ue(()=>{console.log(i,r)}),(a,c)=>(z(),N(qe,null,{default:L(()=>[V("div",$n,[c[2]||(c[2]=V("div",{class:"text-bold"},"Адресс доставки: ",-1)),(z(!0),W(ye,null,we(r.value,(d,l)=>(z(),W("div",{key:l},[C($t,{modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=s=>i.value=s),val:d.area_id,label:d.address_line,color:"green"},null,8,["modelValue","val","label"])]))),128))]),V("div",In,[c[3]||(c[3]=V("div",{class:"text-bold"},"Способ оплаты: ",-1)),(z(!0),W(ye,null,we(t.value,(d,l)=>(z(),W("div",{key:l},[C($t,{modelValue:u.value,"onUpdate:modelValue":c[1]||(c[1]=s=>u.value=s),val:d.value,label:d.label,color:"green"},null,8,["modelValue","val","label"])]))),128))])]),_:1}))}}),Ln={class:"stepper-container"},Pn={key:1,class:"text-h6 text-center text-grey"},Vn={class:"stepper-container"},Dn={class:"q-mb-sm"},An=Se({__name:"BasketCompanents",emits:["close-basket"],setup(e,{emit:i}){const r=i,u=xt(),t=Ue(),a=Sa(),c=Ye(),d=T(1),l=T(),s=T();ue(()=>{const f=window.localStorage.getItem("basket");f&&(c.basketData=JSON.parse(f))});function n(){if(d.value===1){l?.value.next();return}else if(d.value===2&&!a.addresses?.length){u.notify({type:"negative",message:"Добавьте адрес доставки в личном кабинете",icon:"warning"}),t.push("/user"),r("close-basket");return}}return(f,b)=>(z(),W("div",null,[C(cn,{modelValue:d.value,"onUpdate:modelValue":b[3]||(b[3]=h=>d.value=h),ref_key:"stepper",ref:l,color:"primary",animated:"","header-class":"hidden-header"},{navigation:L(()=>[C(rn,{class:"row"},{default:L(()=>[d.value>1?(z(),N(be,{key:0,onClick:b[1]||(b[1]=h=>l.value.previous()),color:"red",label:"Назад",class:"q-mr-sm"})):fe("",!0),C(be,{onClick:b[2]||(b[2]=h=>n()),disable:!ee(c).basketData?.length,color:"green",class:"col",label:"Оформить заказ"},null,8,["disable"])]),_:1})]),default:L(()=>[C(ft,{name:1,title:"Select campaign settings",icon:"settings",done:d.value>1},{default:L(()=>[V("div",Ln,[ee(c).basketData?.length?(z(),N(Tn,{key:0})):(z(),W("div",Pn,"Корзина пуста"))])]),_:1},8,["done"]),C(ft,{name:2,title:"Create an ad group",caption:"Optional",icon:"create_new_folder",done:d.value>2},{default:L(()=>[V("div",Vn,[C(Bn),V("div",Dn,[C(Nt,{label:"Коментарий к заказу",modelValue:s.value,"onUpdate:modelValue":b[0]||(b[0]=h=>s.value=h),outlined:"",type:"textarea",rows:"3"},null,8,["modelValue"])]),C(Zt)])]),_:1},8,["done"]),C(ft,{name:3,title:"Ad template",icon:"assignment",disable:""},{default:L(()=>[...b[4]||(b[4]=[V("div",{class:"stepper-container"}," 3 шаг ",-1)])]),_:1})]),_:1},8,["modelValue"])]))}}),_e=Ft({}),zn=Object.keys(jt),Qn=j({name:"QExpansionItem",props:{...jt,...Mt,...wt,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Qt,"click","afterShow","afterHide"],setup(e,{slots:i,emit:r}){const{proxy:{$q:u}}=te(),t=qt(e,u),a=T(e.modelValue!==null?e.modelValue:e.defaultOpened),c=T(null),d=ya(),{show:l,hide:s,toggle:n}=Rt({showing:a});let f,b;const h=v(()=>`q-expansion-item q-item-type q-expansion-item--${a.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),k=v(()=>e.contentInsetLevel===void 0?null:{["padding"+(u.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),w=v(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),g=v(()=>{const B={};return zn.forEach(H=>{B[H]=e[H]}),B}),_=v(()=>w.value===!0||e.expandIconToggle!==!0),q=v(()=>e.expandedIcon!==void 0&&a.value===!0?e.expandedIcon:e.expandIcon||u.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),$=v(()=>e.disable!==!0&&(w.value===!0||e.expandIconToggle===!0)),I=v(()=>({expanded:a.value===!0,detailsId:d.value,toggle:n,show:l,hide:s})),S=v(()=>{const B=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:u.lang.label[a.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":a.value===!0?"true":"false","aria-controls":d.value,"aria-label":B}});D(()=>e.group,B=>{b?.(),B!==void 0&&ae()});function P(B){w.value!==!0&&n(B),r("click",B)}function M(B){B.keyCode===13&&x(B,!0)}function x(B,H){H!==!0&&B.qAvoidFocus!==!0&&c.value?.focus(),n(B),_t(B)}function G(){r("afterShow")}function Q(){r("afterHide")}function ae(){f===void 0&&(f=_a()),a.value===!0&&(_e[e.group]=f);const B=D(a,J=>{J===!0?_e[e.group]=f:_e[e.group]===f&&delete _e[e.group]}),H=D(()=>_e[e.group],(J,Be)=>{Be===f&&J!==void 0&&J!==f&&s()});b=()=>{B(),H(),_e[e.group]===f&&delete _e[e.group],b=void 0}}function ke(){const B={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},H=[y(U,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&a.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:q.value})];return $.value===!0&&(Object.assign(B,{tabindex:0,...S.value,onClick:x,onKeyup:M}),H.unshift(y("div",{ref:c,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),y(pe,B,()=>H)}function oe(){let B;return i.header!==void 0?B=[].concat(i.header(I.value)):(B=[y(pe,()=>[y($e,{lines:e.labelLines},()=>e.label||""),e.caption?y($e,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&B[e.switchToggleSide===!0?"push":"unshift"](y(pe,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>y(U,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&B[e.switchToggleSide===!0?"unshift":"push"](ke()),B}function le(){const B={ref:"item",style:e.headerStyle,class:e.headerClass,dark:t.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return _.value===!0&&(B.clickable=!0,B.onClick=P,Object.assign(B,w.value===!0?g.value:S.value)),y(Xe,B,oe)}function de(){return We(y("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:k.value,id:d.value},se(i.default)),[[wa,a.value]])}function re(){const B=[le(),y(Yt,{duration:e.duration,onShow:G,onHide:Q},de)];return e.expandSeparator===!0&&B.push(y(je,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:t.value}),y(je,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:t.value})),B}return e.group!==void 0&&ae(),ce(()=>{b?.()}),()=>y("div",{class:h.value},[y("div",{class:"q-expansion-item__container relative-position"},re())])}}),Mn={class:"row justify-between"},Rn={class:"content-center"},En={class:"q-pl-md"},On=Se({__name:"MenuItems",props:{id:{},name:{},path:{default:"#"},icon:{default:""},children:{},action:{},disabled:{type:Boolean},deleted:{type:Boolean,default:!1},parent_id:{},pathName:{},hide_buttons:{type:Boolean},description:{}},setup(e){const i=xt(),r=Ue(),u=Wt(),t=Ut(),a=T(!1);function c(l,s,n,f){u.meta.sorting=f,Lt.value=l,d(f),n&&(a.value=!a.value),s&&r.push(s)}async function d(l){try{i.loading.show(),l?(t.pagination.category_ids=l,t.pagination.offset=0):(delete t.pagination.category_ids,t.pagination.offset=0);const s={offset:t.pagination.offset,limit:t.pagination.limit,category_ids:t.pagination.category_ids},n=await t.fetchProducts(s);n&&(t.products=n.items)}catch(s){console.error(s)}finally{i.loading.hide()}}return(l,s)=>{const n=kt("MenuItems",!0);return z(),W(ye,null,[!l.children&&!l.disabled?(z(),N(Xe,{key:0,clickable:"",tag:"a",target:"_blank",onClick:s[0]||(s[0]=f=>c(l.name,l.path,l.action,l.id)),class:qa(ee(Lt)===l.name?"active-menu-item":"")},{default:L(()=>[l.icon?(z(),N(pe,{key:0,avatar:""},{default:L(()=>[C(U,{name:l.icon},null,8,["name"])]),_:1})):fe("",!0),C(pe,null,{default:L(()=>[V("div",Mn,[V("div",Rn,Z(l.name),1)])]),_:1})]),_:1},8,["class"])):fe("",!0),l.children?(z(),N(qe,{key:1},{default:L(()=>[C(Qn,{icon:l.icon,label:l.name},{default:L(()=>[V("div",En,[(z(!0),W(ye,null,we(l.children,f=>(z(),N(n,Kt({key:f.name,deleted:!0},{ref_for:!0},f),null,16))),128))])]),_:1},8,["icon","label"])]),_:1})):fe("",!0)],64)}}}),Hn=Ct(On,[["__scopeId","data-v-d4752857"]]),Nn={class:"row justify-between"},Fn={class:"items-center"},jn={class:"items-center"},so=Se({__name:"MainLayout",setup(e){ct.set(!1);const i=xt(),r=Ue(),u=Wt(),t=Ut(),a=Aa(),c=Ye(),{isAdmin:d,isManager:l}=za(),s=v(()=>i.platform.is.mobile?window.screen.width:370),n=T("dark"),f=T(""),b=T(!1),h=T(!1),k=Ft({dark:"dark",light:"light"}),w=v(()=>ct.isActive),g=v(()=>w.value?k.dark:k.light),_=()=>{ct.toggle(),window.localStorage.setItem("theme",g.value)},q=T(),$=T([{name:"Главная",icon:"home",pathName:"/",path:"/"},{name:"Категории",icon:"reorder",hide_buttons:!0,pathName:"categories",path:"categories"},{name:"Пользователи",icon:"people",hide_buttons:!0,pathName:"users",path:"users",disabled:!d.value}]);ue(async()=>{try{await a.fetchCategories(),i.loading.show()}catch(M){console.error(M)}finally{i.loading.hide()}});function I(){b.value=!b.value}function S(){r.back()}async function P(){try{i.loading.show();let M={},x=[];f.value?(M={offset:0,limit:20,query:f.value?f.value:""},x=await t.fetchProductsSearch(M)):(t.pagination.offset=0,t.pagination.total=0,t.pagination.has_more=!0,x=await t.fetchProducts(t.pagination)),x&&(t.products=x.items)}catch(M){console.error(M)}finally{i.loading.hide()}}return(M,x)=>{const G=kt("router-view");return z(),N(Ua,{view:"lHh Lpr lFf"},{default:L(()=>[C(Ha,{class:"bg-light-gray"},{default:L(()=>[C(Ea,null,{default:L(()=>[ee(l)?(z(),N(be,{key:0,"text-color":"grey",flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:I})):fe("",!0),V("div",null,[ee(u).name!=="dashboard"?(z(),N(be,{key:0,onClick:x[0]||(x[0]=Q=>S()),"text-color":"grey",flat:"",dense:"",round:"",icon:"arrow_back_ios","aria-label":"Home"})):(z(),N(be,{key:1,"text-color":"grey",flat:"",dense:"",round:"",icon:"home","aria-label":"Home"}))]),C(Qa,null,{default:L(()=>[ee(u).name==="dashboard"?(z(),N(Nt,{key:0,modelValue:f.value,"onUpdate:modelValue":[x[2]||(x[2]=Q=>f.value=Q),x[3]||(x[3]=Q=>P())],debounce:"500",dense:"",borderless:"",rounded:"",outlined:""},{append:L(()=>[C(U,{name:"search",onClick:x[1]||(x[1]=Q=>P())})]),_:1},8,["modelValue"])):fe("",!0)]),_:1}),C(be,{"text-color":"grey",flat:"",dense:"",round:"",icon:"shopping_cart_checkout","aria-label":"cart",onClick:x[4]||(x[4]=Q=>h.value=!h.value)},{default:L(()=>[ee(c).basketData?.length?(z(),N(Ra,{key:0,color:"red",floating:""},{default:L(()=>[St(Z(ee(c).basketData?.length),1)]),_:1})):fe("",!0)]),_:1}),x[12]||(x[12]=V("div",null,null,-1))]),_:1})]),_:1}),C(Dt,{modelValue:b.value,"onUpdate:modelValue":x[7]||(x[7]=Q=>b.value=Q),"show-if-above":"",bordered:""},{default:L(()=>[C(qe,null,{default:L(()=>[C($e,{header:""},{default:L(()=>[V("div",Nn,[x[13]||(x[13]=V("div",{class:"text-h6"},"Меню",-1)),V("div",null,[C(ka,{modelValue:n.value,"onUpdate:modelValue":x[5]||(x[5]=Q=>n.value=Q),size:"sm","no-caps":"",unelevated:"",dense:"","toggle-color":"grey-9",color:"white","text-color":"grey-9",options:[{value:"dark",slot:"dark",title:"Dark mode"},{value:"light",slot:"light",title:"Light mode"}],onClick:x[6]||(x[6]=Q=>_())},{dark:L(()=>[V("div",Fn,[C(U,{name:"nightlight"})])]),light:L(()=>[V("div",jn,[C(U,{name:"light_mode"})])]),_:1},8,["modelValue"])])])]),_:1}),(z(!0),W(ye,null,we($.value,Q=>(z(),N(Hn,Kt({key:Q.name},{ref_for:!0},Q),null,16))),128))]),_:1})]),_:1},8,["modelValue"]),C(Dt,{width:s.value,side:"right",modelValue:h.value,"onUpdate:modelValue":x[10]||(x[10]=Q=>h.value=Q),"show-if-above":"",bordered:""},{default:L(()=>[C(qe,null,{default:L(()=>[C($e,{class:"text-h5 flex justify-start items-center",header:""},{default:L(()=>[C(U,{name:"close",size:"30px",onClick:x[8]||(x[8]=Q=>h.value=!h.value)}),x[14]||(x[14]=V("span",{class:"q-mx-auto"}," Kорзина ",-1))]),_:1}),C(An,{onCloseBasket:x[9]||(x[9]=Q=>h.value=!h.value)})]),_:1})]),_:1},8,["width","modelValue"]),V("pre",null,Z(q.value||""),1),C(Fa,null,{default:L(()=>[C(G)]),_:1}),C(ja,{elevated:""},{default:L(()=>[C(ln,{onOpenBasket:x[11]||(x[11]=Q=>h.value=!h.value)})]),_:1})]),_:1})}}});export{so as default};
