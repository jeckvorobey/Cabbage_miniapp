import{Q as n}from"./QInfiniteScroll-qFBE1V0a.js";import{u as m}from"./use-quasar-BCD9tSqh.js";import{u as f}from"./orderStore-BlLBzhT4.js";import{O as d}from"./OrderHistoryItems-C3WuL5jg.js";import{V as p,m as l,a1 as c,Y as u,$ as i,Z as g,_ as h,a4 as _}from"./index-Cg_XczI2.js";import"./QItem-DhEKTULx.js";import"./QList-D3LrCq7B.js";import"./QBtnDropdown-D44dnPlf.js";import"./QMenu-BaSTYR6g.js";import"./ClosePopup-CTdCR1Nl.js";import"./QBadge-DTIZ_R2l.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H=p({__name:"MyOrderHistoryPage",setup(y){const r=m(),t=f();l(async()=>{t.pagination.offset=0,await e()});const s=async(o,a)=>{if(!t.pagination.has_more){a(!0);return}await e(),t.pagination.offset+=t.pagination.limit,a()};async function e(){try{r.loading.show();const o={limit:t.pagination.limit,offset:t.pagination.offset},a=await t.fetchMyOrder(o);a&&(t.pagination.total=a.total,t.pagination.has_more=a.has_more,t.ordersData?.length?t.ordersData.push(a.items):t.ordersData=a.items),a&&(t.ordersData=a.items)}catch(o){console.error(o)}finally{r.loading.hide()}}return(o,a)=>(u(),c("div",null,[i(n,{offset:250,onLoad:s},{default:g(()=>[a[0]||(a[0]=h("h6",{class:"text-center q-mt-md q-mb-md"},"История заказов",-1)),i(d,{orderData:_(t).ordersData,adminMode:!1},null,8,["orderData"])]),_:1})]))}});export{H as default};
