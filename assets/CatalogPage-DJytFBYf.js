import{Q as f}from"./QImg-CiatoAKR.js";import{V as _,a9 as h,g as x,a1 as r,Y as i,_ as a,a2 as q,a3 as v,a4 as l,$ as n,Z as m,aa as C,a6 as y,a0 as w}from"./index-D-7JaD_y.js";import{u as S,g as k}from"./use-quasar-BM3273VG.js";import{u as Q}from"./categoriesStore-BGP-oTsR.js";import{u as P}from"./productsStore-DWWCt79_.js";const b={class:"q-px-md"},B={class:"row q-col-gutter-sm"},V=["onClick"],$={class:"q-mr-sm"},I={class:"self-center text-18"},R=_({__name:"CatalogPage",setup(N){const c=S(),u=h(),d=Q(),s=P();x(()=>{console.log(d.categories)});async function p(o){try{c.loading.show(),o?(s.pagination.category_ids=o,s.pagination.offset=0):(delete s.pagination.category_ids,s.pagination.offset=0);const t={category_ids:s.pagination.category_ids,limit:s.pagination.limit,offset:s.pagination.offset},e=await s.fetchProducts(t);e&&(s.products=e.items),u.push("/")}catch(t){console.error(t)}finally{c.loading.hide()}}return(o,t)=>(i(),r("div",b,[t[0]||(t[0]=a("h5",{class:"text-center q-ma-none q-mb-sm"},"Каталог",-1)),t[1]||(t[1]=a("div",{class:"text-18 text-bold q-mb-sm"},"Список каталога:",-1)),a("div",B,[(i(!0),r(q,null,v(l(d).categories,(e,g)=>(i(),r("div",{key:g,class:"col-6",onClick:j=>p(e.id)},[n(w,{class:"my-card radius-16"},{default:m(()=>[n(C,{class:"row q-pa-sm"},{default:m(()=>[a("div",$,[n(f,{class:"cursor-pointer radius-8",src:e?.image?e.image:l(k)("/card-shop.jpg"),height:"60px",width:"60px",fit:"cover"},null,8,["src"])]),a("div",I,y(e.name),1)]),_:2},1024)]),_:2},1024)],8,V))),128))])]))}});export{R as default};
