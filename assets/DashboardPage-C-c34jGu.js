import{k as be,g as he,a as _t,v as qe,x as Gl,$ as Jl,c as g,h as S,l as Ge,aw as dl,ax as vl,ay as fl,az as ml,r as D,L as ke,N as fe,G as Oe,P as Ct,S as qt,w as de,n as Je,i as Zl,aA as ea,aB as ta,aC as Kt,aD as la,ad as Te,Q as ve,_ as aa,aE as na,aF as gl,aG as kt,aH as pl,aI as hl,Z as yl,aJ as oa,p as Sl,q as Ce,aK as ua,aL as bl,aM as ia,aN as ra,z as sa,aO as ca,aP as Wt,aQ as da,aR as Qe,aS as va,K as pt,aT as fa,aU as ma,aV as ga,aW as _l,C as xl,am as me,D as pa,E as ht,H as yt,I as at,J as Xt,M as ha,U as ya,a6 as Sa,aX as ba,aY as _a,aZ as xa,a_ as Yt,o as st,a$ as wa,d as ct,u as Ft,aj as ce,ai as ae,an as le,ah as Ye,aq as wl,F as Cl,f as K,ak as Le,b0 as it,ao as oe,ap as ge,av as Ke,b1 as xt,Y as nt,as as ql,b2 as Gt,at as Jt}from"./index-CHbczwVZ.js";import{b as Ca,h as Zt,n as el,g as tl,s as ll,u as Vt,Q as kl,a as qa}from"./orderStore-5Xm369bs.js";import{Q as ka,a as Fa}from"./QMenu-CDWhGwMX.js";import{b as Va,a as Aa,Q as Pa,u as At}from"./use-quasar-Ceic9ZEc.js";import{u as Fl,Q as al}from"./unitsStore-xV370A4C.js";import{C as ot}from"./ClosePopup-CEhpt8bT.js";import{E as ue,g as Vl}from"./useUtils-D0OZqhcB.js";import{c as za}from"./selection-MdkWz_OQ.js";import{_ as Pt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as Ia}from"./categoriesStore-8oS6Rfmf.js";const Ba=be({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:a}){const{proxy:{$q:o}}=he(),u=_t(Gl,qe);if(u===qe)return console.error("QPage needs to be a deep child of QLayout"),qe;if(_t(Jl,qe)===qe)return console.error("QPage needs to be child of QPageContainer"),qe;const l=g(()=>{const c=(u.header.space===!0?u.header.size:0)+(u.footer.space===!0?u.footer.size:0);if(typeof e.styleFn=="function"){const y=u.isContainer.value===!0?u.containerHeight.value:o.screen.height;return e.styleFn(c,y)}return{minHeight:u.isContainer.value===!0?u.containerHeight.value-c+"px":o.screen.height===0?c!==0?`calc(100vh - ${c}px)`:"100vh":o.screen.height-c+"px"}}),v=g(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>S("main",{class:v.value,style:l.value},Ge(a.default))}}),Da=be({name:"QUploaderAddTrigger",setup(){const e=_t(dl,qe);return e===qe&&console.error("QUploaderAddTrigger needs to be child of QUploader"),e}}),$a={...vl,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},wt=50,Al=2*wt,Pl=Al*Math.PI,Ea=Math.round(Pl*1e3)/1e3,Ra=be({name:"QCircularProgress",props:{...$a,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:a}){const{proxy:{$q:o}}=he(),u=fl(e),d=g(()=>{const h=(o.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(o.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-h}deg)`:`rotate3d(0, 0, 1, ${h-90}deg)`}}),l=g(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),v=g(()=>Al/(1-e.thickness/2)),c=g(()=>`${v.value/2} ${v.value/2} ${v.value} ${v.value}`),y=g(()=>Ca(e.value,e.min,e.max)),k=g(()=>e.max-e.min),f=g(()=>e.thickness/2*v.value),q=g(()=>{const h=(e.max-y.value)/k.value,n=e.rounded===!0&&y.value<e.max&&h<.25?f.value/2*(1-h/.25):0;return Pl*h+n});function i({thickness:h,offset:n,color:A,cls:m,rounded:b}){return S("circle",{class:"q-circular-progress__"+m+(A!==void 0?` text-${A}`:""),style:l.value,fill:"transparent",stroke:"currentColor","stroke-width":h,"stroke-dasharray":Ea,"stroke-dashoffset":n,"stroke-linecap":b,cx:v.value,cy:v.value,r:wt})}return()=>{const h=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&h.push(S("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:wt-f.value/2,cx:v.value,cy:v.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&h.push(i({cls:"track",thickness:f.value,offset:0,color:e.trackColor})),h.push(i({cls:"circle",thickness:f.value,offset:q.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const n=[S("svg",{class:"q-circular-progress__svg",style:d.value,viewBox:c.value,"aria-hidden":"true"},h)];return e.showValue===!0&&n.push(S("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},a.default!==void 0?a.default():[S("div",y.value)])),S("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:u.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:y.value},ml(a.internal,n))}}});function Me(e,a,o,u){const d=[];return e.forEach(l=>{u(l)===!0?d.push(l):a.push({failedPropValidation:o,file:l})}),d}function ut(e){e?.dataTransfer&&(e.dataTransfer.dropEffect="copy"),fe(e)}const Ma={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Oa=["rejected"];function Ta({editable:e,dnd:a,getFileInput:o,addFilesToQueue:u}){const{props:d,emit:l,proxy:v}=he(),c=D(null),y=g(()=>d.accept!==void 0?d.accept.split(",").map(p=>(p=p.trim(),p==="*"?"*/":(p.endsWith("/*")&&(p=p.slice(0,p.length-1)),p.toUpperCase()))):null),k=g(()=>parseInt(d.maxFiles,10)),f=g(()=>parseInt(d.maxTotalSize,10));function q(p){if(e.value)if(p!==Object(p)&&(p={target:null}),p.target?.matches('input[type="file"]')===!0)p.clientX===0&&p.clientY===0&&ke(p);else{const E=o();E!==p.target&&E?.click(p)}}function i(p){e.value&&p&&u(null,p)}function h(p,E,F,V){let _=Array.from(E||p.target.files);const R=[],H=()=>{R.length!==0&&l("rejected",R)};if(d.accept!==void 0&&y.value.indexOf("*/")===-1&&(_=Me(_,R,"accept",M=>y.value.some(I=>M.type.toUpperCase().startsWith(I)||M.name.toUpperCase().endsWith(I))),_.length===0))return H();if(d.maxFileSize!==void 0){const M=parseInt(d.maxFileSize,10);if(_=Me(_,R,"max-file-size",I=>I.size<=M),_.length===0)return H()}if(d.multiple!==!0&&_.length!==0&&(_=[_[0]]),_.forEach(M=>{M.__key=M.webkitRelativePath+M.lastModified+M.name+M.size}),V===!0){const M=F.map(I=>I.__key);_=Me(_,R,"duplicate",I=>M.includes(I.__key)===!1)}if(_.length===0)return H();if(d.maxTotalSize!==void 0){let M=V===!0?F.reduce((I,Z)=>I+Z.size,0):0;if(_=Me(_,R,"max-total-size",I=>(M+=I.size,M<=f.value)),_.length===0)return H()}if(typeof d.filter=="function"){const M=d.filter(_);_=Me(_,R,"filter",I=>M.includes(I))}if(d.maxFiles!==void 0){let M=V===!0?F.length:0;if(_=Me(_,R,"max-files",()=>(M++,M<=k.value)),_.length===0)return H()}if(H(),_.length!==0)return _}function n(p){ut(p),a.value!==!0&&(a.value=!0)}function A(p){fe(p),(p.relatedTarget!==null||Oe.is.safari!==!0?p.relatedTarget!==c.value:document.elementsFromPoint(p.clientX,p.clientY).includes(c.value)===!1)===!0&&(a.value=!1)}function m(p){ut(p);const E=p.dataTransfer.files;E.length!==0&&u(null,E),a.value=!1}function b(p){if(a.value===!0)return S("div",{ref:c,class:`q-${p}__dnd absolute-full`,onDragenter:ut,onDragover:ut,onDragleave:A,onDrop:m})}return Object.assign(v,{pickFiles:q,addFiles:i}),{pickFiles:q,addFiles:i,onDragover:n,onDragleave:A,processFiles:h,getDndNode:b,maxFilesNumber:k,maxTotalSizeNumber:f}}function nl(e){return(e*100).toFixed(2)+"%"}const La={...Ct,...Ma,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},zl=[...Oa,"start","finish","added","removed"];function Ua(e,a){const o=he(),{props:u,slots:d,emit:l,proxy:v}=o,{$q:c}=v,y=qt(u,c);function k(s,B,G){if(s.__status=B,B==="idle"){s.__uploaded=0,s.__progress=0,s.__sizeLabel=Zt(s.size),s.__progressLabel="0.00%";return}if(B==="failed"){v.$forceUpdate();return}s.__uploaded=B==="uploaded"?s.size:G,s.__progress=B==="uploaded"?1:Math.min(.9999,s.__uploaded/s.size),s.__progressLabel=nl(s.__progress),v.$forceUpdate()}const f=g(()=>u.disable!==!0&&u.readonly!==!0),q=D(!1),i=D(null),h=D(null),n={files:D([]),queuedFiles:D([]),uploadedFiles:D([]),uploadedSize:D(0),updateFileStatus:k,isAlive:()=>la(o)===!1},{pickFiles:A,addFiles:m,onDragover:b,onDragleave:p,processFiles:E,getDndNode:F,maxFilesNumber:V,maxTotalSizeNumber:_}=Ta({editable:f,dnd:q,getFileInput:r,addFilesToQueue:x});Object.assign(n,e({props:u,slots:d,emit:l,helpers:n,exposeApi:s=>{Object.assign(n,s)}})),n.isBusy===void 0&&(n.isBusy=D(!1));const R=D(0),H=g(()=>R.value===0?0:n.uploadedSize.value/R.value),M=g(()=>nl(H.value)),I=g(()=>Zt(R.value)),Z=g(()=>f.value===!0&&n.isUploading.value!==!0&&(u.multiple===!0||n.queuedFiles.value.length===0)&&(u.maxFiles===void 0||n.files.value.length<V.value)&&(u.maxTotalSize===void 0||R.value<_.value)),P=g(()=>f.value===!0&&n.isBusy.value!==!0&&n.isUploading.value!==!0&&n.queuedFiles.value.length!==0);aa(dl,ee);const Q=g(()=>"q-uploader column no-wrap"+(y.value===!0?" q-uploader--dark q-dark":"")+(u.bordered===!0?" q-uploader--bordered":"")+(u.square===!0?" q-uploader--square no-border-radius":"")+(u.flat===!0?" q-uploader--flat no-shadow":"")+(u.disable===!0?" disabled q-uploader--disable":"")+(q.value===!0?" q-uploader--dnd":"")),z=g(()=>"q-uploader__header"+(u.color!==void 0?` bg-${u.color}`:"")+(u.textColor!==void 0?` text-${u.textColor}`:""));de(n.isUploading,(s,B)=>{B===!1&&s===!0?l("start"):B===!0&&s===!1&&l("finish")});function O(){u.disable===!1&&(n.abort(),n.uploadedSize.value=0,R.value=0,we(),n.files.value=[],n.queuedFiles.value=[],n.uploadedFiles.value=[])}function U(){u.disable===!1&&xe(["uploaded"],()=>{n.uploadedFiles.value=[]})}function re(){xe(["idle","failed"],({size:s})=>{R.value-=s,n.queuedFiles.value=[]})}function xe(s,B){if(u.disable===!0)return;const G={files:[],size:0},ie=n.files.value.filter(J=>s.indexOf(J.__status)===-1?!0:(G.size+=J.size,G.files.push(J),J.__img!==void 0&&window.URL.revokeObjectURL(J.__img.src),!1));G.files.length!==0&&(n.files.value=ie,B(G),l("removed",G.files))}function ye(s){u.disable||(s.__status==="uploaded"?n.uploadedFiles.value=n.uploadedFiles.value.filter(B=>B.__key!==s.__key):s.__status==="uploading"?s.__abort():R.value-=s.size,n.files.value=n.files.value.filter(B=>B.__key!==s.__key?!0:(B.__img!==void 0&&window.URL.revokeObjectURL(B.__img.src),!1)),n.queuedFiles.value=n.queuedFiles.value.filter(B=>B.__key!==s.__key),l("removed",[s]))}function we(){n.files.value.forEach(s=>{s.__img!==void 0&&window.URL.revokeObjectURL(s.__img.src)})}function r(){return h.value||i.value.getElementsByClassName("q-uploader__input")[0]}function x(s,B){const G=E(s,B,n.files.value,!0),ie=r();ie!=null&&(ie.value=""),G!==void 0&&(G.forEach(J=>{if(n.updateFileStatus(J,"idle"),R.value+=J.size,u.noThumbnails!==!0&&J.type.toUpperCase().startsWith("IMAGE")){const Fe=new Image;Fe.src=window.URL.createObjectURL(J),J.__img=Fe}}),n.files.value=n.files.value.concat(G),n.queuedFiles.value=n.queuedFiles.value.concat(G),l("added",G),u.autoUpload===!0&&n.upload())}function $(){P.value===!0&&n.upload()}function j(s,B,G){if(s===!0){const ie={type:"a",key:B,icon:c.iconSet.uploader[B],flat:!0,dense:!0};let J;return B==="add"?(ie.onClick=A,J=ee):ie.onClick=G,S(ve,ie,J)}}function ee(){return S("input",{ref:h,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:u.accept,multiple:u.multiple===!0?"multiple":void 0,capture:u.capture,onMousedown:ke,onClick:A,onChange:x})}function N(){return d.header!==void 0?d.header(X):[S("div",{class:"q-uploader__header-content column"},[S("div",{class:"flex flex-center no-wrap q-gutter-xs"},[j(n.queuedFiles.value.length!==0,"removeQueue",re),j(n.uploadedFiles.value.length!==0,"removeUploaded",U),n.isUploading.value===!0?S(Kt,{class:"q-uploader__spinner"}):null,S("div",{class:"col column justify-center"},[u.label!==void 0?S("div",{class:"q-uploader__title"},[u.label]):null,S("div",{class:"q-uploader__subtitle"},[I.value+" / "+M.value])]),j(Z.value,"add"),j(u.hideUploadBtn===!1&&P.value===!0,"upload",n.upload),j(n.isUploading.value,"clear",n.abort)])])]}function T(){return d.list!==void 0?d.list(X):n.files.value.map(s=>S("div",{key:s.__key,class:"q-uploader__file relative-position"+(u.noThumbnails!==!0&&s.__img!==void 0?" q-uploader__file--img":"")+(s.__status==="failed"?" q-uploader__file--failed":s.__status==="uploaded"?" q-uploader__file--uploaded":""),style:u.noThumbnails!==!0&&s.__img!==void 0?{backgroundImage:'url("'+s.__img.src+'")',backgroundSize:u.thumbnailFit}:null},[S("div",{class:"q-uploader__file-header row flex-center no-wrap"},[s.__status==="failed"?S(Te,{class:"q-uploader__file-status",name:c.iconSet.type.negative,color:"negative"}):null,S("div",{class:"q-uploader__file-header-content col"},[S("div",{class:"q-uploader__title"},[s.name]),S("div",{class:"q-uploader__subtitle row items-center no-wrap"},[s.__sizeLabel+" / "+s.__progressLabel])]),s.__status==="uploading"?S(Ra,{value:s.__progress,min:0,max:1,indeterminate:s.__progress===0}):S(ve,{round:!0,dense:!0,flat:!0,icon:c.iconSet.uploader[s.__status==="uploaded"?"done":"clear"],onClick:()=>{ye(s)}})])]))}Je(()=>{n.isUploading.value===!0&&n.abort(),n.files.value.length!==0&&we()});const X={};for(const s in n)Zl(n[s])===!0?ea(X,s,()=>n[s].value):X[s]=n[s];return Object.assign(X,{upload:$,reset:O,removeUploadedFiles:U,removeQueuedFiles:re,removeFile:ye,pickFiles:A,addFiles:m}),ta(X,{canAddFiles:()=>Z.value,canUpload:()=>P.value,uploadSizeLabel:()=>I.value,uploadProgressLabel:()=>M.value}),a({...n,upload:$,reset:O,removeUploadedFiles:U,removeQueuedFiles:re,removeFile:ye,pickFiles:A,addFiles:m,canAddFiles:Z,canUpload:P,uploadSizeLabel:I,uploadProgressLabel:M}),()=>{const s=[S("div",{class:z.value},N()),S("div",{class:"q-uploader__list scroll"},T()),F("uploader")];n.isBusy.value===!0&&s.push(S("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[S(Kt)]));const B={ref:i,class:Q.value};return Z.value===!0&&Object.assign(B,{onDragover:b,onDragleave:p}),S("div",B,s)}}const Na=()=>!0;function Il(e){const a={};return e.forEach(o=>{a[o]=Na}),a}const ja=Il(zl),Ha=({name:e,props:a,emits:o,injectPlugin:u})=>be({name:e,props:{...La,...a},emits:na(o)===!0?{...ja,...o}:[...zl,...o],setup(d,{expose:l}){return Ua(u,l)}});function _e(e){return typeof e=="function"?e:()=>e}const Qa="QUploader",Ka={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},Wa=["factoryFailed","uploaded","failed","uploading"];function Xa({props:e,emit:a,helpers:o}){const u=D([]),d=D([]),l=D(0),v=g(()=>({url:_e(e.url),method:_e(e.method),headers:_e(e.headers),formFields:_e(e.formFields),fieldName:_e(e.fieldName),withCredentials:_e(e.withCredentials),sendRaw:_e(e.sendRaw),batch:_e(e.batch)})),c=g(()=>l.value>0),y=g(()=>d.value.length!==0);let k;function f(){u.value.forEach(n=>{n.abort()}),d.value.length!==0&&(k=!0)}function q(){const n=o.queuedFiles.value.slice(0);o.queuedFiles.value=[],v.value.batch(n)?i(n):n.forEach(A=>{i([A])})}function i(n){if(l.value++,typeof e.factory!="function"){h(n,{});return}const A=e.factory(n);if(!A)a("factoryFailed",new Error("QUploader: factory() does not return properly"),n),l.value--;else if(typeof A.catch=="function"&&typeof A.then=="function"){d.value.push(A);const m=b=>{o.isAlive()===!0&&(d.value=d.value.filter(p=>p!==A),d.value.length===0&&(k=!1),o.queuedFiles.value=o.queuedFiles.value.concat(n),n.forEach(p=>{o.updateFileStatus(p,"failed")}),a("factoryFailed",b,n),l.value--)};A.then(b=>{k===!0?m(new Error("Aborted")):o.isAlive()===!0&&(d.value=d.value.filter(p=>p!==A),h(n,b))}).catch(m)}else h(n,A||{})}function h(n,A){const m=new FormData,b=new XMLHttpRequest,p=(P,Q)=>A[P]!==void 0?_e(A[P])(Q):v.value[P](Q),E=p("url",n);if(!E){console.error("q-uploader: invalid or no URL specified"),l.value--;return}const F=p("formFields",n);F!==void 0&&F.forEach(P=>{m.append(P.name,P.value)});let V=0,_=0,R=0,H=0,M;b.upload.addEventListener("progress",P=>{if(M===!0)return;const Q=Math.min(H,P.loaded);o.uploadedSize.value+=Q-R,R=Q;let z=R-_;for(let O=V;z>0&&O<n.length;O++){const U=n[O];if(z>U.size)z-=U.size,V++,_+=U.size,o.updateFileStatus(U,"uploading",U.size);else{o.updateFileStatus(U,"uploading",z);return}}},!1),b.onreadystatechange=()=>{b.readyState<4||(b.status&&b.status<400?(o.uploadedFiles.value=o.uploadedFiles.value.concat(n),n.forEach(P=>{o.updateFileStatus(P,"uploaded")}),a("uploaded",{files:n,xhr:b})):(M=!0,o.uploadedSize.value-=R,o.queuedFiles.value=o.queuedFiles.value.concat(n),n.forEach(P=>{o.updateFileStatus(P,"failed")}),a("failed",{files:n,xhr:b})),l.value--,u.value=u.value.filter(P=>P!==b))},b.open(p("method",n),E),p("withCredentials",n)===!0&&(b.withCredentials=!0);const I=p("headers",n);I!==void 0&&I.forEach(P=>{b.setRequestHeader(P.name,P.value)});const Z=p("sendRaw",n);n.forEach(P=>{o.updateFileStatus(P,"uploading",0),Z!==!0&&m.append(p("fieldName",P),P,P.name),P.xhr=b,P.__abort=()=>{b.abort()},H+=P.size}),a("uploading",{files:n,xhr:b}),u.value.push(b),Z===!0?b.send(new Blob(n)):b.send(m)}return{isUploading:c,isBusy:y,abort:f,upload:q}}const Ya={name:Qa,props:Ka,emits:Wa,injectPlugin:Xa},Ga=Ha(Ya),Ja=be({name:"QField",inheritAttrs:!1,props:{...kt,tag:{type:String,default:"label"}},emits:gl,setup(){return pl(hl({tagProp:!0}))}}),Za={xs:8,sm:10,md:14,lg:20,xl:24},en=be({name:"QChip",props:{...Ct,...vl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:a,emit:o}){const{proxy:{$q:u}}=he(),d=qt(e,u),l=fl(e,Za),v=g(()=>e.selected===!0||e.icon!==void 0),c=g(()=>e.selected===!0?e.iconSelected||u.iconSet.chip.selected:e.icon),y=g(()=>e.iconRemove||u.iconSet.chip.remove),k=g(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),f=g(()=>{const m=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(m?` text-${m} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(k.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(d.value===!0?" q-chip--dark q-dark":"")}),q=g(()=>{const m=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},b={...m,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||u.lang.label.remove};return{chip:m,remove:b}});function i(m){m.keyCode===13&&h(m)}function h(m){e.disable||(o("update:selected",!e.selected),o("click",m))}function n(m){(m.keyCode===void 0||m.keyCode===13)&&(fe(m),e.disable===!1&&(o("update:modelValue",!1),o("remove")))}function A(){const m=[];k.value===!0&&m.push(S("div",{class:"q-focus-helper"})),v.value===!0&&m.push(S(Te,{class:"q-chip__icon q-chip__icon--left",name:c.value}));const b=e.label!==void 0?[S("div",{class:"ellipsis"},[e.label])]:void 0;return m.push(S("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},ml(a.default,b))),e.iconRight&&m.push(S(Te,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&m.push(S(Te,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:y.value,...q.value.remove,onClick:n,onKeyup:n})),m}return()=>{if(e.modelValue===!1)return;const m={class:f.value,style:l.value};return k.value===!0&&Object.assign(m,q.value.chip,{onClick:h,onKeyup:i}),yl("div",m,A(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[oa,e.ripple]])}}});let rt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const a=document.createElement("div");Object.assign(a.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(a),e.scrollLeft=-1e3,rt=e.scrollLeft>=0,e.remove()}const pe=1e3,tn=["start","center","end","start-force","center-force","end-force"],Bl=Array.prototype.filter,ln=window.getComputedStyle(document.body).overflowAnchor===void 0?Sl:function(e,a){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];Bl.call(o,d=>d.dataset&&d.dataset.qVsAnchor!==void 0).forEach(d=>{delete d.dataset.qVsAnchor});const u=o[a];u?.dataset&&(u.dataset.qVsAnchor="")}))};function Ue(e,a){return e+a}function St(e,a,o,u,d,l,v,c){const y=e===window?document.scrollingElement||document.documentElement:e,k=d===!0?"offsetWidth":"offsetHeight",f={scrollStart:0,scrollViewSize:-v-c,scrollMaxSize:0,offsetStart:-v,offsetEnd:-c};if(d===!0?(e===window?(f.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,f.scrollViewSize+=document.documentElement.clientWidth):(f.scrollStart=y.scrollLeft,f.scrollViewSize+=y.clientWidth),f.scrollMaxSize=y.scrollWidth,l===!0&&(f.scrollStart=(rt===!0?f.scrollMaxSize-f.scrollViewSize:0)-f.scrollStart)):(e===window?(f.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,f.scrollViewSize+=document.documentElement.clientHeight):(f.scrollStart=y.scrollTop,f.scrollViewSize+=y.clientHeight),f.scrollMaxSize=y.scrollHeight),o!==null)for(let q=o.previousElementSibling;q!==null;q=q.previousElementSibling)q.classList.contains("q-virtual-scroll--skip")===!1&&(f.offsetStart+=q[k]);if(u!==null)for(let q=u.nextElementSibling;q!==null;q=q.nextElementSibling)q.classList.contains("q-virtual-scroll--skip")===!1&&(f.offsetEnd+=q[k]);if(a!==e){const q=y.getBoundingClientRect(),i=a.getBoundingClientRect();d===!0?(f.offsetStart+=i.left-q.left,f.offsetEnd-=i.width):(f.offsetStart+=i.top-q.top,f.offsetEnd-=i.height),e!==window&&(f.offsetStart+=f.scrollStart),f.offsetEnd+=f.scrollMaxSize-f.offsetStart}return f}function ol(e,a,o,u){a==="end"&&(a=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(u===!0&&(a=(rt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-a),window.scrollTo(a,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a):o===!0?(u===!0&&(a=(rt===!0?e.scrollWidth-e.offsetWidth:0)-a),e.scrollLeft=a):e.scrollTop=a}function We(e,a,o,u){if(o>=u)return 0;const d=a.length,l=Math.floor(o/pe),v=Math.floor((u-1)/pe)+1;let c=e.slice(l,v).reduce(Ue,0);return o%pe!==0&&(c-=a.slice(l*pe,o).reduce(Ue,0)),u%pe!==0&&u!==d&&(c-=a.slice(u,v*pe).reduce(Ue,0)),c}const an={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ul={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...an};function nn({virtualScrollLength:e,getVirtualScrollTarget:a,getVirtualScrollEl:o,virtualScrollItemSizeComputed:u}){const d=he(),{props:l,emit:v,proxy:c}=d,{$q:y}=c;let k,f,q,i=[],h;const n=D(0),A=D(0),m=D({}),b=D(null),p=D(null),E=D(null),F=D({from:0,to:0}),V=g(()=>l.tableColspan!==void 0?l.tableColspan:100);u===void 0&&(u=g(()=>l.virtualScrollItemSize));const _=g(()=>u.value+";"+l.virtualScrollHorizontal),R=g(()=>_.value+";"+l.virtualScrollSliceRatioBefore+";"+l.virtualScrollSliceRatioAfter);de(R,()=>{U()}),de(_,H);function H(){O(f,!0)}function M(r){O(r===void 0?f:r)}function I(r,x){const $=a();if($==null||$.nodeType===8)return;const j=St($,o(),b.value,p.value,l.virtualScrollHorizontal,y.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd);q!==j.scrollViewSize&&U(j.scrollViewSize),P($,j,Math.min(e.value-1,Math.max(0,parseInt(r,10)||0)),0,tn.indexOf(x)!==-1?x:f!==-1&&r>f?"end":"start")}function Z(){const r=a();if(r==null||r.nodeType===8)return;const x=St(r,o(),b.value,p.value,l.virtualScrollHorizontal,y.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd),$=e.value-1,j=x.scrollMaxSize-x.offsetStart-x.offsetEnd-A.value;if(k===x.scrollStart)return;if(x.scrollMaxSize<=0){P(r,x,0,0);return}q!==x.scrollViewSize&&U(x.scrollViewSize),Q(F.value.from);const ee=Math.floor(x.scrollMaxSize-Math.max(x.scrollViewSize,x.offsetEnd)-Math.min(h[$],x.scrollViewSize/2));if(ee>0&&Math.ceil(x.scrollStart)>=ee){P(r,x,$,x.scrollMaxSize-x.offsetEnd-i.reduce(Ue,0));return}let N=0,T=x.scrollStart-x.offsetStart,X=T;if(T<=j&&T+x.scrollViewSize>=n.value)T-=n.value,N=F.value.from,X=T;else for(let s=0;T>=i[s]&&N<$;s++)T-=i[s],N+=pe;for(;T>0&&N<$;)T-=h[N],T>-x.scrollViewSize?(N++,X=T):X=h[N]+T;P(r,x,N,X)}function P(r,x,$,j,ee){const N=typeof ee=="string"&&ee.indexOf("-force")!==-1,T=N===!0?ee.replace("-force",""):ee,X=T!==void 0?T:"start";let s=Math.max(0,$-m.value[X]),B=s+m.value.total;B>e.value&&(B=e.value,s=Math.max(0,B-m.value.total)),k=x.scrollStart;const G=s!==F.value.from||B!==F.value.to;if(G===!1&&T===void 0){xe($);return}const{activeElement:ie}=document,J=E.value;G===!0&&J!==null&&J!==ie&&J.contains(ie)===!0&&(J.addEventListener("focusout",z),setTimeout(()=>{J?.removeEventListener("focusout",z)})),ln(J,$-s);const Fe=T!==void 0?h.slice(s,$).reduce(Ue,0):0;if(G===!0){const Ve=B>=F.value.from&&s<=F.value.to?F.value.to:B;F.value={from:s,to:Ve},n.value=We(i,h,0,s),A.value=We(i,h,B,e.value),requestAnimationFrame(()=>{F.value.to!==B&&k===x.scrollStart&&(F.value={from:F.value.from,to:B},A.value=We(i,h,B,e.value))})}requestAnimationFrame(()=>{if(k!==x.scrollStart)return;G===!0&&Q(s);const Ve=h.slice(s,$).reduce(Ue,0),Ae=Ve+x.offsetStart+n.value,Ze=Ae+h[$];let Ne=Ae+j;if(T!==void 0){const dt=Ve-Fe,je=x.scrollStart+dt;Ne=N!==!0&&je<Ae&&Ze<je+x.scrollViewSize?je:T==="end"?Ze-x.scrollViewSize:Ae-(T==="start"?0:Math.round((x.scrollViewSize-h[$])/2))}k=Ne,ol(r,Ne,l.virtualScrollHorizontal,y.lang.rtl),xe($)})}function Q(r){const x=E.value;if(x){const $=Bl.call(x.children,s=>s.classList&&s.classList.contains("q-virtual-scroll--skip")===!1),j=$.length,ee=l.virtualScrollHorizontal===!0?s=>s.getBoundingClientRect().width:s=>s.offsetHeight;let N=r,T,X;for(let s=0;s<j;){for(T=ee($[s]),s++;s<j&&$[s].classList.contains("q-virtual-scroll--with-prev")===!0;)T+=ee($[s]),s++;X=T-h[N],X!==0&&(h[N]+=X,i[Math.floor(N/pe)]+=X),N++}}}function z(){E.value?.focus()}function O(r,x){const $=1*u.value;(x===!0||Array.isArray(h)===!1)&&(h=[]);const j=h.length;h.length=e.value;for(let N=e.value-1;N>=j;N--)h[N]=$;const ee=Math.floor((e.value-1)/pe);i=[];for(let N=0;N<=ee;N++){let T=0;const X=Math.min((N+1)*pe,e.value);for(let s=N*pe;s<X;s++)T+=h[s];i.push(T)}f=-1,k=void 0,n.value=We(i,h,0,F.value.from),A.value=We(i,h,F.value.to,e.value),r>=0?(Q(F.value.from),Ce(()=>{I(r)})):ye()}function U(r){if(r===void 0&&typeof window<"u"){const T=a();T!=null&&T.nodeType!==8&&(r=St(T,o(),b.value,p.value,l.virtualScrollHorizontal,y.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd).scrollViewSize)}q=r;const x=parseFloat(l.virtualScrollSliceRatioBefore)||0,$=parseFloat(l.virtualScrollSliceRatioAfter)||0,j=1+x+$,ee=r===void 0||r<=0?1:Math.ceil(r/u.value),N=Math.max(1,ee,Math.ceil((l.virtualScrollSliceSize>0?l.virtualScrollSliceSize:10)/j));m.value={total:Math.ceil(N*j),start:Math.ceil(N*x),center:Math.ceil(N*(.5+x)),end:Math.ceil(N*(1+x)),view:ee}}function re(r,x){const $=l.virtualScrollHorizontal===!0?"width":"height",j={["--q-virtual-scroll-item-"+$]:u.value+"px"};return[r==="tbody"?S(r,{class:"q-virtual-scroll__padding",key:"before",ref:b},[S("tr",[S("td",{style:{[$]:`${n.value}px`,...j},colspan:V.value})])]):S(r,{class:"q-virtual-scroll__padding",key:"before",ref:b,style:{[$]:`${n.value}px`,...j}}),S(r,{class:"q-virtual-scroll__content",key:"content",ref:E,tabindex:-1},x.flat()),r==="tbody"?S(r,{class:"q-virtual-scroll__padding",key:"after",ref:p},[S("tr",[S("td",{style:{[$]:`${A.value}px`,...j},colspan:V.value})])]):S(r,{class:"q-virtual-scroll__padding",key:"after",ref:p,style:{[$]:`${A.value}px`,...j}})]}function xe(r){f!==r&&(l.onVirtualScroll!==void 0&&v("virtualScroll",{index:r,from:F.value.from,to:F.value.to-1,direction:r<f?"decrease":"increase",ref:c}),f=r)}U();const ye=ua(Z,y.platform.is.ios===!0?120:35);bl(()=>{U()});let we=!1;return ia(()=>{we=!0}),ra(()=>{if(we!==!0)return;const r=a();k!==void 0&&r!==void 0&&r!==null&&r.nodeType!==8?ol(r,k,l.virtualScrollHorizontal,y.lang.rtl):I(f)}),Je(()=>{ye.cancel()}),Object.assign(c,{scrollTo:I,reset:H,refresh:M}),{virtualScrollSliceRange:F,virtualScrollSliceSizeComputed:m,setVirtualScrollSize:U,onVirtualScrollEvt:ye,localResetVirtualScroll:O,padVirtualScroll:re,scrollTo:I,reset:H,refresh:M}}const il=e=>["add","add-unique","toggle"].includes(e),on=".*+?^${}()|[]\\",un=Object.keys(kt);function bt(e,a){if(typeof e=="function")return e;const o=e!==void 0?e:a;return u=>u!==null&&typeof u=="object"&&o in u?u[o]:u}const rl=be({name:"QSelect",inheritAttrs:!1,props:{...ul,...sa,...kt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:il},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:ul.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...gl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:a,emit:o}){const{proxy:u}=he(),{$q:d}=u,l=D(!1),v=D(!1),c=D(-1),y=D(""),k=D(!1),f=D(!1);let q=null,i=null,h,n,A,m=null,b,p,E,F;const V=D(null),_=D(null),R=D(null),H=D(null),M=D(null),I=ca(e),Z=da(Ut),P=g(()=>Array.isArray(e.options)?e.options.length:0),Q=g(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:z,virtualScrollSliceSizeComputed:O,localResetVirtualScroll:U,padVirtualScroll:re,onVirtualScrollEvt:xe,scrollTo:ye,setVirtualScrollSize:we}=nn({virtualScrollLength:P,getVirtualScrollTarget:Ml,getVirtualScrollEl:Tt,virtualScrollItemSizeComputed:Q}),r=hl(),x=g(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,w=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const C=e.mapOptions===!0&&h!==void 0?h:[],L=w.map(Y=>Rl(Y,C));return e.modelValue===null&&t===!0?L.filter(Y=>Y!==null):L}return w}),$=g(()=>{const t={};return un.forEach(w=>{const C=e[w];C!==void 0&&(t[w]=C)}),t}),j=g(()=>e.optionsDark===null?r.isDark.value:e.optionsDark),ee=g(()=>Wt(x.value)),N=g(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||x.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),T=g(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),X=g(()=>P.value===0),s=g(()=>x.value.map(t=>se.value(t)).join(", ")),B=g(()=>e.displayValue!==void 0?e.displayValue:s.value),G=g(()=>e.optionsHtml===!0?()=>!0:t=>t?.html===!0),ie=g(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||x.value.some(G.value))),J=g(()=>r.focused.value===!0?e.tabindex:-1),Fe=g(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":l.value===!0?"true":"false","aria-controls":`${r.targetUid.value}_lb`};return c.value>=0&&(t["aria-activedescendant"]=`${r.targetUid.value}_${c.value}`),t}),Ve=g(()=>({id:`${r.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ae=g(()=>x.value.map((t,w)=>({index:w,opt:t,html:G.value(t),selected:!0,removeAtIndex:El,toggleOption:Pe,tabindex:J.value}))),Ze=g(()=>{if(P.value===0)return[];const{from:t,to:w}=z.value;return e.options.slice(t,w).map((C,L)=>{const Y=Ie.value(C)===!0,W=ft(C)===!0,ne=t+L,te={clickable:!0,active:W,activeClass:je.value,manualFocus:!0,focused:!1,disable:Y,tabindex:-1,dense:e.optionsDense,dark:j.value,role:"option","aria-selected":W===!0?"true":"false",id:`${r.targetUid.value}_${ne}`,onClick:()=>{Pe(C)}};return Y!==!0&&(c.value===ne&&(te.focused=!0),d.platform.is.desktop===!0&&(te.onMousemove=()=>{l.value===!0&&Be(ne)})),{index:ne,opt:C,html:G.value(C),label:se.value(C),selected:te.active,focused:te.focused,toggleOption:Pe,setOptionIndex:Be,itemProps:te}})}),Ne=g(()=>e.dropdownIcon!==void 0?e.dropdownIcon:d.iconSet.arrow.dropdown),dt=g(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),je=g(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Se=g(()=>bt(e.optionValue,"value")),se=g(()=>bt(e.optionLabel,"label")),Ie=g(()=>bt(e.optionDisable,"disable")),et=g(()=>x.value.map(Se.value)),$l=g(()=>{const t={onInput:Ut,onChange:Z,onKeydown:Ot,onKeyup:Rt,onKeypress:Mt,onFocus:$t,onClick(w){n===!0&&ke(w)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=Z,t});de(x,t=>{h=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&r.innerLoading.value!==!0&&(v.value!==!0&&l.value!==!0||ee.value!==!0)&&(A!==!0&&Re(),(v.value===!0||l.value===!0)&&De(""))},{immediate:!0}),de(()=>e.fillInput,Re),de(l,mt),de(P,Yl);function Bt(t){return e.emitValue===!0?Se.value(t):t}function vt(t){if(t!==-1&&t<x.value.length)if(e.multiple===!0){const w=e.modelValue.slice();o("remove",{index:t,value:w.splice(t,1)[0]}),o("update:modelValue",w)}else o("update:modelValue",null)}function El(t){vt(t),r.focus()}function Dt(t,w){const C=Bt(t);if(e.multiple!==!0){e.fillInput===!0&&He(se.value(t),!0,!0),o("update:modelValue",C);return}if(x.value.length===0){o("add",{index:0,value:C}),o("update:modelValue",e.multiple===!0?[C]:C);return}if(w===!0&&ft(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const L=e.modelValue.slice();o("add",{index:L.length,value:C}),L.push(C),o("update:modelValue",L)}function Pe(t,w){if(r.editable.value!==!0||t===void 0||Ie.value(t)===!0)return;const C=Se.value(t);if(e.multiple!==!0){w!==!0&&(He(e.fillInput===!0?se.value(t):"",!0,!0),ze()),_.value?.focus(),(x.value.length===0||Qe(Se.value(x.value[0]),C)!==!0)&&o("update:modelValue",e.emitValue===!0?C:t);return}if((n!==!0||k.value===!0)&&r.focus(),$t(),x.value.length===0){const W=e.emitValue===!0?C:t;o("add",{index:0,value:W}),o("update:modelValue",e.multiple===!0?[W]:W);return}const L=e.modelValue.slice(),Y=et.value.findIndex(W=>Qe(W,C));if(Y!==-1)o("remove",{index:Y,value:L.splice(Y,1)[0]});else{if(e.maxValues!==void 0&&L.length>=e.maxValues)return;const W=e.emitValue===!0?C:t;o("add",{index:L.length,value:W}),L.push(W)}o("update:modelValue",L)}function Be(t){if(d.platform.is.desktop!==!0)return;const w=t!==-1&&t<P.value?t:-1;c.value!==w&&(c.value=w)}function tt(t=1,w){if(l.value===!0){let C=c.value;do C=el(C+t,-1,P.value-1);while(C!==-1&&C!==c.value&&Ie.value(e.options[C])===!0);c.value!==C&&(Be(C),ye(C),w!==!0&&e.useInput===!0&&e.fillInput===!0&&lt(C>=0?se.value(e.options[C]):b,!0))}}function Rl(t,w){const C=L=>Qe(Se.value(L),t);return e.options.find(C)||w.find(C)||t}function ft(t){const w=Se.value(t);return et.value.find(C=>Qe(C,w))!==void 0}function $t(t){e.useInput===!0&&_.value!==null&&(t===void 0||_.value===t.target&&t.target.value===s.value)&&_.value.select()}function Et(t){ga(t,27)===!0&&l.value===!0&&(ke(t),ze(),Re()),o("keyup",t)}function Rt(t){const{value:w}=t.target;if(t.keyCode!==void 0){Et(t);return}if(t.target.value="",q!==null&&(clearTimeout(q),q=null),i!==null&&(clearTimeout(i),i=null),Re(),typeof w=="string"&&w.length!==0){const C=w.toLocaleLowerCase(),L=W=>{const ne=e.options.find(te=>String(W.value(te)).toLocaleLowerCase()===C);return ne===void 0?!1:(x.value.indexOf(ne)===-1?Pe(ne):ze(),!0)},Y=W=>{L(Se)!==!0&&W!==!0&&L(se)!==!0&&De(w,!0,()=>Y(!0))};Y()}else r.clearValue(t)}function Mt(t){o("keypress",t)}function Ot(t){if(o("keydown",t),va(t)===!0)return;const w=y.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),C=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(c.value!==-1||w===!0);if(t.keyCode===27){pt(t);return}if(t.keyCode===9&&C===!1){$e();return}if(t.target===void 0||t.target.id!==r.targetUid.value||r.editable.value!==!0)return;if(t.keyCode===40&&r.innerLoading.value!==!0&&l.value===!1){fe(t),Ee();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&y.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?vt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof y.value!="string"||y.value.length===0)&&(fe(t),c.value=-1,tt(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&O.value!==void 0&&(fe(t),c.value=Math.max(-1,Math.min(P.value,c.value+(t.keyCode===33?-1:1)*O.value.view)),tt(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(fe(t),tt(t.keyCode===38?-1:1,e.multiple));const L=P.value;if((E===void 0||F<Date.now())&&(E=""),L>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||E.length!==0)){l.value!==!0&&Ee(t);const Y=t.key.toLocaleLowerCase(),W=E.length===1&&E[0]===Y;F=Date.now()+1500,W===!1&&(fe(t),E+=Y);const ne=new RegExp("^"+E.split("").map(gt=>on.indexOf(gt)!==-1?"\\"+gt:gt).join(".*"),"i");let te=c.value;if(W===!0||te<0||ne.test(se.value(e.options[te]))!==!0)do te=el(te+1,-1,L-1);while(te!==c.value&&(Ie.value(e.options[te])===!0||ne.test(se.value(e.options[te]))!==!0));c.value!==te&&Ce(()=>{Be(te),ye(te),te>=0&&e.useInput===!0&&e.fillInput===!0&&lt(se.value(e.options[te]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||E!=="")&&(t.keyCode!==9||C===!1))){if(t.keyCode!==9&&fe(t),c.value!==-1&&c.value<L){Pe(e.options[c.value]);return}if(w===!0){const Y=(W,ne)=>{if(ne){if(il(ne)!==!0)return}else ne=e.newValueMode;if(He("",e.multiple!==!0,!0),W==null)return;(ne==="toggle"?Pe:Dt)(W,ne==="add-unique"),e.multiple!==!0&&(_.value?.focus(),ze())};if(e.onNewValue!==void 0?o("newValue",y.value,Y):Y(y.value),e.multiple!==!0)return}l.value===!0?$e():r.innerLoading.value!==!0&&Ee()}}function Tt(){return n===!0?M.value:R.value!==null&&R.value.contentEl!==null?R.value.contentEl:void 0}function Ml(){return Tt()}function Ol(){return e.hideSelected===!0?[]:a["selected-item"]!==void 0?Ae.value.map(t=>a["selected-item"](t)).slice():a.selected!==void 0?[].concat(a.selected()):e.useChips===!0?Ae.value.map((t,w)=>S(en,{key:"option-"+w,removable:r.editable.value===!0&&Ie.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:J.value,onRemove(){t.removeAtIndex(w)}},()=>S("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:se.value(t.opt)}))):[S("span",{class:"ellipsis",[ie.value===!0?"innerHTML":"textContent"]:B.value})]}function Lt(){if(X.value===!0)return a["no-option"]!==void 0?a["no-option"]({inputValue:y.value}):void 0;const t=a.option!==void 0?a.option:C=>S(Pa,{key:C.index,...C.itemProps},()=>S(Va,()=>S(Aa,()=>S("span",{[C.html===!0?"innerHTML":"textContent"]:C.label}))));let w=re("div",Ze.value.map(t));return a["before-options"]!==void 0&&(w=a["before-options"]().concat(w)),xl(a["after-options"],w)}function Tl(t,w){const C=w===!0?{...Fe.value,...r.splitAttrs.attributes.value}:void 0,L={ref:w===!0?_:void 0,key:"i_t",class:N.value,style:e.inputStyle,value:y.value!==void 0?y.value:"",type:"search",...C,id:w===!0?r.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...$l.value};return t!==!0&&n===!0&&(Array.isArray(L.class)===!0?L.class=[...L.class,"no-pointer-events"]:L.class+=" no-pointer-events"),S("input",L)}function Ut(t){q!==null&&(clearTimeout(q),q=null),i!==null&&(clearTimeout(i),i=null),!(t&&t.target&&t.target.qComposing===!0)&&(lt(t.target.value||""),A=!0,b=y.value,r.focused.value!==!0&&(n!==!0||k.value===!0)&&r.focus(),e.onFilter!==void 0&&(q=setTimeout(()=>{q=null,De(y.value)},e.inputDebounce)))}function lt(t,w){y.value!==t&&(y.value=t,w===!0||e.inputDebounce===0||e.inputDebounce==="0"?o("inputValue",t):i=setTimeout(()=>{i=null,o("inputValue",t)},e.inputDebounce))}function He(t,w,C){A=C!==!0,e.useInput===!0&&(lt(t,!0),(w===!0||C!==!0)&&(b=t),w!==!0&&De(t))}function De(t,w,C){if(e.onFilter===void 0||w!==!0&&r.focused.value!==!0)return;r.innerLoading.value===!0?o("filterAbort"):(r.innerLoading.value=!0,f.value=!0),t!==""&&e.multiple!==!0&&x.value.length!==0&&A!==!0&&t===se.value(x.value[0])&&(t="");const L=setTimeout(()=>{l.value===!0&&(l.value=!1)},10);m!==null&&clearTimeout(m),m=L,o("filter",t,(Y,W)=>{(w===!0||r.focused.value===!0)&&m===L&&(clearTimeout(m),typeof Y=="function"&&Y(),f.value=!1,Ce(()=>{r.innerLoading.value=!1,r.editable.value===!0&&(w===!0?l.value===!0&&ze():l.value===!0?mt(!0):l.value=!0),typeof W=="function"&&Ce(()=>{W(u)}),typeof C=="function"&&Ce(()=>{C(u)})}))},()=>{r.focused.value===!0&&m===L&&(clearTimeout(m),r.innerLoading.value=!1,f.value=!1),l.value===!0&&(l.value=!1)})}function Ll(){return S(ka,{ref:R,class:T.value,style:e.popupContentStyle,modelValue:l.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&X.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:j.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:dt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ve.value,onScrollPassive:xe,onBeforeShow:jt,onBeforeHide:Ul,onShow:Nl},Lt)}function Ul(t){Ht(t),$e()}function Nl(){we()}function jl(t){ke(t),_.value?.focus(),k.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Hl(t){ke(t),Ce(()=>{k.value=!1})}function Ql(){const t=[S(Ja,{class:`col-auto ${r.fieldClass.value}`,...$.value,for:r.targetUid.value,dark:j.value,square:!0,loading:f.value,itemAligned:!1,filled:!0,stackLabel:y.value.length!==0,...r.splitAttrs.listeners.value,onFocus:jl,onBlur:Hl},{...a,rawControl:()=>r.getControl(!0),before:void 0,after:void 0})];return l.value===!0&&t.push(S("div",{ref:M,class:T.value+" scroll",style:e.popupContentStyle,...Ve.value,onClick:pt,onScrollPassive:xe},Lt())),S(_l,{ref:H,modelValue:v.value,position:e.useInput===!0?"top":void 0,transitionShow:p,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:jt,onBeforeHide:Kl,onHide:Wl,onShow:Xl},()=>S("div",{class:"q-select__dialog"+(j.value===!0?" q-select__dialog--dark q-dark":"")+(k.value===!0?" q-select__dialog--focused":"")},t))}function Kl(t){Ht(t),H.value!==null&&H.value.__updateRefocusTarget(r.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),r.focused.value=!1}function Wl(t){ze(),r.focused.value===!1&&o("blur",t),Re()}function Xl(){const t=document.activeElement;(t===null||t.id!==r.targetUid.value)&&_.value!==null&&_.value!==t&&_.value.focus(),we()}function $e(){v.value!==!0&&(c.value=-1,l.value===!0&&(l.value=!1),r.focused.value===!1&&(m!==null&&(clearTimeout(m),m=null),r.innerLoading.value===!0&&(o("filterAbort"),r.innerLoading.value=!1,f.value=!1)))}function Ee(t){r.editable.value===!0&&(n===!0?(r.onControlFocusin(t),v.value=!0,Ce(()=>{r.focus()})):r.focus(),e.onFilter!==void 0?De(y.value):(X.value!==!0||a["no-option"]!==void 0)&&(l.value=!0))}function ze(){v.value=!1,$e()}function Re(){e.useInput===!0&&He(e.multiple!==!0&&e.fillInput===!0&&x.value.length!==0&&se.value(x.value[0])||"",!0,!0)}function mt(t){let w=-1;if(t===!0){if(x.value.length!==0){const C=Se.value(x.value[0]);w=e.options.findIndex(L=>Qe(Se.value(L),C))}U(w)}Be(w)}function Yl(t,w){l.value===!0&&r.innerLoading.value===!1&&(U(-1,!0),Ce(()=>{l.value===!0&&r.innerLoading.value===!1&&(t>w?U():mt(!0))}))}function Nt(){v.value===!1&&R.value!==null&&R.value.updatePosition()}function jt(t){t!==void 0&&ke(t),o("popupShow",t),r.hasPopupOpen=!0,r.onControlFocusin(t)}function Ht(t){t!==void 0&&ke(t),o("popupHide",t),r.hasPopupOpen=!1,r.onControlFocusout(t)}function Qt(){n=d.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?a["no-option"]!==void 0||e.onFilter!==void 0||X.value===!1:!0),p=d.platform.is.ios===!0&&n===!0&&e.useInput===!0?"fade":e.transitionShow}return fa(Qt),ma(Nt),Qt(),Je(()=>{q!==null&&clearTimeout(q),i!==null&&clearTimeout(i)}),Object.assign(u,{showPopup:Ee,hidePopup:ze,removeAtIndex:vt,add:Dt,toggleOption:Pe,getOptionIndex:()=>c.value,setOptionIndex:Be,moveOptionSelection:tt,filter:De,updateMenuPosition:Nt,updateInputValue:He,isOptionSelected:ft,getEmittingOptionValue:Bt,isOptionDisabled:(...t)=>Ie.value.apply(null,t)===!0,getOptionValue:(...t)=>Se.value.apply(null,t),getOptionLabel:(...t)=>se.value.apply(null,t)}),Object.assign(r,{innerValue:x,fieldClass:g(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:V,targetRef:_,hasValue:ee,showPopup:Ee,floatingLabel:g(()=>e.hideSelected!==!0&&ee.value===!0||typeof y.value=="number"||y.value.length!==0||Wt(e.displayValue)),getControlChild:()=>{if(r.editable.value!==!1&&(v.value===!0||X.value!==!0||a["no-option"]!==void 0))return n===!0?Ql():Ll();r.hasPopupOpen===!0&&(r.hasPopupOpen=!1)},controlEvents:{onFocusin(t){r.onControlFocusin(t)},onFocusout(t){r.onControlFocusout(t,()=>{Re(),$e()})},onClick(t){if(pt(t),n!==!0&&l.value===!0){$e(),_.value?.focus();return}Ee(t)}},getControl:t=>{const w=Ol(),C=t===!0||v.value!==!0||n!==!0;if(e.useInput===!0)w.push(Tl(t,C));else if(r.editable.value===!0){const Y=C===!0?Fe.value:void 0;w.push(S("input",{ref:C===!0?_:void 0,key:"d_t",class:"q-select__focus-target",id:C===!0?r.targetUid.value:void 0,value:B.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...Y,onKeydown:Ot,onKeyup:Et,onKeypress:Mt})),C===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&w.push(S("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Rt}))}if(I.value!==void 0&&e.disable!==!0&&et.value.length!==0){const Y=et.value.map(W=>S("option",{value:W,selected:!0}));w.push(S("select",{class:"hidden",name:I.value,multiple:e.multiple},Y))}const L=e.useInput===!0||C!==!0?void 0:r.splitAttrs.attributes.value;return S("div",{class:"q-field__native row items-center",...L,...r.splitAttrs.listeners.value},w)},getInnerAppend:()=>e.loading!==!0&&f.value!==!0&&e.hideDropdownIcon!==!0?[S(Te,{class:"q-select__dropdown-icon"+(l.value===!0?" rotate-180":""),name:Ne.value})]:null}),pl(r)}});function zt(){const{emit:e,proxy:a}=he(),o=D(null);function u(){o.value.show()}function d(){o.value.hide()}function l(c){e("ok",c),d()}function v(){e("hide")}return Object.assign(a,{show:u,hide:d}),{dialogRef:o,onDialogHide:v,onDialogOK:l,onDialogCancel:d}}const Dl=["ok","hide"];zt.emits=Dl;zt.emitsObject=Il(Dl);function rn(e){const a=me(e);if(a&&typeof a=="object"&&"role"in a){const o=a.role;return o!=null?me(o):null}return a}function It(e){const a=g(()=>{const v=rn(e);if(v==null)return;const c=Number(v);if(Object.values(ue).includes(c))return c}),o=g(()=>a.value===ue.ADMIN),u=g(()=>a.value===ue.MANAGER||a.value===ue.ADMIN),d=g(()=>{const v=a.value;return v===ue.USER||v===ue.MANAGER||v===ue.ADMIN});return{permission:a,isAdmin:o,isManager:u,isUser:d,hasPermission:v=>g(()=>{const c=a.value;if(c==null)return!1;switch(Number(v)){case ue.ADMIN:return c===ue.ADMIN;case ue.MANAGER:return c===ue.MANAGER||c===ue.ADMIN;case ue.USER:return c===ue.USER||c===ue.MANAGER||c===ue.ADMIN;default:return!1}})}}function sn(e){const a=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((o,u)=>{const d=parseFloat(o);d&&(a[u]=d)}),a}const cn=pa({name:"touch-swipe",beforeMount(e,{value:a,arg:o,modifiers:u}){if(u.mouse!==!0&&Oe.has.touch!==!0)return;const d=u.mouseCapture===!0?"Capture":"",l={handler:a,sensitivity:sn(o),direction:tl(u),noop:Sl,mouseStart(v){ll(v,l)&&ha(v)&&(at(l,"temp",[[document,"mousemove","move",`notPassive${d}`],[document,"mouseup","end","notPassiveCapture"]]),l.start(v,!0))},touchStart(v){if(ll(v,l)){const c=v.target;at(l,"temp",[[c,"touchmove","move","notPassiveCapture"],[c,"touchcancel","end","notPassiveCapture"],[c,"touchend","end","notPassiveCapture"]]),l.start(v)}},start(v,c){Oe.is.firefox===!0&&yt(e,!0);const y=Xt(v);l.event={x:y.left,y:y.top,time:Date.now(),mouse:c===!0,dir:!1}},move(v){if(l.event===void 0)return;if(l.event.dir!==!1){fe(v);return}const c=Date.now()-l.event.time;if(c===0)return;const y=Xt(v),k=y.left-l.event.x,f=Math.abs(k),q=y.top-l.event.y,i=Math.abs(q);if(l.event.mouse!==!0){if(f<l.sensitivity[1]&&i<l.sensitivity[1]){l.end(v);return}}else if(window.getSelection().toString()!==""){l.end(v);return}else if(f<l.sensitivity[2]&&i<l.sensitivity[2])return;const h=f/c,n=i/c;l.direction.vertical===!0&&f<i&&f<100&&n>l.sensitivity[0]&&(l.event.dir=q<0?"up":"down"),l.direction.horizontal===!0&&f>i&&i<100&&h>l.sensitivity[0]&&(l.event.dir=k<0?"left":"right"),l.direction.up===!0&&f<i&&q<0&&f<100&&n>l.sensitivity[0]&&(l.event.dir="up"),l.direction.down===!0&&f<i&&q>0&&f<100&&n>l.sensitivity[0]&&(l.event.dir="down"),l.direction.left===!0&&f>i&&k<0&&i<100&&h>l.sensitivity[0]&&(l.event.dir="left"),l.direction.right===!0&&f>i&&k>0&&i<100&&h>l.sensitivity[0]&&(l.event.dir="right"),l.event.dir!==!1?(fe(v),l.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),za(),l.styleCleanup=A=>{l.styleCleanup=void 0,document.body.classList.remove("non-selectable");const m=()=>{document.body.classList.remove("no-pointer-events--children")};A===!0?setTimeout(m,50):m()}),l.handler({evt:v,touch:l.event.mouse!==!0,mouse:l.event.mouse,direction:l.event.dir,duration:c,distance:{x:f,y:i}})):l.end(v)},end(v){l.event!==void 0&&(ht(l,"temp"),Oe.is.firefox===!0&&yt(e,!1),l.styleCleanup?.(!0),v!==void 0&&l.event.dir!==!1&&fe(v),l.event=void 0)}};if(e.__qtouchswipe=l,u.mouse===!0){const v=u.mouseCapture===!0||u.mousecapture===!0?"Capture":"";at(l,"main",[[e,"mousedown","mouseStart",`passive${v}`]])}Oe.has.touch===!0&&at(l,"main",[[e,"touchstart","touchStart",`passive${u.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const o=e.__qtouchswipe;o!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&o.end(),o.handler=a.value),o.direction=tl(a.modifiers))},beforeUnmount(e){const a=e.__qtouchswipe;a!==void 0&&(ht(a,"main"),ht(a,"temp"),Oe.is.firefox===!0&&yt(e,!1),a.styleCleanup?.(),delete e.__qtouchswipe)}});function dn(){let e=Object.create(null);return{getCache:(a,o)=>e[a]===void 0?e[a]=typeof o=="function"?o():o:e[a],setCache(a,o){e[a]=o},hasCache(a){return Object.hasOwnProperty.call(e,a)},clearCache(a){a!==void 0?delete e[a]:e=Object.create(null)}}}const vn={name:{required:!0},disable:Boolean},sl={setup(e,{slots:a}){return()=>S("div",{class:"q-panel scroll",role:"tabpanel"},Ge(a.default))}},fn={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},mn=["update:modelValue","beforeTransition","transition"];function gn(){const{props:e,emit:a,proxy:o}=he(),{getCache:u}=dn(),{registerTimeout:d}=ya();let l,v;const c=D(null),y={value:null};function k(z){const O=e.vertical===!0?"up":"left";H((o.$q.lang.rtl===!0?-1:1)*(z.direction===O?1:-1))}const f=g(()=>[[cn,k,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),q=g(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),i=g(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),h=g(()=>`--q-transition-duration: ${e.transitionDuration}ms`),n=g(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),A=g(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),m=g(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);de(()=>e.modelValue,(z,O)=>{const U=F(z)===!0?V(z):-1;v!==!0&&R(U===-1?0:U<V(O)?-1:1),y.value!==U&&(y.value=U,a("beforeTransition",z,O),d(()=>{a("transition",z,O)},e.transitionDuration))});function b(){H(1)}function p(){H(-1)}function E(z){a("update:modelValue",z)}function F(z){return z!=null&&z!==""}function V(z){return l.findIndex(O=>O.props.name===z&&O.props.disable!==""&&O.props.disable!==!0)}function _(){return l.filter(z=>z.props.disable!==""&&z.props.disable!==!0)}function R(z){const O=z!==0&&e.animated===!0&&y.value!==-1?"q-transition--"+(z===-1?q.value:i.value):null;c.value!==O&&(c.value=O)}function H(z,O=y.value){let U=O+z;for(;U!==-1&&U<l.length;){const re=l[U];if(re!==void 0&&re.props.disable!==""&&re.props.disable!==!0){R(z),v=!0,a("update:modelValue",re.props.name),setTimeout(()=>{v=!1});return}U+=z}e.infinite===!0&&l.length!==0&&O!==-1&&O!==l.length&&H(z,z===-1?l.length:-1)}function M(){const z=V(e.modelValue);return y.value!==z&&(y.value=z),!0}function I(){const z=F(e.modelValue)===!0&&M()&&l[y.value];return e.keepAlive===!0?[S(_a,A.value,[S(m.value===!0?u(n.value,()=>({...sl,name:n.value})):sl,{key:n.value,style:h.value},()=>z)])]:[S("div",{class:"q-panel scroll",style:h.value,key:n.value,role:"tabpanel"},[z])]}function Z(){if(l.length!==0)return e.animated===!0?[S(Sa,{name:c.value},I)]:I()}function P(z){return l=ba(Ge(z.default,[])).filter(O=>O.props!==null&&O.props.slot===void 0&&F(O.props.name)===!0),l.length}function Q(){return l}return Object.assign(o,{next:b,previous:p,goTo:E}),{panelIndex:y,panelDirectives:f,updatePanelsList:P,updatePanelIndex:M,getPanelContent:Z,getEnabledPanels:_,getPanels:Q,isValidPanelName:F,keepAliveProps:A,needsUniqueKeepAliveWrapper:m,goToPanelByOffset:H,goToPanel:E,nextPanel:b,previousPanel:p}}const pn=be({name:"QCarouselSlide",props:{...vn,imgSrc:String},setup(e,{slots:a}){const o=g(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>S("div",{class:"q-carousel__slide",style:o.value},Ge(a.default))}}),hn=be({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,default:()=>[18,18],validator:e=>e.length===2}},setup(e,{slots:a}){const o=g(()=>`q-carousel__control absolute absolute-${e.position}`),u=g(()=>({margin:`${e.offset[1]}px ${e.offset[0]}px`}));return()=>S("div",{class:o.value,style:u.value},Ge(a.default))}});let Xe=0;const yn={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Sn=["update:fullscreen","fullscreen"];function bn(){const e=he(),{props:a,emit:o,proxy:u}=e;let d,l,v;const c=D(!1);xa(e)===!0&&de(()=>u.$route.fullPath,()=>{a.noRouteFullscreenExit!==!0&&f()}),de(()=>a.fullscreen,q=>{c.value!==q&&y()}),de(c,q=>{o("update:fullscreen",q),o("fullscreen",q)});function y(){c.value===!0?f():k()}function k(){c.value!==!0&&(c.value=!0,v=u.$el.parentNode,v.replaceChild(l,u.$el),document.body.appendChild(u.$el),Xe++,Xe===1&&document.body.classList.add("q-body--fullscreen-mixin"),d={handler:f},Yt.add(d))}function f(){c.value===!0&&(d!==void 0&&(Yt.remove(d),d=void 0),v.replaceChild(u.$el,l),c.value=!1,Xe=Math.max(0,Xe-1),Xe===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),u.$el.scrollIntoView!==void 0&&setTimeout(()=>{u.$el.scrollIntoView()})))}return bl(()=>{l=document.createElement("span")}),st(()=>{a.fullscreen===!0&&k()}),Je(f),Object.assign(u,{toggleFullscreen:y,setFullscreen:k,exitFullscreen:f}),{inFullscreen:c,toggleFullscreen:y}}const _n=["top","right","bottom","left"],xn=["regular","flat","outline","push","unelevated"],wn=be({name:"QCarousel",props:{...Ct,...fn,...yn,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>xn.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>_n.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...Sn,...mn],setup(e,{slots:a}){const{proxy:{$q:o}}=he(),u=qt(e,o);let d=null,l;const{updatePanelsList:v,getPanelContent:c,panelDirectives:y,goToPanel:k,previousPanel:f,nextPanel:q,getEnabledPanels:i,panelIndex:h}=gn(),{inFullscreen:n}=bn(),A=g(()=>n.value!==!0&&e.height!==void 0?{height:e.height}:{}),m=g(()=>e.vertical===!0?"vertical":"horizontal"),b=g(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),p=g(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(n.value===!0?" fullscreen":"")+(u.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${m.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${b.value}`:"")),E=g(()=>{const I=[e.prevIcon||o.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||o.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&o.lang.rtl===!0?I.reverse():I}),F=g(()=>e.navigationIcon||o.iconSet.carousel.navigationIcon),V=g(()=>e.navigationActiveIcon||F.value),_=g(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));de(()=>e.modelValue,()=>{e.autoplay&&R()}),de(()=>e.autoplay,I=>{I?R():d!==null&&(clearTimeout(d),d=null)});function R(){const I=wa(e.autoplay)===!0?Math.abs(e.autoplay):5e3;d!==null&&clearTimeout(d),d=setTimeout(()=>{d=null,I>=0?q():f()},I)}st(()=>{e.autoplay&&R()}),Je(()=>{d!==null&&clearTimeout(d)});function H(I,Z){return S("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${I} q-carousel__navigation--${b.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[S("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},i().map(Z))])}function M(){const I=[];if(e.navigation===!0){const Z=a["navigation-icon"]!==void 0?a["navigation-icon"]:Q=>S(ve,{key:"nav"+Q.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${Q.active===!0?"":"in"}active`,...Q.btnProps,onClick:Q.onClick}),P=l-1;I.push(H("buttons",(Q,z)=>{const O=Q.props.name,U=h.value===z;return Z({index:z,maxIndex:P,name:O,active:U,btnProps:{icon:U===!0?V.value:F.value,size:"sm",..._.value},onClick:()=>{k(O)}})}))}else if(e.thumbnails===!0){const Z=e.controlColor!==void 0?` text-${e.controlColor}`:"";I.push(H("thumbnails",P=>{const Q=P.props;return S("img",{key:"tmb#"+Q.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${Q.name===e.modelValue?"":"in"}active`+Z,src:Q.imgSrc||Q["img-src"],onClick:()=>{k(Q.name)}})}))}return e.arrows===!0&&h.value>=0&&((e.infinite===!0||h.value>0)&&I.push(S("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${m.value} absolute flex flex-center`},[S(ve,{icon:E.value[0],..._.value,onClick:f})])),(e.infinite===!0||h.value<l-1)&&I.push(S("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${m.value} absolute flex flex-center`},[S(ve,{icon:E.value[1],..._.value,onClick:q})]))),xl(a.control,I)}return()=>(l=v(a),S("div",{class:p.value,style:A.value},[yl("div",{class:"q-carousel__slides-container"},c(),"sl-cont",e.swipeable,()=>y.value)].concat(M())))}}),Cn=ct({__name:"ProductImgCarusel",props:{images:{}},emits:["refresh-data"],setup(e,{emit:a}){const o=e,u=a,d=At(),l=Vt(),v=Ft(),{isManager:c}=It(g(()=>v.user?.role)),y=D(0),k=D(!1);function f(){d.dialog({title:" ",message:"     ?",cancel:!0,persistent:!0}).onOk(()=>{q()})}async function q(){try{const i=o.images[y.value];await l.deleteFile(i.id),u("refresh-data")}catch(i){console.error(i)}}return(i,h)=>(ae(),ce(wn,{swipeable:"",animated:"",arrows:"",modelValue:y.value,"onUpdate:modelValue":h[2]||(h[2]=n=>y.value=n),fullscreen:k.value,"onUpdate:fullscreen":h[3]||(h[3]=n=>k.value=n),infinite:"",height:me(c)?"200px":"250px",class:"q-mb-sm"},{control:le(()=>[K(hn,{position:"bottom-right",offset:[18,18]},{default:le(()=>[me(c)?Le("",!0):(ae(),ce(ve,{key:0,push:"",round:"",dense:"",color:"white","text-color":"primary",icon:k.value?"fullscreen_exit":"fullscreen",onClick:h[0]||(h[0]=n=>k.value=!k.value)},null,8,["icon"])),me(c)?(ae(),ce(ve,{key:1,round:"",dense:"","text-color":"red",icon:"delete",onClick:h[1]||(h[1]=n=>f())})):Le("",!0)]),_:1})]),default:le(()=>[(ae(!0),Ye(Cl,null,wl(i.images,(n,A)=>(ae(),ce(pn,{key:A,name:A,"img-src":n.file_path,class:"card-image"},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue","fullscreen","height"]))}}),cl=Pt(Cn,[["__scopeId","data-v-11af1822"]]),qn={class:"text-h6 q-mb-md"},kn={class:"text-center upload-title"},Fn={key:1},Vn={class:"text-h6 text-center q-mt-sm"},An=ct({__name:"AddProductModal",props:{productData:{}},emits:["refresh-data","add-product"],setup(e,{emit:a}){const o=e,u=a,d=At(),l=Vt(),v=Ia(),{dialogRef:c}=zt(),y=Ft(),{isManager:k}=It(g(()=>y.user?.role)),f=Fl(),q=D(!1),i=D({id:null,name:"",price:null,category_id:null,unit_id:null,qty:null,description:"",images:"",origin_country:""}),h=new FormData;st(()=>{o.productData&&(i.value=o.productData)});async function n(){try{let F=null;i.value?.id?F=l.updateProduct(i.value):(m(),F=await l.createProduct(h)),F&&(i.value.id=F.id,d.notify({message:" ",color:"primary"}),u("refresh-data"))}catch(F){console.error(F)}}function A(){u("add-product",i.value)}function m(){i?.value?.id&&h.append("id",i.value.id.toString()),i.value?.name&&h.append("name",i.value.name),i.value?.price&&h.append("price",i.value.price.toString()),i.value?.category_id&&h.append("category_id",i.value.category_id.toString()),i.value?.unit_id&&h.append("unit_id",i.value.unit_id.toString()),i.value?.qty&&h.append("qty",i.value.qty.toString()),i.value?.description&&h.append("description",i.value.description),i.value?.origin_country&&h.append("origin_country",i.value.origin_country)}function b(F){const V=new FileReader;V.readAsDataURL(F[0]),V.onload=()=>{},h.append("images",F[0]),i.value?.id&&p(F[0])}async function p(F){const V=new FormData;V.append("file",F);try{await l.uploadFile(i.value.id,V)&&(E(),d.notify({message:"  ",color:"primary"}))}catch(_){console.error(_)}}async function E(){try{const F=await l.fetchProductsById(i.value.id);i.value=F}catch(F){console.error(F)}}return(F,V)=>(ae(),ce(_l,{ref_key:"dialogRef",ref:c,modelValue:q.value,"onUpdate:modelValue":V[10]||(V[10]=_=>q.value=_),persistent:""},{default:le(()=>[K(ql,{class:"add-product"},{default:le(()=>[me(k)?(ae(),ce(al,{key:0,greedy:""},{default:le(()=>[K(it,null,{default:le(()=>[oe("div",qn,ge(i.value.id?" ":" "),1),K(Ga,{ref:"uploaderRef",color:"primary",flat:"",onAdded:b},{header:le(()=>[...V[11]||(V[11]=[])]),list:le(()=>[K(Da),oe("div",kn,[K(Te,{class:"q-mr-sm",name:"note_add",size:"24px"}),V[12]||(V[12]=oe("span",null," ",-1))])]),_:1},512),oe("div",null,[i.value?.images?.length?(ae(),ce(cl,{key:0,onRefreshData:V[0]||(V[0]=_=>E()),images:i.value.images},null,8,["images"])):Le("",!0)]),K(Ke,{modelValue:i.value.name,"onUpdate:modelValue":V[1]||(V[1]=_=>i.value.name=_),class:"q-mb-xs",outlined:"",label:" "},null,8,["modelValue"]),K(Ke,{modelValue:i.value.price,"onUpdate:modelValue":V[2]||(V[2]=_=>i.value.price=_),class:"q-mb-xs",outlined:"",label:" "},null,8,["modelValue"]),K(Ke,{modelValue:i.value.qty,"onUpdate:modelValue":V[3]||(V[3]=_=>i.value.qty=_),class:"q-mb-xs",outlined:"",label:""},null,8,["modelValue"]),K(Ke,{modelValue:i.value.origin_country,"onUpdate:modelValue":V[4]||(V[4]=_=>i.value.origin_country=_),class:"q-mb-xs",outlined:"",label:" "},null,8,["modelValue"]),K(rl,{modelValue:i.value.category_id,"onUpdate:modelValue":V[5]||(V[5]=_=>i.value.category_id=_),options:me(v).categories,class:"q-mb-xs",outlined:"",label:" ","emit-value":"","map-options":"","option-label":"name","option-value":"id"},null,8,["modelValue","options"]),K(rl,{modelValue:i.value.unit_id,"onUpdate:modelValue":V[6]||(V[6]=_=>i.value.unit_id=_),options:me(f).units,outlined:"",label:"","emit-value":"","map-options":"","option-label":"name","option-value":"id"},null,8,["modelValue","options"]),K(Ke,{class:"q-mt-sm",modelValue:i.value.description,"onUpdate:modelValue":V[7]||(V[7]=_=>i.value.description=_),filled:"",type:"textarea",rows:"2",label:""},null,8,["modelValue"])]),_:1}),K(xt,{align:"right"},{default:le(()=>[nt(K(ve,{color:"red",label:""},null,512),[[ot]]),nt(K(ve,{color:"primary",label:"",onClick:V[8]||(V[8]=_=>n())},null,512),[[ot]])]),_:1})]),_:1})):(ae(),ce(al,{key:1},{default:le(()=>[K(it,null,{default:le(()=>[oe("div",null,[i.value?.images?.length?(ae(),ce(cl,{key:0,images:i.value.images},null,8,["images"])):(ae(),Ye("div",Fn,[K(kl,{class:"q-mt-sm",src:me(Vl)("/card-shop.jpg")},null,8,["src"])]))]),oe("div",Vn,ge(i.value.name),1),oe("div",null," : "+ge(i.value.price),1),oe("div",null,": "+ge(i.value.qty),1),V[13]||(V[13]=oe("div",null,": 11 ",-1)),oe("div",null," : "+ge(i.value.origin_country),1),oe("div",null,": "+ge(i.value.description),1)]),_:1}),K(xt,{align:"right"},{default:le(()=>[nt(K(ve,{color:"red",label:""},null,512),[[ot]]),nt(K(ve,{color:"primary",label:"  ",onClick:V[9]||(V[9]=_=>A())},null,512),[[ot]])]),_:1})]),_:1}))]),_:1})]),_:1},8,["modelValue"]))}}),Pn=Pt(An,[["__scopeId","data-v-9df7d2ba"]]),zn={class:"product-card row q-col-gutter-xs"},In=["onClick"],Bn={class:"text-center card-title"},Dn={class:"text-center"},$n={class:"text-bold"},En={key:0,class:"text-grey old-price"},Rn={class:"text-grey"},Mn=ct({__name:"ProductList",setup(e){const a=At(),o=Fl(),u=Vt(),d=qa(),l=Ft(),{isManager:v}=It(g(()=>l.user?.role)),c=D(!1),y=D(!1),k=D();st(async()=>{try{await o.fetchUnits(),a.loading.show()}catch(m){console.error(m)}finally{a.loading.hide()}});function f(){u.pagination.offset=0,q()}async function q(){try{a.loading.show();const m={offset:u.pagination.offset,limit:u.pagination.limit},b=await u.fetchProducts(m);b&&(u.pagination.total=b.total,u.pagination.has_more=b.has_more,u?.products?.length?u.products.push(b.items):u.products=b.items)}catch(m){console.error(m)}finally{a.loading.hide()}}function i(m){try{if(a.loading.show(),d.basketData?.length){const b=d.basketData.find(p=>p.id===m.id);b?h(b,m):d.basketData.push(structuredClone(Gt(m)))}else d.basketData.push(structuredClone(Gt(m)))}catch(b){console.error(b)}finally{a.notify({message:` ${m.name}   `,color:"primary"}),a.loading.hide()}}function h(m,b){m.price&&(m.price+=b.price),m.weight&&(m.weight+=b.weight),m.oldPrice&&(m.oldPrice+=b.oldPrice)}const n=async(m,b)=>{if(!u.pagination.has_more){c.value=!0,b(!0);return}await q(),u.pagination.offset+=u.pagination.limit,b()};function A(m){k.value=m,y.value=!y.value}return(m,b)=>(ae(),ce(Fa,{onLoad:n,offset:250},{default:le(()=>[me(v)?(ae(),ce(ve,{key:0,onClick:b[0]||(b[0]=p=>A()),class:"full-width q-mb-sm",color:"secondary",label:" "})):Le("",!0),oe("div",zn,[(ae(!0),Ye(Cl,null,wl(me(u).products,(p,E)=>(ae(),Ye("div",{class:"col-6",key:E},[K(ql,{class:"my-card radius-16 full-height",flat:"",bordered:""},{default:le(()=>[K(it,{class:"q-pa-sm full-height"},{default:le(()=>[oe("div",{onClick:F=>A(p)},[K(kl,{class:"cursor-pointer radius-8",src:p?.primary_image?p.primary_image:me(Vl)("/card-shop.jpg")},null,8,["src"])],8,In),K(it,{class:"q-pa-sm"},{default:le(()=>[oe("div",Bn,ge(p.name),1),oe("div",Dn,[oe("span",$n,ge(p.price),1),b[3]||(b[3]=Jt("  ",-1)),p?.oldPrice?(ae(),Ye("span",En,ge(p.old_price)+" ",1)):Le("",!0),Jt(" / "+ge(p.unit_symbol)+" ",1),oe("div",Rn,ge(p.origin_country),1)])]),_:2},1024),K(xt,{class:"justify-center"},{default:le(()=>[K(ve,{dense:"","no-caps":"",class:"full-width",color:"secondary",icon:"add_shopping_cart",label:" ",onClick:F=>i(p)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),y.value?(ae(),ce(Pn,{key:1,modelValue:y.value,"onUpdate:modelValue":b[1]||(b[1]=p=>y.value=p),productData:k.value,onRefreshData:b[2]||(b[2]=p=>f()),onAddProduct:i},null,8,["modelValue","productData"])):Le("",!0)]),_:1}))}}),On=Pt(Mn,[["__scopeId","data-v-dc3a1724"]]),Yn=ct({__name:"DashboardPage",setup(e){return(a,o)=>(ae(),ce(Ba,{class:"q-mx-xs"},{default:le(()=>[K(On,{class:"q-mb-lg"})]),_:1}))}});export{Yn as default};
