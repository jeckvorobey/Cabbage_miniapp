import{bw as x,B as f,aW as y,a6 as m,bx as b,aq as v,r as h,f as w,aj as g,by as S,bz as E,bv as R,bA as k,bB as C,bC as T,a4 as _,aV as L,bD as P,bE as A,bd as B,bF as M,bG as N,bH as j,Z as z,ad as D,a3 as I,a0 as O,bI as W,a7 as F,a1 as U,X as H,n as V,bJ as Y,bK as $,h as K,bL as q,bM as G,V as X,bN as Z,au as J,q as Q,l as ee,aF as ae,G as se,aM as te,o as ne,bO as re,m as oe,bP as ie,bQ as ce,bR as de,bc as le,aN as ue,_ as pe,w as fe,bS as ye,a5 as me,Y as be,bT as ve,bU as he,bV as we,bW as xe,bX as ge,bY as Se,$ as Ee,a9 as Re,bZ as ke,b_ as Ce,bb as Te,b$ as _e,c0 as Le,c1 as Pe,c2 as Ae,ar as Be,c3 as Me,c4 as Ne,c5 as je,c6 as ze,c7 as De,al as Ie,c8 as Oe,at as We,c9 as Fe,ca as Ue,cb as He,cc as Ve,am as Ye,cd as $e,a8 as Ke,ce as qe}from"./index-BPMgtN8i.js";/**
* vue v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ge=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:k,BaseTransitionPropsValidators:C,Comment:T,EffectScope:ke,Fragment:_,KeepAlive:L,ReactiveEffect:Ce,Static:P,Teleport:A,Text:B,Transition:g,TransitionGroup:S,callWithAsyncErrorHandling:M,callWithErrorHandling:N,camelize:He,capitalize:Ve,cloneVNode:j,computed:w,createApp:E,createBlock:z,createCommentVNode:D,createElementBlock:I,createElementVNode:O,createRenderer:W,createTextVNode:F,createVNode:U,defineComponent:H,effectScope:Te,getCurrentInstance:V,getCurrentScope:_e,getTransitionRawChildren:Y,guardReactiveProps:$,h:K,handleError:q,hasInjectionContext:G,inject:X,isProxy:Le,isReactive:Pe,isReadonly:Ae,isRef:Be,isShallow:Me,isVNode:Z,markRaw:Ne,mergeProps:J,nextTick:Q,normalizeClass:Ye,normalizeStyle:$e,onActivated:ee,onBeforeMount:ae,onBeforeUnmount:se,onBeforeUpdate:te,onDeactivated:ne,onErrorCaptured:re,onMounted:oe,onRenderTracked:ie,onRenderTriggered:ce,onScopeDispose:je,onServerPrefetch:de,onUnmounted:le,onUpdated:ue,onWatcherCleanup:ze,openBlock:pe,provide:fe,proxyRefs:De,queuePostFlushCb:ye,reactive:Ie,readonly:Oe,ref:h,renderList:me,resolveComponent:be,resolveTransitionHooks:ve,setBlockTracking:he,setTransitionHooks:we,shallowReactive:We,shallowReadonly:Fe,shallowRef:v,ssrContextKey:xe,toDisplayString:Ke,toHandlerKey:qe,toRaw:y,toRefs:Ue,unref:m,useSSRContext:ge,useTransitionState:Se,vShow:R,version:b,watch:f,withCtx:Ee,withDirectives:Re},Symbol.toStringTag,{value:"Module"}));var s;(e=>{e.settings=d({apikey:""}),e.isReadyToInit=u(()=>!!e.settings.value.apikey),e.ymaps=()=>ymaps3,e.script=v(null);class t extends Error{constructor(o){super(o),this.message=o,this.name="YandexMapException"}}e.YandexMapException=t,e.loadStatus=d("pending"),e.isLoaded=u(()=>e.loadStatus.value==="loaded"||e.loadStatus.value==="error"),e.loadError=d(null);function a(){return ymaps3.import("@yandex/ymaps3-layers-extra")}e.importLayersExtra=a})(s||(s={}));function d(e){return typeof window>"u"?{value:e,__v_isRef:!0}:h(e)}function u(e,t){return typeof window>"u"?{get value(){return e()},__v_isRef:!0}:w(e,t)}function p(e){return e=y(m(e)),Array.isArray(e)?e.map(t=>p(t)):!e||typeof e!="object"||e?.constructor!==void 0&&e?.constructor!==Object?e:Object.keys(e).reduce((t,a)=>{const r=e[a];return t[a]=p(r),t},{})}function Xe(){return typeof process<"u"&&process.dev}function Ze({text:e,isInternal:t,warn:a}){return a&&(e=`Warning: ${e}`),t&&(e+=" This is likely Vue Yandex Maps internal bug.",Xe()&&(e+=" You can report this bug here: https://github.com/yandex-maps-unofficial/vue-yandex-maps/issues/new/choose")),new s.YandexMapException(e)}function Je(e){const t=Ze(e);if(e.warn)console.warn(t);else throw t}function Qe(){return b.startsWith("2")}let l;async function sa(){if(l===void 0){if(Qe()){l=null;return}l=(await x(async()=>{const{Fragment:e}=await Promise.resolve().then(()=>Ge);return{Fragment:e}},void 0)).Fragment}}const ea=s.YandexMapException;function ta(){return new Promise((e,t)=>{if(typeof ymaps3<"u")return s.loadStatus.value!=="loaded"&&(s.loadStatus.value="loaded"),e();if(typeof window>"u")return t(new ea("You must call initYmaps on Client Side only"));if(s.loadStatus.value==="loading"){const n=f(s.loadStatus,i=>{s.isLoaded.value&&(n(),i==="error"&&t(s.loadError),i==="loaded"&&e())},{immediate:!0});return}s.loadStatus.value="loading";const a=s.settings.value;a.apikey||Je({text:"apikey was not set for Yandex Maps initialization. Ensure you have attached needed plugins or called createYmapsOptions with apikey. If you need delayed init, please use VueYandexMaps.isReadyToInit computed as v-if."});const r=document.createElement("SCRIPT");s.script.value=r;const o=new URL(`${a.domain}/${a.version}/`);o.searchParams.set("lang",a.lang||"ru_RU"),o.searchParams.set("apikey",a.apikey);const c={async:"",defer:"",referrerpolicy:"strict-origin-when-cross-origin",type:"text/javascript",id:"vue-yandex-maps",src:o.toString(),...a.scriptAttributes||{}};for(const n in c)c[n]!==!1&&r.setAttribute(n,c[n]);document.head.appendChild(r),r.onload=async()=>{try{await s.ymaps().ready,a.servicesApikeys&&Object.keys(a.servicesApikeys).length>0&&s.ymaps().getDefaultConfig().setApikeys(a.servicesApikeys),typeof a.strictMode=="boolean"&&(s.ymaps().strictMode=a.strictMode),a.importModules&&await Promise.all(a.importModules.map(n=>s.ymaps().import(n))),a.cdnLibraryLoading?.enabled!==!1&&s.ymaps().import.registerCdn(a.cdnLibraryLoading?.url||"https://cdn.jsdelivr.net/npm/{package}",[...["@yandex/ymaps3-default-ui-theme@latest","@yandex/ymaps3-resizer@latest","@yandex/ymaps3-minimap@latest","@yandex/ymaps3-context-menu@latest","@yandex/ymaps3-drawer-control@latest","@yandex/ymaps3-signpost@latest","@yandex/ymaps3-spinner@latest","@yandex/ymaps3-world-utils@latest"].filter(n=>!(a.cdnLibraryLoading?.extendLibraries??[]).some(i=>i.startsWith("@yandex")?i.split("@")[1]===n.split("@")[1]:!1)),...a.cdnLibraryLoading?.extendLibraries??[]]),s.loadStatus.value="loaded",e()}catch(n){s.loadStatus.value="error",s.loadError.value=n,t(n)}},r.onerror=n=>{s.loadError.value=n,t(n)}})}export{s as V,p as c,ta as i,sa as s,Je as t};
