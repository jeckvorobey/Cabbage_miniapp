import{b3 as k,r as l,b4 as g,c as f,k as E,U as A,m as Q,o as H,h as d,a6 as U,l as G,aC as K,w as W,aD as z,g as X}from"./index-DcOy2cF7.js";const q={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},x=Object.keys(q);q.all=!0;function ee(e){const t={};for(const n of x)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?q:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const J=["INPUT","TEXTAREA"];function te(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&J.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}const N=["B","KB","MB","GB","TB","PB"];function re(e,t=1){let n=0;for(;parseInt(e,10)>=1024&&n<N.length-1;)e/=1024,++n;return`${e.toFixed(t)}${N[n]}`}function oe(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function ne(e,t,n){if(n<=t)return t;const a=n-t+1;let u=t+(e-t)%a;return u<t&&(u=a+u),u===0?0:u}const ie=k("Products",()=>{const e=l(),t=l({offset:0,limit:20,total:0,has_more:!0});async function n(i){return g.post("products",i).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while createing via product",r.message),r})}async function a(i){return g.patch(`/products/${i.id}`,i).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while creating via updateProduct",r.message),r})}async function u(i){return g.get(`/products/${i}`).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while fetching via product",r.message),r})}async function v(i){return g.get("products",{params:i}).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while fetching via products",r.message),r})}async function P(i){return g.delete(`products/${i}`).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while deleting via Product",r.message),r})}async function S(i,r){return g.post(`/products/${i}/images`,r).then(m=>m.data).catch(m=>{throw console.error("[ProductsStore] - An error occurred while createing via uploadFile",m.message),m})}async function _(i){return g.delete(`/products/images/${i}`).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while createing via deleteFile",r.message),r})}return{pagination:t,products:e,createProduct:n,updateProduct:a,fetchProducts:v,deleteProduct:P,fetchProductsById:u,uploadFile:S,deleteFile:_}}),V={ratio:[String,Number]};function Y(e,t){return f(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const Z=1.7778,ae=E({name:"QImg",props:{...V,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Z},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const a=l(e.initialRatio),u=Y(e,a),v=X(),{registerTimeout:P,removeTimeout:S}=A(),{registerTimeout:_,removeTimeout:i}=A(),r=f(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),m=f(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),c=[l(null),l(r.value)],s=l(0),y=l(!1),w=l(!1),I=f(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),$=f(()=>({width:e.width,height:e.height})),L=f(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),O=f(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function R(){if(i(),e.loadingShowDelay===0){y.value=!0;return}_(()=>{y.value=!0},e.loadingShowDelay)}function T(){i(),y.value=!1}function D({target:o}){z(v)===!1&&(S(),a.value=o.naturalHeight===0?.5:o.naturalWidth/o.naturalHeight,B(o,1))}function B(o,h){h===1e3||z(v)===!0||(o.complete===!0?F(o):P(()=>{B(o,h+1)},50))}function F(o){z(v)!==!0&&(s.value=s.value^1,c[s.value].value=null,T(),o.getAttribute("__qerror")!=="true"&&(w.value=!1),n("load",o.currentSrc||o.src))}function M(o){S(),T(),w.value=!0,c[s.value].value=m.value,c[s.value^1].value=r.value,n("error",o)}function C(o){const h=c[o].value,b={key:"img_"+o,class:L.value,style:O.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...h};return s.value===o?Object.assign(b,{class:b.class+"current",onLoad:D,onError:M}):b.class+="loaded",d("div",{class:"q-img__container absolute-full",key:"img"+o},d("img",b))}function j(){return y.value===!1?d("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},G(t[w.value===!0?"error":"default"])):d("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[d(K,{color:e.spinnerColor,size:e.spinnerSize})])}{let o=function(){W(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,h=>{S(),w.value=!1,h===null?(T(),c[s.value^1].value=r.value):R(),c[s.value].value=h},{immediate:!0})};Q.value===!0?H(o):o()}return()=>{const o=[];return u.value!==null&&o.push(d("div",{key:"filler",style:u.value})),c[0].value!==null&&o.push(C(0)),c[1].value!==null&&o.push(C(1)),o.push(d(U,{name:"q-transition--fade"},j)),d("div",{key:"main",class:I.value,style:$.value,role:"img","aria-label":e.alt},o)}}}),ue=k("Order",()=>{const e=l([]);async function t(n){return g.post("order",n).then(a=>a.data).catch(a=>{throw console.error("[OrderStore] - An error occurred while createing via order",a.message),a})}return{basketData:e,createOrder:t}});export{ae as Q,ue as a,oe as b,ee as g,re as h,ne as n,te as s,ie as u};
