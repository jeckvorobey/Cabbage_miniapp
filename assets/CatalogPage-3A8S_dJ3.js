import{Q as f}from"./QImg-CSZ94waW.js";import{V as _,am as h,g as x,a1 as r,Y as i,_ as o,a2 as v,a3 as C,a4 as d,$ as n,Z as m,aa as q,a6 as y,a0 as w}from"./index-cFVlmZh7.js";import{u as S,g as k}from"./use-quasar-Wz942mrJ.js";import{u as P}from"./categoriesStore-BuaWa4kI.js";import{u as Q}from"./productsStore-C_78JWc2.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"q-px-sm"},I={class:"row q-col-gutter-sm"},V=["onClick"],$={class:"col-auto"},N={class:"self-center col text-clamp-3"},j=_({__name:"CatalogPage",setup(D){const c=S(),p=h(),l=P(),s=Q();x(()=>{console.log(l.categories)});async function u(e){try{c.loading.show(),e?(s.pagination.category_ids=e,s.pagination.offset=0):(delete s.pagination.category_ids,s.pagination.offset=0);const t={category_ids:s.pagination.category_ids,limit:s.pagination.limit,offset:s.pagination.offset},a=await s.fetchProducts(t);a&&(s.products=a.items),p.push("/")}catch(t){console.error(t)}finally{c.loading.hide()}}return(e,t)=>(i(),r("div",B,[t[0]||(t[0]=o("h5",{class:"text-center q-ma-none q-mb-sm"},"Каталог",-1)),t[1]||(t[1]=o("div",{class:"text-18 text-bold q-mb-sm"},"Список каталога:",-1)),o("div",I,[(i(!0),r(v,null,C(d(l).categories,(a,g)=>(i(),r("div",{key:g,class:"col-6",onClick:E=>u(a.id)},[n(w,{class:"my-card radius-16"},{default:m(()=>[n(q,{class:"row q-pa-sm"},{default:m(()=>[o("div",$,[n(f,{class:"cursor-pointer radius-8 q-mr-sm",src:a?.image?a.image:d(k)("/card-shop.jpg"),height:"60px",width:"60px",fit:"cover"},null,8,["src"])]),o("div",N,y(a.name),1)]),_:2},1024)]),_:2},1024)],8,V))),128))])]))}}),z=b(j,[["__scopeId","data-v-86fa7a3c"]]);export{z as default};
