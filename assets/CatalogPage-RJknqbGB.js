import{Q as g}from"./QImg-B0MPGp_Y.js";import{d as _,ae as h,o as x,ah as r,ai as i,ao as o,F as q,aq as y,am as l,f as n,an as m,aF as v,ap as C,aH as w}from"./index-BoBs2d8C.js";import{u as S,g as k}from"./useUtils-BRVxae59.js";import{u as Q}from"./categoriesStore-DfNuxVef.js";import{u as P}from"./productsStore-D1VuXBkJ.js";const b={class:"q-px-md"},B={class:"row q-col-gutter-sm"},F=["onClick"],I={class:"q-mr-sm"},N={class:"self-center text-18"},M=_({__name:"CatalogPage",setup(V){const c=S(),u=h(),d=Q(),s=P();x(()=>{console.log(d.categories)});async function p(a){try{c.loading.show(),a?(s.pagination.category_ids=a,s.pagination.offset=0):(delete s.pagination.category_ids,s.pagination.offset=0);const t={offset:s.pagination.offset,limit:s.pagination.limit,category_ids:s.pagination.category_ids},e=await s.fetchProducts(t);e&&(s.products=e.items),u.push("/")}catch(t){console.error(t)}finally{c.loading.hide()}}return(a,t)=>(i(),r("div",b,[t[0]||(t[0]=o("h5",{class:"text-center q-ma-none q-mb-sm"},"Каталог",-1)),t[1]||(t[1]=o("div",{class:"text-18 text-bold q-mb-sm"}," Список каталога: ",-1)),o("div",B,[(i(!0),r(q,null,y(l(d).categories,(e,f)=>(i(),r("div",{class:"col-6",key:f,onClick:$=>p(e.id)},[n(w,{class:"my-card radius-16"},{default:m(()=>[n(v,{class:"row q-pa-sm"},{default:m(()=>[o("div",I,[n(g,{class:"cursor-pointer radius-8",src:l(k)("/card-shop.jpg"),height:"60px",width:"60px",fit:"cover"},null,8,["src"])]),o("div",N,C(e.name),1)]),_:2},1024)]),_:2},1024)],8,F))),128))])]))}});export{M as default};
