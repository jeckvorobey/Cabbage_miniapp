import{d as m,af as g,aG as f,r as l,o as v,ah as _,ai as n,aj as r,al as u,f as h,ap as i,F as k}from"./index-SZd0GpBy.js";const w={key:0,class:"align-center pt-2.5"},y={key:1,class:"align-center pt-2.5"},S=m({__name:"TelegramStartPage",setup(V){const c=g(),e=f(),a=l(),s=l(!0);v(()=>{a.value=window?.Telegram?.WebApp?.initData,d()});async function d(){try{localStorage.removeItem("token"),e.token=null,a.value&&(e.telegramData=a.value,await e.auth(e.telegramData)&&c.push("/dashboard"))}catch(o){console.error(o)}finally{s.value=!1}}return(o,t)=>{const p=_("ExpandedViewport");return r(),n(k,null,[s.value?(r(),n("div",w,[...t[0]||(t[0]=[i("h3",null,"loading...",-1)])])):u("",!0),a.value?u("",!0):(r(),n("div",y,[...t[1]||(t[1]=[i("h4",null,"You need to log in via telegram",-1)])])),h(p,{force:""})],64)}}});export{S as default};
