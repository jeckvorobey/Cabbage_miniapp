import{k as Se,g as ge,a as bt,v as Ce,x as Yl,$ as Gl,c as g,h as y,l as Ye,aw as cl,ax as dl,ay as vl,az as fl,r as $,L as qe,N as ve,G as Re,P as wt,S as Ct,w as ce,n as Ge,i as Jl,aA as Zl,aB as ea,aC as jt,aD as ta,ad as Ee,Q as de,_ as la,aE as aa,aF as ml,aG as qt,aH as gl,aI as pl,Z as hl,aJ as na,p as yl,q as we,aK as oa,aL as Sl,aM as ua,aN as ia,z as ra,aO as sa,aP as Kt,aQ as ca,aR as Qe,aS as da,K as gt,aT as va,aU as fa,aV as ma,aW as bl,C as _l,D as ga,E as pt,H as ht,I as lt,J as Wt,M as pa,U as ha,a6 as ya,aX as Sa,aY as ba,aZ as _a,a_ as Xt,o as rt,a$ as xa,d as st,u as kt,aj as se,ai as ae,am as ye,an as le,ah as Xe,aq as xl,F as wl,f as K,ak as Me,b0 as ut,ao as oe,ap as fe,av as je,b1 as _t,Y as at,as as Cl,b2 as Yt,at as Gt}from"./index-DS7Ncecj.js";import{b as wa,h as Jt,n as Zt,g as el,s as tl,u as Ft,Q as ql,a as Ca}from"./orderStore-Cvc6g2VE.js";import{Q as qa,a as ka}from"./QMenu-DDPHd-5D.js";import{b as Fa,a as Va,Q as za,u as Vt,g as kl}from"./useUtils-B4B8qfJ2.js";import{u as Fl,Q as ll}from"./unitsStore-CCnm3PF7.js";import{C as nt}from"./ClosePopup-1JnY6GZa.js";import{u as zt}from"./usePermissionVisibility.hook-CNrFNwFW.js";import{c as Pa}from"./selection-DB9klRLf.js";import{_ as Pt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as Aa}from"./categoriesStore-Dhsk1j0O.js";const Ia=Se({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:n}){const{proxy:{$q:u}}=ge(),o=bt(Yl,Ce);if(o===Ce)return console.error("QPage needs to be a deep child of QLayout"),Ce;if(bt(Gl,Ce)===Ce)return console.error("QPage needs to be child of QPageContainer"),Ce;const l=g(()=>{const v=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const h=o.isContainer.value===!0?o.containerHeight.value:u.screen.height;return e.styleFn(v,h)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-v+"px":u.screen.height===0?v!==0?`calc(100vh - ${v}px)`:"100vh":u.screen.height-v+"px"}}),p=g(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>y("main",{class:p.value,style:l.value},Ye(n.default))}}),Ba=Se({name:"QUploaderAddTrigger",setup(){const e=bt(cl,Ce);return e===Ce&&console.error("QUploaderAddTrigger needs to be child of QUploader"),e}}),$a={...dl,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},xt=50,Vl=2*xt,zl=Vl*Math.PI,Da=Math.round(zl*1e3)/1e3,Oa=Se({name:"QCircularProgress",props:{...$a,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:n}){const{proxy:{$q:u}}=ge(),o=vl(e),c=g(()=>{const m=(u.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(u.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-m}deg)`:`rotate3d(0, 0, 1, ${m-90}deg)`}}),l=g(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),p=g(()=>Vl/(1-e.thickness/2)),v=g(()=>`${p.value/2} ${p.value/2} ${p.value} ${p.value}`),h=g(()=>wa(e.value,e.min,e.max)),F=g(()=>e.max-e.min),d=g(()=>e.thickness/2*p.value),C=g(()=>{const m=(e.max-h.value)/F.value,a=e.rounded===!0&&h.value<e.max&&m<.25?d.value/2*(1-m/.25):0;return zl*m+a});function i({thickness:m,offset:a,color:q,cls:f,rounded:k}){return y("circle",{class:"q-circular-progress__"+f+(q!==void 0?` text-${q}`:""),style:l.value,fill:"transparent",stroke:"currentColor","stroke-width":m,"stroke-dasharray":Da,"stroke-dashoffset":a,"stroke-linecap":k,cx:p.value,cy:p.value,r:xt})}return()=>{const m=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&m.push(y("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:xt-d.value/2,cx:p.value,cy:p.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&m.push(i({cls:"track",thickness:d.value,offset:0,color:e.trackColor})),m.push(i({cls:"circle",thickness:d.value,offset:C.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const a=[y("svg",{class:"q-circular-progress__svg",style:c.value,viewBox:v.value,"aria-hidden":"true"},m)];return e.showValue===!0&&a.push(y("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},n.default!==void 0?n.default():[y("div",h.value)])),y("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:o.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:h.value},fl(n.internal,a))}}});function Te(e,n,u,o){const c=[];return e.forEach(l=>{o(l)===!0?c.push(l):n.push({failedPropValidation:u,file:l})}),c}function ot(e){e?.dataTransfer&&(e.dataTransfer.dropEffect="copy"),ve(e)}const Ta={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Ra=["rejected"];function Ea({editable:e,dnd:n,getFileInput:u,addFilesToQueue:o}){const{props:c,emit:l,proxy:p}=ge(),v=$(null),h=g(()=>c.accept!==void 0?c.accept.split(",").map(b=>(b=b.trim(),b==="*"?"*/":(b.endsWith("/*")&&(b=b.slice(0,b.length-1)),b.toUpperCase()))):null),F=g(()=>parseInt(c.maxFiles,10)),d=g(()=>parseInt(c.maxTotalSize,10));function C(b){if(e.value)if(b!==Object(b)&&(b={target:null}),b.target?.matches('input[type="file"]')===!0)b.clientX===0&&b.clientY===0&&qe(b);else{const O=u();O!==b.target&&O?.click(b)}}function i(b){e.value&&b&&o(null,b)}function m(b,O,V,z){let S=Array.from(O||b.target.files);const T=[],Q=()=>{T.length!==0&&l("rejected",T)};if(c.accept!==void 0&&h.value.indexOf("*/")===-1&&(S=Te(S,T,"accept",R=>h.value.some(I=>R.type.toUpperCase().startsWith(I)||R.name.toUpperCase().endsWith(I))),S.length===0))return Q();if(c.maxFileSize!==void 0){const R=parseInt(c.maxFileSize,10);if(S=Te(S,T,"max-file-size",I=>I.size<=R),S.length===0)return Q()}if(c.multiple!==!0&&S.length!==0&&(S=[S[0]]),S.forEach(R=>{R.__key=R.webkitRelativePath+R.lastModified+R.name+R.size}),z===!0){const R=V.map(I=>I.__key);S=Te(S,T,"duplicate",I=>R.includes(I.__key)===!1)}if(S.length===0)return Q();if(c.maxTotalSize!==void 0){let R=z===!0?V.reduce((I,Z)=>I+Z.size,0):0;if(S=Te(S,T,"max-total-size",I=>(R+=I.size,R<=d.value)),S.length===0)return Q()}if(typeof c.filter=="function"){const R=c.filter(S);S=Te(S,T,"filter",I=>R.includes(I))}if(c.maxFiles!==void 0){let R=z===!0?V.length:0;if(S=Te(S,T,"max-files",()=>(R++,R<=F.value)),S.length===0)return Q()}if(Q(),S.length!==0)return S}function a(b){ot(b),n.value!==!0&&(n.value=!0)}function q(b){ve(b),(b.relatedTarget!==null||Re.is.safari!==!0?b.relatedTarget!==v.value:document.elementsFromPoint(b.clientX,b.clientY).includes(v.value)===!1)===!0&&(n.value=!1)}function f(b){ot(b);const O=b.dataTransfer.files;O.length!==0&&o(null,O),n.value=!1}function k(b){if(n.value===!0)return y("div",{ref:v,class:`q-${b}__dnd absolute-full`,onDragenter:ot,onDragover:ot,onDragleave:q,onDrop:f})}return Object.assign(p,{pickFiles:C,addFiles:i}),{pickFiles:C,addFiles:i,onDragover:a,onDragleave:q,processFiles:m,getDndNode:k,maxFilesNumber:F,maxTotalSizeNumber:d}}function al(e){return(e*100).toFixed(2)+"%"}const Ma={...wt,...Ta,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},Pl=[...Ra,"start","finish","added","removed"];function La(e,n){const u=ge(),{props:o,slots:c,emit:l,proxy:p}=u,{$q:v}=p,h=Ct(o,v);function F(s,B,G){if(s.__status=B,B==="idle"){s.__uploaded=0,s.__progress=0,s.__sizeLabel=Jt(s.size),s.__progressLabel="0.00%";return}if(B==="failed"){p.$forceUpdate();return}s.__uploaded=B==="uploaded"?s.size:G,s.__progress=B==="uploaded"?1:Math.min(.9999,s.__uploaded/s.size),s.__progressLabel=al(s.__progress),p.$forceUpdate()}const d=g(()=>o.disable!==!0&&o.readonly!==!0),C=$(!1),i=$(null),m=$(null),a={files:$([]),queuedFiles:$([]),uploadedFiles:$([]),uploadedSize:$(0),updateFileStatus:F,isAlive:()=>ta(u)===!1},{pickFiles:q,addFiles:f,onDragover:k,onDragleave:b,processFiles:O,getDndNode:V,maxFilesNumber:z,maxTotalSizeNumber:S}=Ea({editable:d,dnd:C,getFileInput:r,addFilesToQueue:_});Object.assign(a,e({props:o,slots:c,emit:l,helpers:a,exposeApi:s=>{Object.assign(a,s)}})),a.isBusy===void 0&&(a.isBusy=$(!1));const T=$(0),Q=g(()=>T.value===0?0:a.uploadedSize.value/T.value),R=g(()=>al(Q.value)),I=g(()=>Jt(T.value)),Z=g(()=>d.value===!0&&a.isUploading.value!==!0&&(o.multiple===!0||a.queuedFiles.value.length===0)&&(o.maxFiles===void 0||a.files.value.length<z.value)&&(o.maxTotalSize===void 0||T.value<S.value)),P=g(()=>d.value===!0&&a.isBusy.value!==!0&&a.isUploading.value!==!0&&a.queuedFiles.value.length!==0);la(cl,ee);const j=g(()=>"q-uploader column no-wrap"+(h.value===!0?" q-uploader--dark q-dark":"")+(o.bordered===!0?" q-uploader--bordered":"")+(o.square===!0?" q-uploader--square no-border-radius":"")+(o.flat===!0?" q-uploader--flat no-shadow":"")+(o.disable===!0?" disabled q-uploader--disable":"")+(C.value===!0?" q-uploader--dnd":"")),A=g(()=>"q-uploader__header"+(o.color!==void 0?` bg-${o.color}`:"")+(o.textColor!==void 0?` text-${o.textColor}`:""));ce(a.isUploading,(s,B)=>{B===!1&&s===!0?l("start"):B===!0&&s===!1&&l("finish")});function E(){o.disable===!1&&(a.abort(),a.uploadedSize.value=0,T.value=0,xe(),a.files.value=[],a.queuedFiles.value=[],a.uploadedFiles.value=[])}function U(){o.disable===!1&&_e(["uploaded"],()=>{a.uploadedFiles.value=[]})}function ie(){_e(["idle","failed"],({size:s})=>{T.value-=s,a.queuedFiles.value=[]})}function _e(s,B){if(o.disable===!0)return;const G={files:[],size:0},ue=a.files.value.filter(J=>s.indexOf(J.__status)===-1?!0:(G.size+=J.size,G.files.push(J),J.__img!==void 0&&window.URL.revokeObjectURL(J.__img.src),!1));G.files.length!==0&&(a.files.value=ue,B(G),l("removed",G.files))}function pe(s){o.disable||(s.__status==="uploaded"?a.uploadedFiles.value=a.uploadedFiles.value.filter(B=>B.__key!==s.__key):s.__status==="uploading"?s.__abort():T.value-=s.size,a.files.value=a.files.value.filter(B=>B.__key!==s.__key?!0:(B.__img!==void 0&&window.URL.revokeObjectURL(B.__img.src),!1)),a.queuedFiles.value=a.queuedFiles.value.filter(B=>B.__key!==s.__key),l("removed",[s]))}function xe(){a.files.value.forEach(s=>{s.__img!==void 0&&window.URL.revokeObjectURL(s.__img.src)})}function r(){return m.value||i.value.getElementsByClassName("q-uploader__input")[0]}function _(s,B){const G=O(s,B,a.files.value,!0),ue=r();ue!=null&&(ue.value=""),G!==void 0&&(G.forEach(J=>{if(a.updateFileStatus(J,"idle"),T.value+=J.size,o.noThumbnails!==!0&&J.type.toUpperCase().startsWith("IMAGE")){const ke=new Image;ke.src=window.URL.createObjectURL(J),J.__img=ke}}),a.files.value=a.files.value.concat(G),a.queuedFiles.value=a.queuedFiles.value.concat(G),l("added",G),o.autoUpload===!0&&a.upload())}function D(){P.value===!0&&a.upload()}function H(s,B,G){if(s===!0){const ue={type:"a",key:B,icon:v.iconSet.uploader[B],flat:!0,dense:!0};let J;return B==="add"?(ue.onClick=q,J=ee):ue.onClick=G,y(de,ue,J)}}function ee(){return y("input",{ref:m,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:o.accept,multiple:o.multiple===!0?"multiple":void 0,capture:o.capture,onMousedown:qe,onClick:q,onChange:_})}function N(){return c.header!==void 0?c.header(X):[y("div",{class:"q-uploader__header-content column"},[y("div",{class:"flex flex-center no-wrap q-gutter-xs"},[H(a.queuedFiles.value.length!==0,"removeQueue",ie),H(a.uploadedFiles.value.length!==0,"removeUploaded",U),a.isUploading.value===!0?y(jt,{class:"q-uploader__spinner"}):null,y("div",{class:"col column justify-center"},[o.label!==void 0?y("div",{class:"q-uploader__title"},[o.label]):null,y("div",{class:"q-uploader__subtitle"},[I.value+" / "+R.value])]),H(Z.value,"add"),H(o.hideUploadBtn===!1&&P.value===!0,"upload",a.upload),H(a.isUploading.value,"clear",a.abort)])])]}function M(){return c.list!==void 0?c.list(X):a.files.value.map(s=>y("div",{key:s.__key,class:"q-uploader__file relative-position"+(o.noThumbnails!==!0&&s.__img!==void 0?" q-uploader__file--img":"")+(s.__status==="failed"?" q-uploader__file--failed":s.__status==="uploaded"?" q-uploader__file--uploaded":""),style:o.noThumbnails!==!0&&s.__img!==void 0?{backgroundImage:'url("'+s.__img.src+'")',backgroundSize:o.thumbnailFit}:null},[y("div",{class:"q-uploader__file-header row flex-center no-wrap"},[s.__status==="failed"?y(Ee,{class:"q-uploader__file-status",name:v.iconSet.type.negative,color:"negative"}):null,y("div",{class:"q-uploader__file-header-content col"},[y("div",{class:"q-uploader__title"},[s.name]),y("div",{class:"q-uploader__subtitle row items-center no-wrap"},[s.__sizeLabel+" / "+s.__progressLabel])]),s.__status==="uploading"?y(Oa,{value:s.__progress,min:0,max:1,indeterminate:s.__progress===0}):y(de,{round:!0,dense:!0,flat:!0,icon:v.iconSet.uploader[s.__status==="uploaded"?"done":"clear"],onClick:()=>{pe(s)}})])]))}Ge(()=>{a.isUploading.value===!0&&a.abort(),a.files.value.length!==0&&xe()});const X={};for(const s in a)Jl(a[s])===!0?Zl(X,s,()=>a[s].value):X[s]=a[s];return Object.assign(X,{upload:D,reset:E,removeUploadedFiles:U,removeQueuedFiles:ie,removeFile:pe,pickFiles:q,addFiles:f}),ea(X,{canAddFiles:()=>Z.value,canUpload:()=>P.value,uploadSizeLabel:()=>I.value,uploadProgressLabel:()=>R.value}),n({...a,upload:D,reset:E,removeUploadedFiles:U,removeQueuedFiles:ie,removeFile:pe,pickFiles:q,addFiles:f,canAddFiles:Z,canUpload:P,uploadSizeLabel:I,uploadProgressLabel:R}),()=>{const s=[y("div",{class:A.value},N()),y("div",{class:"q-uploader__list scroll"},M()),V("uploader")];a.isBusy.value===!0&&s.push(y("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[y(jt)]));const B={ref:i,class:j.value};return Z.value===!0&&Object.assign(B,{onDragover:k,onDragleave:b}),y("div",B,s)}}const Ua=()=>!0;function Al(e){const n={};return e.forEach(u=>{n[u]=Ua}),n}const Na=Al(Pl),Ha=({name:e,props:n,emits:u,injectPlugin:o})=>Se({name:e,props:{...Ma,...n},emits:aa(u)===!0?{...Na,...u}:[...Pl,...u],setup(c,{expose:l}){return La(o,l)}});function be(e){return typeof e=="function"?e:()=>e}const Qa="QUploader",ja={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},Ka=["factoryFailed","uploaded","failed","uploading"];function Wa({props:e,emit:n,helpers:u}){const o=$([]),c=$([]),l=$(0),p=g(()=>({url:be(e.url),method:be(e.method),headers:be(e.headers),formFields:be(e.formFields),fieldName:be(e.fieldName),withCredentials:be(e.withCredentials),sendRaw:be(e.sendRaw),batch:be(e.batch)})),v=g(()=>l.value>0),h=g(()=>c.value.length!==0);let F;function d(){o.value.forEach(a=>{a.abort()}),c.value.length!==0&&(F=!0)}function C(){const a=u.queuedFiles.value.slice(0);u.queuedFiles.value=[],p.value.batch(a)?i(a):a.forEach(q=>{i([q])})}function i(a){if(l.value++,typeof e.factory!="function"){m(a,{});return}const q=e.factory(a);if(!q)n("factoryFailed",new Error("QUploader: factory() does not return properly"),a),l.value--;else if(typeof q.catch=="function"&&typeof q.then=="function"){c.value.push(q);const f=k=>{u.isAlive()===!0&&(c.value=c.value.filter(b=>b!==q),c.value.length===0&&(F=!1),u.queuedFiles.value=u.queuedFiles.value.concat(a),a.forEach(b=>{u.updateFileStatus(b,"failed")}),n("factoryFailed",k,a),l.value--)};q.then(k=>{F===!0?f(new Error("Aborted")):u.isAlive()===!0&&(c.value=c.value.filter(b=>b!==q),m(a,k))}).catch(f)}else m(a,q||{})}function m(a,q){const f=new FormData,k=new XMLHttpRequest,b=(P,j)=>q[P]!==void 0?be(q[P])(j):p.value[P](j),O=b("url",a);if(!O){console.error("q-uploader: invalid or no URL specified"),l.value--;return}const V=b("formFields",a);V!==void 0&&V.forEach(P=>{f.append(P.name,P.value)});let z=0,S=0,T=0,Q=0,R;k.upload.addEventListener("progress",P=>{if(R===!0)return;const j=Math.min(Q,P.loaded);u.uploadedSize.value+=j-T,T=j;let A=T-S;for(let E=z;A>0&&E<a.length;E++){const U=a[E];if(A>U.size)A-=U.size,z++,S+=U.size,u.updateFileStatus(U,"uploading",U.size);else{u.updateFileStatus(U,"uploading",A);return}}},!1),k.onreadystatechange=()=>{k.readyState<4||(k.status&&k.status<400?(u.uploadedFiles.value=u.uploadedFiles.value.concat(a),a.forEach(P=>{u.updateFileStatus(P,"uploaded")}),n("uploaded",{files:a,xhr:k})):(R=!0,u.uploadedSize.value-=T,u.queuedFiles.value=u.queuedFiles.value.concat(a),a.forEach(P=>{u.updateFileStatus(P,"failed")}),n("failed",{files:a,xhr:k})),l.value--,o.value=o.value.filter(P=>P!==k))},k.open(b("method",a),O),b("withCredentials",a)===!0&&(k.withCredentials=!0);const I=b("headers",a);I!==void 0&&I.forEach(P=>{k.setRequestHeader(P.name,P.value)});const Z=b("sendRaw",a);a.forEach(P=>{u.updateFileStatus(P,"uploading",0),Z!==!0&&f.append(b("fieldName",P),P,P.name),P.xhr=k,P.__abort=()=>{k.abort()},Q+=P.size}),n("uploading",{files:a,xhr:k}),o.value.push(k),Z===!0?k.send(new Blob(a)):k.send(f)}return{isUploading:v,isBusy:h,abort:d,upload:C}}const Xa={name:Qa,props:ja,emits:Ka,injectPlugin:Wa},Ya=Ha(Xa),Ga=Se({name:"QField",inheritAttrs:!1,props:{...qt,tag:{type:String,default:"label"}},emits:ml,setup(){return gl(pl({tagProp:!0}))}}),Ja={xs:8,sm:10,md:14,lg:20,xl:24},Za=Se({name:"QChip",props:{...wt,...dl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:n,emit:u}){const{proxy:{$q:o}}=ge(),c=Ct(e,o),l=vl(e,Ja),p=g(()=>e.selected===!0||e.icon!==void 0),v=g(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),h=g(()=>e.iconRemove||o.iconSet.chip.remove),F=g(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=g(()=>{const f=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(f?` text-${f} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(F.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(c.value===!0?" q-chip--dark q-dark":"")}),C=g(()=>{const f=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},k={...f,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:f,remove:k}});function i(f){f.keyCode===13&&m(f)}function m(f){e.disable||(u("update:selected",!e.selected),u("click",f))}function a(f){(f.keyCode===void 0||f.keyCode===13)&&(ve(f),e.disable===!1&&(u("update:modelValue",!1),u("remove")))}function q(){const f=[];F.value===!0&&f.push(y("div",{class:"q-focus-helper"})),p.value===!0&&f.push(y(Ee,{class:"q-chip__icon q-chip__icon--left",name:v.value}));const k=e.label!==void 0?[y("div",{class:"ellipsis"},[e.label])]:void 0;return f.push(y("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},fl(n.default,k))),e.iconRight&&f.push(y(Ee,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&f.push(y(Ee,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value,...C.value.remove,onClick:a,onKeyup:a})),f}return()=>{if(e.modelValue===!1)return;const f={class:d.value,style:l.value};return F.value===!0&&Object.assign(f,C.value.chip,{onClick:m,onKeyup:i}),hl("div",f,q(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[na,e.ripple]])}}});let it=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const n=document.createElement("div");Object.assign(n.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(n),e.scrollLeft=-1e3,it=e.scrollLeft>=0,e.remove()}const me=1e3,en=["start","center","end","start-force","center-force","end-force"],Il=Array.prototype.filter,tn=window.getComputedStyle(document.body).overflowAnchor===void 0?yl:function(e,n){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const u=e.children||[];Il.call(u,c=>c.dataset&&c.dataset.qVsAnchor!==void 0).forEach(c=>{delete c.dataset.qVsAnchor});const o=u[n];o?.dataset&&(o.dataset.qVsAnchor="")}))};function Le(e,n){return e+n}function yt(e,n,u,o,c,l,p,v){const h=e===window?document.scrollingElement||document.documentElement:e,F=c===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-p-v,scrollMaxSize:0,offsetStart:-p,offsetEnd:-v};if(c===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=h.scrollLeft,d.scrollViewSize+=h.clientWidth),d.scrollMaxSize=h.scrollWidth,l===!0&&(d.scrollStart=(it===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=h.scrollTop,d.scrollViewSize+=h.clientHeight),d.scrollMaxSize=h.scrollHeight),u!==null)for(let C=u.previousElementSibling;C!==null;C=C.previousElementSibling)C.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=C[F]);if(o!==null)for(let C=o.nextElementSibling;C!==null;C=C.nextElementSibling)C.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=C[F]);if(n!==e){const C=h.getBoundingClientRect(),i=n.getBoundingClientRect();c===!0?(d.offsetStart+=i.left-C.left,d.offsetEnd-=i.width):(d.offsetStart+=i.top-C.top,d.offsetEnd-=i.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function nl(e,n,u,o){n==="end"&&(n=(e===window?document.body:e)[u===!0?"scrollWidth":"scrollHeight"]),e===window?u===!0?(o===!0&&(n=(it===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-n),window.scrollTo(n,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,n):u===!0?(o===!0&&(n=(it===!0?e.scrollWidth-e.offsetWidth:0)-n),e.scrollLeft=n):e.scrollTop=n}function Ke(e,n,u,o){if(u>=o)return 0;const c=n.length,l=Math.floor(u/me),p=Math.floor((o-1)/me)+1;let v=e.slice(l,p).reduce(Le,0);return u%me!==0&&(v-=n.slice(l*me,u).reduce(Le,0)),o%me!==0&&o!==c&&(v-=n.slice(o,p*me).reduce(Le,0)),v}const ln={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ol={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...ln};function an({virtualScrollLength:e,getVirtualScrollTarget:n,getVirtualScrollEl:u,virtualScrollItemSizeComputed:o}){const c=ge(),{props:l,emit:p,proxy:v}=c,{$q:h}=v;let F,d,C,i=[],m;const a=$(0),q=$(0),f=$({}),k=$(null),b=$(null),O=$(null),V=$({from:0,to:0}),z=g(()=>l.tableColspan!==void 0?l.tableColspan:100);o===void 0&&(o=g(()=>l.virtualScrollItemSize));const S=g(()=>o.value+";"+l.virtualScrollHorizontal),T=g(()=>S.value+";"+l.virtualScrollSliceRatioBefore+";"+l.virtualScrollSliceRatioAfter);ce(T,()=>{U()}),ce(S,Q);function Q(){E(d,!0)}function R(r){E(r===void 0?d:r)}function I(r,_){const D=n();if(D==null||D.nodeType===8)return;const H=yt(D,u(),k.value,b.value,l.virtualScrollHorizontal,h.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd);C!==H.scrollViewSize&&U(H.scrollViewSize),P(D,H,Math.min(e.value-1,Math.max(0,parseInt(r,10)||0)),0,en.indexOf(_)!==-1?_:d!==-1&&r>d?"end":"start")}function Z(){const r=n();if(r==null||r.nodeType===8)return;const _=yt(r,u(),k.value,b.value,l.virtualScrollHorizontal,h.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd),D=e.value-1,H=_.scrollMaxSize-_.offsetStart-_.offsetEnd-q.value;if(F===_.scrollStart)return;if(_.scrollMaxSize<=0){P(r,_,0,0);return}C!==_.scrollViewSize&&U(_.scrollViewSize),j(V.value.from);const ee=Math.floor(_.scrollMaxSize-Math.max(_.scrollViewSize,_.offsetEnd)-Math.min(m[D],_.scrollViewSize/2));if(ee>0&&Math.ceil(_.scrollStart)>=ee){P(r,_,D,_.scrollMaxSize-_.offsetEnd-i.reduce(Le,0));return}let N=0,M=_.scrollStart-_.offsetStart,X=M;if(M<=H&&M+_.scrollViewSize>=a.value)M-=a.value,N=V.value.from,X=M;else for(let s=0;M>=i[s]&&N<D;s++)M-=i[s],N+=me;for(;M>0&&N<D;)M-=m[N],M>-_.scrollViewSize?(N++,X=M):X=m[N]+M;P(r,_,N,X)}function P(r,_,D,H,ee){const N=typeof ee=="string"&&ee.indexOf("-force")!==-1,M=N===!0?ee.replace("-force",""):ee,X=M!==void 0?M:"start";let s=Math.max(0,D-f.value[X]),B=s+f.value.total;B>e.value&&(B=e.value,s=Math.max(0,B-f.value.total)),F=_.scrollStart;const G=s!==V.value.from||B!==V.value.to;if(G===!1&&M===void 0){_e(D);return}const{activeElement:ue}=document,J=O.value;G===!0&&J!==null&&J!==ue&&J.contains(ue)===!0&&(J.addEventListener("focusout",A),setTimeout(()=>{J?.removeEventListener("focusout",A)})),tn(J,D-s);const ke=M!==void 0?m.slice(s,D).reduce(Le,0):0;if(G===!0){const Fe=B>=V.value.from&&s<=V.value.to?V.value.to:B;V.value={from:s,to:Fe},a.value=Ke(i,m,0,s),q.value=Ke(i,m,B,e.value),requestAnimationFrame(()=>{V.value.to!==B&&F===_.scrollStart&&(V.value={from:V.value.from,to:B},q.value=Ke(i,m,B,e.value))})}requestAnimationFrame(()=>{if(F!==_.scrollStart)return;G===!0&&j(s);const Fe=m.slice(s,D).reduce(Le,0),Ve=Fe+_.offsetStart+a.value,Je=Ve+m[D];let Ue=Ve+H;if(M!==void 0){const ct=Fe-ke,Ne=_.scrollStart+ct;Ue=N!==!0&&Ne<Ve&&Je<Ne+_.scrollViewSize?Ne:M==="end"?Je-_.scrollViewSize:Ve-(M==="start"?0:Math.round((_.scrollViewSize-m[D])/2))}F=Ue,nl(r,Ue,l.virtualScrollHorizontal,h.lang.rtl),_e(D)})}function j(r){const _=O.value;if(_){const D=Il.call(_.children,s=>s.classList&&s.classList.contains("q-virtual-scroll--skip")===!1),H=D.length,ee=l.virtualScrollHorizontal===!0?s=>s.getBoundingClientRect().width:s=>s.offsetHeight;let N=r,M,X;for(let s=0;s<H;){for(M=ee(D[s]),s++;s<H&&D[s].classList.contains("q-virtual-scroll--with-prev")===!0;)M+=ee(D[s]),s++;X=M-m[N],X!==0&&(m[N]+=X,i[Math.floor(N/me)]+=X),N++}}}function A(){O.value?.focus()}function E(r,_){const D=1*o.value;(_===!0||Array.isArray(m)===!1)&&(m=[]);const H=m.length;m.length=e.value;for(let N=e.value-1;N>=H;N--)m[N]=D;const ee=Math.floor((e.value-1)/me);i=[];for(let N=0;N<=ee;N++){let M=0;const X=Math.min((N+1)*me,e.value);for(let s=N*me;s<X;s++)M+=m[s];i.push(M)}d=-1,F=void 0,a.value=Ke(i,m,0,V.value.from),q.value=Ke(i,m,V.value.to,e.value),r>=0?(j(V.value.from),we(()=>{I(r)})):pe()}function U(r){if(r===void 0&&typeof window<"u"){const M=n();M!=null&&M.nodeType!==8&&(r=yt(M,u(),k.value,b.value,l.virtualScrollHorizontal,h.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd).scrollViewSize)}C=r;const _=parseFloat(l.virtualScrollSliceRatioBefore)||0,D=parseFloat(l.virtualScrollSliceRatioAfter)||0,H=1+_+D,ee=r===void 0||r<=0?1:Math.ceil(r/o.value),N=Math.max(1,ee,Math.ceil((l.virtualScrollSliceSize>0?l.virtualScrollSliceSize:10)/H));f.value={total:Math.ceil(N*H),start:Math.ceil(N*_),center:Math.ceil(N*(.5+_)),end:Math.ceil(N*(1+_)),view:ee}}function ie(r,_){const D=l.virtualScrollHorizontal===!0?"width":"height",H={["--q-virtual-scroll-item-"+D]:o.value+"px"};return[r==="tbody"?y(r,{class:"q-virtual-scroll__padding",key:"before",ref:k},[y("tr",[y("td",{style:{[D]:`${a.value}px`,...H},colspan:z.value})])]):y(r,{class:"q-virtual-scroll__padding",key:"before",ref:k,style:{[D]:`${a.value}px`,...H}}),y(r,{class:"q-virtual-scroll__content",key:"content",ref:O,tabindex:-1},_.flat()),r==="tbody"?y(r,{class:"q-virtual-scroll__padding",key:"after",ref:b},[y("tr",[y("td",{style:{[D]:`${q.value}px`,...H},colspan:z.value})])]):y(r,{class:"q-virtual-scroll__padding",key:"after",ref:b,style:{[D]:`${q.value}px`,...H}})]}function _e(r){d!==r&&(l.onVirtualScroll!==void 0&&p("virtualScroll",{index:r,from:V.value.from,to:V.value.to-1,direction:r<d?"decrease":"increase",ref:v}),d=r)}U();const pe=oa(Z,h.platform.is.ios===!0?120:35);Sl(()=>{U()});let xe=!1;return ua(()=>{xe=!0}),ia(()=>{if(xe!==!0)return;const r=n();F!==void 0&&r!==void 0&&r!==null&&r.nodeType!==8?nl(r,F,l.virtualScrollHorizontal,h.lang.rtl):I(d)}),Ge(()=>{pe.cancel()}),Object.assign(v,{scrollTo:I,reset:Q,refresh:R}),{virtualScrollSliceRange:V,virtualScrollSliceSizeComputed:f,setVirtualScrollSize:U,onVirtualScrollEvt:pe,localResetVirtualScroll:E,padVirtualScroll:ie,scrollTo:I,reset:Q,refresh:R}}const ul=e=>["add","add-unique","toggle"].includes(e),nn=".*+?^${}()|[]\\",on=Object.keys(qt);function St(e,n){if(typeof e=="function")return e;const u=e!==void 0?e:n;return o=>o!==null&&typeof o=="object"&&u in o?o[u]:o}const il=Se({name:"QSelect",inheritAttrs:!1,props:{...ol,...ra,...qt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:ul},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:ol.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...ml,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:n,emit:u}){const{proxy:o}=ge(),{$q:c}=o,l=$(!1),p=$(!1),v=$(-1),h=$(""),F=$(!1),d=$(!1);let C=null,i=null,m,a,q,f=null,k,b,O,V;const z=$(null),S=$(null),T=$(null),Q=$(null),R=$(null),I=sa(e),Z=ca(Lt),P=g(()=>Array.isArray(e.options)?e.options.length:0),j=g(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:A,virtualScrollSliceSizeComputed:E,localResetVirtualScroll:U,padVirtualScroll:ie,onVirtualScrollEvt:_e,scrollTo:pe,setVirtualScrollSize:xe}=an({virtualScrollLength:P,getVirtualScrollTarget:Tl,getVirtualScrollEl:Et,virtualScrollItemSizeComputed:j}),r=pl(),_=g(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,x=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const w=e.mapOptions===!0&&m!==void 0?m:[],L=x.map(Y=>Ol(Y,w));return e.modelValue===null&&t===!0?L.filter(Y=>Y!==null):L}return x}),D=g(()=>{const t={};return on.forEach(x=>{const w=e[x];w!==void 0&&(t[x]=w)}),t}),H=g(()=>e.optionsDark===null?r.isDark.value:e.optionsDark),ee=g(()=>Kt(_.value)),N=g(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||_.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),M=g(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),X=g(()=>P.value===0),s=g(()=>_.value.map(t=>re.value(t)).join(", ")),B=g(()=>e.displayValue!==void 0?e.displayValue:s.value),G=g(()=>e.optionsHtml===!0?()=>!0:t=>t?.html===!0),ue=g(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||_.value.some(G.value))),J=g(()=>r.focused.value===!0?e.tabindex:-1),ke=g(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":l.value===!0?"true":"false","aria-controls":`${r.targetUid.value}_lb`};return v.value>=0&&(t["aria-activedescendant"]=`${r.targetUid.value}_${v.value}`),t}),Fe=g(()=>({id:`${r.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ve=g(()=>_.value.map((t,x)=>({index:x,opt:t,html:G.value(t),selected:!0,removeAtIndex:Dl,toggleOption:ze,tabindex:J.value}))),Je=g(()=>{if(P.value===0)return[];const{from:t,to:x}=A.value;return e.options.slice(t,x).map((w,L)=>{const Y=Ae.value(w)===!0,W=vt(w)===!0,ne=t+L,te={clickable:!0,active:W,activeClass:Ne.value,manualFocus:!0,focused:!1,disable:Y,tabindex:-1,dense:e.optionsDense,dark:H.value,role:"option","aria-selected":W===!0?"true":"false",id:`${r.targetUid.value}_${ne}`,onClick:()=>{ze(w)}};return Y!==!0&&(v.value===ne&&(te.focused=!0),c.platform.is.desktop===!0&&(te.onMousemove=()=>{l.value===!0&&Ie(ne)})),{index:ne,opt:w,html:G.value(w),label:re.value(w),selected:te.active,focused:te.focused,toggleOption:ze,setOptionIndex:Ie,itemProps:te}})}),Ue=g(()=>e.dropdownIcon!==void 0?e.dropdownIcon:c.iconSet.arrow.dropdown),ct=g(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ne=g(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),he=g(()=>St(e.optionValue,"value")),re=g(()=>St(e.optionLabel,"label")),Ae=g(()=>St(e.optionDisable,"disable")),Ze=g(()=>_.value.map(he.value)),$l=g(()=>{const t={onInput:Lt,onChange:Z,onKeydown:Rt,onKeyup:Ot,onKeypress:Tt,onFocus:$t,onClick(x){a===!0&&qe(x)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=Z,t});ce(_,t=>{m=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&r.innerLoading.value!==!0&&(p.value!==!0&&l.value!==!0||ee.value!==!0)&&(q!==!0&&Oe(),(p.value===!0||l.value===!0)&&Be(""))},{immediate:!0}),ce(()=>e.fillInput,Oe),ce(l,ft),ce(P,Xl);function It(t){return e.emitValue===!0?he.value(t):t}function dt(t){if(t!==-1&&t<_.value.length)if(e.multiple===!0){const x=e.modelValue.slice();u("remove",{index:t,value:x.splice(t,1)[0]}),u("update:modelValue",x)}else u("update:modelValue",null)}function Dl(t){dt(t),r.focus()}function Bt(t,x){const w=It(t);if(e.multiple!==!0){e.fillInput===!0&&He(re.value(t),!0,!0),u("update:modelValue",w);return}if(_.value.length===0){u("add",{index:0,value:w}),u("update:modelValue",e.multiple===!0?[w]:w);return}if(x===!0&&vt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const L=e.modelValue.slice();u("add",{index:L.length,value:w}),L.push(w),u("update:modelValue",L)}function ze(t,x){if(r.editable.value!==!0||t===void 0||Ae.value(t)===!0)return;const w=he.value(t);if(e.multiple!==!0){x!==!0&&(He(e.fillInput===!0?re.value(t):"",!0,!0),Pe()),S.value?.focus(),(_.value.length===0||Qe(he.value(_.value[0]),w)!==!0)&&u("update:modelValue",e.emitValue===!0?w:t);return}if((a!==!0||F.value===!0)&&r.focus(),$t(),_.value.length===0){const W=e.emitValue===!0?w:t;u("add",{index:0,value:W}),u("update:modelValue",e.multiple===!0?[W]:W);return}const L=e.modelValue.slice(),Y=Ze.value.findIndex(W=>Qe(W,w));if(Y!==-1)u("remove",{index:Y,value:L.splice(Y,1)[0]});else{if(e.maxValues!==void 0&&L.length>=e.maxValues)return;const W=e.emitValue===!0?w:t;u("add",{index:L.length,value:W}),L.push(W)}u("update:modelValue",L)}function Ie(t){if(c.platform.is.desktop!==!0)return;const x=t!==-1&&t<P.value?t:-1;v.value!==x&&(v.value=x)}function et(t=1,x){if(l.value===!0){let w=v.value;do w=Zt(w+t,-1,P.value-1);while(w!==-1&&w!==v.value&&Ae.value(e.options[w])===!0);v.value!==w&&(Ie(w),pe(w),x!==!0&&e.useInput===!0&&e.fillInput===!0&&tt(w>=0?re.value(e.options[w]):k,!0))}}function Ol(t,x){const w=L=>Qe(he.value(L),t);return e.options.find(w)||x.find(w)||t}function vt(t){const x=he.value(t);return Ze.value.find(w=>Qe(w,x))!==void 0}function $t(t){e.useInput===!0&&S.value!==null&&(t===void 0||S.value===t.target&&t.target.value===s.value)&&S.value.select()}function Dt(t){ma(t,27)===!0&&l.value===!0&&(qe(t),Pe(),Oe()),u("keyup",t)}function Ot(t){const{value:x}=t.target;if(t.keyCode!==void 0){Dt(t);return}if(t.target.value="",C!==null&&(clearTimeout(C),C=null),i!==null&&(clearTimeout(i),i=null),Oe(),typeof x=="string"&&x.length!==0){const w=x.toLocaleLowerCase(),L=W=>{const ne=e.options.find(te=>String(W.value(te)).toLocaleLowerCase()===w);return ne===void 0?!1:(_.value.indexOf(ne)===-1?ze(ne):Pe(),!0)},Y=W=>{L(he)!==!0&&W!==!0&&L(re)!==!0&&Be(x,!0,()=>Y(!0))};Y()}else r.clearValue(t)}function Tt(t){u("keypress",t)}function Rt(t){if(u("keydown",t),da(t)===!0)return;const x=h.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),w=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(v.value!==-1||x===!0);if(t.keyCode===27){gt(t);return}if(t.keyCode===9&&w===!1){$e();return}if(t.target===void 0||t.target.id!==r.targetUid.value||r.editable.value!==!0)return;if(t.keyCode===40&&r.innerLoading.value!==!0&&l.value===!1){ve(t),De();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&h.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?dt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&u("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(ve(t),v.value=-1,et(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&E.value!==void 0&&(ve(t),v.value=Math.max(-1,Math.min(P.value,v.value+(t.keyCode===33?-1:1)*E.value.view)),et(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ve(t),et(t.keyCode===38?-1:1,e.multiple));const L=P.value;if((O===void 0||V<Date.now())&&(O=""),L>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||O.length!==0)){l.value!==!0&&De(t);const Y=t.key.toLocaleLowerCase(),W=O.length===1&&O[0]===Y;V=Date.now()+1500,W===!1&&(ve(t),O+=Y);const ne=new RegExp("^"+O.split("").map(mt=>nn.indexOf(mt)!==-1?"\\"+mt:mt).join(".*"),"i");let te=v.value;if(W===!0||te<0||ne.test(re.value(e.options[te]))!==!0)do te=Zt(te+1,-1,L-1);while(te!==v.value&&(Ae.value(e.options[te])===!0||ne.test(re.value(e.options[te]))!==!0));v.value!==te&&we(()=>{Ie(te),pe(te),te>=0&&e.useInput===!0&&e.fillInput===!0&&tt(re.value(e.options[te]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||O!=="")&&(t.keyCode!==9||w===!1))){if(t.keyCode!==9&&ve(t),v.value!==-1&&v.value<L){ze(e.options[v.value]);return}if(x===!0){const Y=(W,ne)=>{if(ne){if(ul(ne)!==!0)return}else ne=e.newValueMode;if(He("",e.multiple!==!0,!0),W==null)return;(ne==="toggle"?ze:Bt)(W,ne==="add-unique"),e.multiple!==!0&&(S.value?.focus(),Pe())};if(e.onNewValue!==void 0?u("newValue",h.value,Y):Y(h.value),e.multiple!==!0)return}l.value===!0?$e():r.innerLoading.value!==!0&&De()}}function Et(){return a===!0?R.value:T.value!==null&&T.value.contentEl!==null?T.value.contentEl:void 0}function Tl(){return Et()}function Rl(){return e.hideSelected===!0?[]:n["selected-item"]!==void 0?Ve.value.map(t=>n["selected-item"](t)).slice():n.selected!==void 0?[].concat(n.selected()):e.useChips===!0?Ve.value.map((t,x)=>y(Za,{key:"option-"+x,removable:r.editable.value===!0&&Ae.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:J.value,onRemove(){t.removeAtIndex(x)}},()=>y("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:re.value(t.opt)}))):[y("span",{class:"ellipsis",[ue.value===!0?"innerHTML":"textContent"]:B.value})]}function Mt(){if(X.value===!0)return n["no-option"]!==void 0?n["no-option"]({inputValue:h.value}):void 0;const t=n.option!==void 0?n.option:w=>y(za,{key:w.index,...w.itemProps},()=>y(Fa,()=>y(Va,()=>y("span",{[w.html===!0?"innerHTML":"textContent"]:w.label}))));let x=ie("div",Je.value.map(t));return n["before-options"]!==void 0&&(x=n["before-options"]().concat(x)),_l(n["after-options"],x)}function El(t,x){const w=x===!0?{...ke.value,...r.splitAttrs.attributes.value}:void 0,L={ref:x===!0?S:void 0,key:"i_t",class:N.value,style:e.inputStyle,value:h.value!==void 0?h.value:"",type:"search",...w,id:x===!0?r.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...$l.value};return t!==!0&&a===!0&&(Array.isArray(L.class)===!0?L.class=[...L.class,"no-pointer-events"]:L.class+=" no-pointer-events"),y("input",L)}function Lt(t){C!==null&&(clearTimeout(C),C=null),i!==null&&(clearTimeout(i),i=null),!(t&&t.target&&t.target.qComposing===!0)&&(tt(t.target.value||""),q=!0,k=h.value,r.focused.value!==!0&&(a!==!0||F.value===!0)&&r.focus(),e.onFilter!==void 0&&(C=setTimeout(()=>{C=null,Be(h.value)},e.inputDebounce)))}function tt(t,x){h.value!==t&&(h.value=t,x===!0||e.inputDebounce===0||e.inputDebounce==="0"?u("inputValue",t):i=setTimeout(()=>{i=null,u("inputValue",t)},e.inputDebounce))}function He(t,x,w){q=w!==!0,e.useInput===!0&&(tt(t,!0),(x===!0||w!==!0)&&(k=t),x!==!0&&Be(t))}function Be(t,x,w){if(e.onFilter===void 0||x!==!0&&r.focused.value!==!0)return;r.innerLoading.value===!0?u("filterAbort"):(r.innerLoading.value=!0,d.value=!0),t!==""&&e.multiple!==!0&&_.value.length!==0&&q!==!0&&t===re.value(_.value[0])&&(t="");const L=setTimeout(()=>{l.value===!0&&(l.value=!1)},10);f!==null&&clearTimeout(f),f=L,u("filter",t,(Y,W)=>{(x===!0||r.focused.value===!0)&&f===L&&(clearTimeout(f),typeof Y=="function"&&Y(),d.value=!1,we(()=>{r.innerLoading.value=!1,r.editable.value===!0&&(x===!0?l.value===!0&&Pe():l.value===!0?ft(!0):l.value=!0),typeof W=="function"&&we(()=>{W(o)}),typeof w=="function"&&we(()=>{w(o)})}))},()=>{r.focused.value===!0&&f===L&&(clearTimeout(f),r.innerLoading.value=!1,d.value=!1),l.value===!0&&(l.value=!1)})}function Ml(){return y(qa,{ref:T,class:M.value,style:e.popupContentStyle,modelValue:l.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&X.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:H.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:ct.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Fe.value,onScrollPassive:_e,onBeforeShow:Nt,onBeforeHide:Ll,onShow:Ul},Mt)}function Ll(t){Ht(t),$e()}function Ul(){xe()}function Nl(t){qe(t),S.value?.focus(),F.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Hl(t){qe(t),we(()=>{F.value=!1})}function Ql(){const t=[y(Ga,{class:`col-auto ${r.fieldClass.value}`,...D.value,for:r.targetUid.value,dark:H.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:h.value.length!==0,...r.splitAttrs.listeners.value,onFocus:Nl,onBlur:Hl},{...n,rawControl:()=>r.getControl(!0),before:void 0,after:void 0})];return l.value===!0&&t.push(y("div",{ref:R,class:M.value+" scroll",style:e.popupContentStyle,...Fe.value,onClick:gt,onScrollPassive:_e},Mt())),y(bl,{ref:Q,modelValue:p.value,position:e.useInput===!0?"top":void 0,transitionShow:b,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Nt,onBeforeHide:jl,onHide:Kl,onShow:Wl},()=>y("div",{class:"q-select__dialog"+(H.value===!0?" q-select__dialog--dark q-dark":"")+(F.value===!0?" q-select__dialog--focused":"")},t))}function jl(t){Ht(t),Q.value!==null&&Q.value.__updateRefocusTarget(r.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),r.focused.value=!1}function Kl(t){Pe(),r.focused.value===!1&&u("blur",t),Oe()}function Wl(){const t=document.activeElement;(t===null||t.id!==r.targetUid.value)&&S.value!==null&&S.value!==t&&S.value.focus(),xe()}function $e(){p.value!==!0&&(v.value=-1,l.value===!0&&(l.value=!1),r.focused.value===!1&&(f!==null&&(clearTimeout(f),f=null),r.innerLoading.value===!0&&(u("filterAbort"),r.innerLoading.value=!1,d.value=!1)))}function De(t){r.editable.value===!0&&(a===!0?(r.onControlFocusin(t),p.value=!0,we(()=>{r.focus()})):r.focus(),e.onFilter!==void 0?Be(h.value):(X.value!==!0||n["no-option"]!==void 0)&&(l.value=!0))}function Pe(){p.value=!1,$e()}function Oe(){e.useInput===!0&&He(e.multiple!==!0&&e.fillInput===!0&&_.value.length!==0&&re.value(_.value[0])||"",!0,!0)}function ft(t){let x=-1;if(t===!0){if(_.value.length!==0){const w=he.value(_.value[0]);x=e.options.findIndex(L=>Qe(he.value(L),w))}U(x)}Ie(x)}function Xl(t,x){l.value===!0&&r.innerLoading.value===!1&&(U(-1,!0),we(()=>{l.value===!0&&r.innerLoading.value===!1&&(t>x?U():ft(!0))}))}function Ut(){p.value===!1&&T.value!==null&&T.value.updatePosition()}function Nt(t){t!==void 0&&qe(t),u("popupShow",t),r.hasPopupOpen=!0,r.onControlFocusin(t)}function Ht(t){t!==void 0&&qe(t),u("popupHide",t),r.hasPopupOpen=!1,r.onControlFocusout(t)}function Qt(){a=c.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?n["no-option"]!==void 0||e.onFilter!==void 0||X.value===!1:!0),b=c.platform.is.ios===!0&&a===!0&&e.useInput===!0?"fade":e.transitionShow}return va(Qt),fa(Ut),Qt(),Ge(()=>{C!==null&&clearTimeout(C),i!==null&&clearTimeout(i)}),Object.assign(o,{showPopup:De,hidePopup:Pe,removeAtIndex:dt,add:Bt,toggleOption:ze,getOptionIndex:()=>v.value,setOptionIndex:Ie,moveOptionSelection:et,filter:Be,updateMenuPosition:Ut,updateInputValue:He,isOptionSelected:vt,getEmittingOptionValue:It,isOptionDisabled:(...t)=>Ae.value.apply(null,t)===!0,getOptionValue:(...t)=>he.value.apply(null,t),getOptionLabel:(...t)=>re.value.apply(null,t)}),Object.assign(r,{innerValue:_,fieldClass:g(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:z,targetRef:S,hasValue:ee,showPopup:De,floatingLabel:g(()=>e.hideSelected!==!0&&ee.value===!0||typeof h.value=="number"||h.value.length!==0||Kt(e.displayValue)),getControlChild:()=>{if(r.editable.value!==!1&&(p.value===!0||X.value!==!0||n["no-option"]!==void 0))return a===!0?Ql():Ml();r.hasPopupOpen===!0&&(r.hasPopupOpen=!1)},controlEvents:{onFocusin(t){r.onControlFocusin(t)},onFocusout(t){r.onControlFocusout(t,()=>{Oe(),$e()})},onClick(t){if(gt(t),a!==!0&&l.value===!0){$e(),S.value?.focus();return}De(t)}},getControl:t=>{const x=Rl(),w=t===!0||p.value!==!0||a!==!0;if(e.useInput===!0)x.push(El(t,w));else if(r.editable.value===!0){const Y=w===!0?ke.value:void 0;x.push(y("input",{ref:w===!0?S:void 0,key:"d_t",class:"q-select__focus-target",id:w===!0?r.targetUid.value:void 0,value:B.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...Y,onKeydown:Rt,onKeyup:Dt,onKeypress:Tt})),w===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&x.push(y("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ot}))}if(I.value!==void 0&&e.disable!==!0&&Ze.value.length!==0){const Y=Ze.value.map(W=>y("option",{value:W,selected:!0}));x.push(y("select",{class:"hidden",name:I.value,multiple:e.multiple},Y))}const L=e.useInput===!0||w!==!0?void 0:r.splitAttrs.attributes.value;return y("div",{class:"q-field__native row items-center",...L,...r.splitAttrs.listeners.value},x)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[y(Ee,{class:"q-select__dropdown-icon"+(l.value===!0?" rotate-180":""),name:Ue.value})]:null}),gl(r)}});function At(){const{emit:e,proxy:n}=ge(),u=$(null);function o(){u.value.show()}function c(){u.value.hide()}function l(v){e("ok",v),c()}function p(){e("hide")}return Object.assign(n,{show:o,hide:c}),{dialogRef:u,onDialogHide:p,onDialogOK:l,onDialogCancel:c}}const Bl=["ok","hide"];At.emits=Bl;At.emitsObject=Al(Bl);function un(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((u,o)=>{const c=parseFloat(u);c&&(n[o]=c)}),n}const rn=ga({name:"touch-swipe",beforeMount(e,{value:n,arg:u,modifiers:o}){if(o.mouse!==!0&&Re.has.touch!==!0)return;const c=o.mouseCapture===!0?"Capture":"",l={handler:n,sensitivity:un(u),direction:el(o),noop:yl,mouseStart(p){tl(p,l)&&pa(p)&&(lt(l,"temp",[[document,"mousemove","move",`notPassive${c}`],[document,"mouseup","end","notPassiveCapture"]]),l.start(p,!0))},touchStart(p){if(tl(p,l)){const v=p.target;lt(l,"temp",[[v,"touchmove","move","notPassiveCapture"],[v,"touchcancel","end","notPassiveCapture"],[v,"touchend","end","notPassiveCapture"]]),l.start(p)}},start(p,v){Re.is.firefox===!0&&ht(e,!0);const h=Wt(p);l.event={x:h.left,y:h.top,time:Date.now(),mouse:v===!0,dir:!1}},move(p){if(l.event===void 0)return;if(l.event.dir!==!1){ve(p);return}const v=Date.now()-l.event.time;if(v===0)return;const h=Wt(p),F=h.left-l.event.x,d=Math.abs(F),C=h.top-l.event.y,i=Math.abs(C);if(l.event.mouse!==!0){if(d<l.sensitivity[1]&&i<l.sensitivity[1]){l.end(p);return}}else if(window.getSelection().toString()!==""){l.end(p);return}else if(d<l.sensitivity[2]&&i<l.sensitivity[2])return;const m=d/v,a=i/v;l.direction.vertical===!0&&d<i&&d<100&&a>l.sensitivity[0]&&(l.event.dir=C<0?"up":"down"),l.direction.horizontal===!0&&d>i&&i<100&&m>l.sensitivity[0]&&(l.event.dir=F<0?"left":"right"),l.direction.up===!0&&d<i&&C<0&&d<100&&a>l.sensitivity[0]&&(l.event.dir="up"),l.direction.down===!0&&d<i&&C>0&&d<100&&a>l.sensitivity[0]&&(l.event.dir="down"),l.direction.left===!0&&d>i&&F<0&&i<100&&m>l.sensitivity[0]&&(l.event.dir="left"),l.direction.right===!0&&d>i&&F>0&&i<100&&m>l.sensitivity[0]&&(l.event.dir="right"),l.event.dir!==!1?(ve(p),l.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Pa(),l.styleCleanup=q=>{l.styleCleanup=void 0,document.body.classList.remove("non-selectable");const f=()=>{document.body.classList.remove("no-pointer-events--children")};q===!0?setTimeout(f,50):f()}),l.handler({evt:p,touch:l.event.mouse!==!0,mouse:l.event.mouse,direction:l.event.dir,duration:v,distance:{x:d,y:i}})):l.end(p)},end(p){l.event!==void 0&&(pt(l,"temp"),Re.is.firefox===!0&&ht(e,!1),l.styleCleanup?.(!0),p!==void 0&&l.event.dir!==!1&&ve(p),l.event=void 0)}};if(e.__qtouchswipe=l,o.mouse===!0){const p=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";lt(l,"main",[[e,"mousedown","mouseStart",`passive${p}`]])}Re.has.touch===!0&&lt(l,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const u=e.__qtouchswipe;u!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&u.end(),u.handler=n.value),u.direction=el(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&(pt(n,"main"),pt(n,"temp"),Re.is.firefox===!0&&ht(e,!1),n.styleCleanup?.(),delete e.__qtouchswipe)}});function sn(){let e=Object.create(null);return{getCache:(n,u)=>e[n]===void 0?e[n]=typeof u=="function"?u():u:e[n],setCache(n,u){e[n]=u},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const cn={name:{required:!0},disable:Boolean},rl={setup(e,{slots:n}){return()=>y("div",{class:"q-panel scroll",role:"tabpanel"},Ye(n.default))}},dn={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},vn=["update:modelValue","beforeTransition","transition"];function fn(){const{props:e,emit:n,proxy:u}=ge(),{getCache:o}=sn(),{registerTimeout:c}=ha();let l,p;const v=$(null),h={value:null};function F(A){const E=e.vertical===!0?"up":"left";Q((u.$q.lang.rtl===!0?-1:1)*(A.direction===E?1:-1))}const d=g(()=>[[rn,F,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),C=g(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),i=g(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),m=g(()=>`--q-transition-duration: ${e.transitionDuration}ms`),a=g(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),q=g(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),f=g(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ce(()=>e.modelValue,(A,E)=>{const U=V(A)===!0?z(A):-1;p!==!0&&T(U===-1?0:U<z(E)?-1:1),h.value!==U&&(h.value=U,n("beforeTransition",A,E),c(()=>{n("transition",A,E)},e.transitionDuration))});function k(){Q(1)}function b(){Q(-1)}function O(A){n("update:modelValue",A)}function V(A){return A!=null&&A!==""}function z(A){return l.findIndex(E=>E.props.name===A&&E.props.disable!==""&&E.props.disable!==!0)}function S(){return l.filter(A=>A.props.disable!==""&&A.props.disable!==!0)}function T(A){const E=A!==0&&e.animated===!0&&h.value!==-1?"q-transition--"+(A===-1?C.value:i.value):null;v.value!==E&&(v.value=E)}function Q(A,E=h.value){let U=E+A;for(;U!==-1&&U<l.length;){const ie=l[U];if(ie!==void 0&&ie.props.disable!==""&&ie.props.disable!==!0){T(A),p=!0,n("update:modelValue",ie.props.name),setTimeout(()=>{p=!1});return}U+=A}e.infinite===!0&&l.length!==0&&E!==-1&&E!==l.length&&Q(A,A===-1?l.length:-1)}function R(){const A=z(e.modelValue);return h.value!==A&&(h.value=A),!0}function I(){const A=V(e.modelValue)===!0&&R()&&l[h.value];return e.keepAlive===!0?[y(ba,q.value,[y(f.value===!0?o(a.value,()=>({...rl,name:a.value})):rl,{key:a.value,style:m.value},()=>A)])]:[y("div",{class:"q-panel scroll",style:m.value,key:a.value,role:"tabpanel"},[A])]}function Z(){if(l.length!==0)return e.animated===!0?[y(ya,{name:v.value},I)]:I()}function P(A){return l=Sa(Ye(A.default,[])).filter(E=>E.props!==null&&E.props.slot===void 0&&V(E.props.name)===!0),l.length}function j(){return l}return Object.assign(u,{next:k,previous:b,goTo:O}),{panelIndex:h,panelDirectives:d,updatePanelsList:P,updatePanelIndex:R,getPanelContent:Z,getEnabledPanels:S,getPanels:j,isValidPanelName:V,keepAliveProps:q,needsUniqueKeepAliveWrapper:f,goToPanelByOffset:Q,goToPanel:O,nextPanel:k,previousPanel:b}}const mn=Se({name:"QCarouselSlide",props:{...cn,imgSrc:String},setup(e,{slots:n}){const u=g(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>y("div",{class:"q-carousel__slide",style:u.value},Ye(n.default))}}),gn=Se({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,default:()=>[18,18],validator:e=>e.length===2}},setup(e,{slots:n}){const u=g(()=>`q-carousel__control absolute absolute-${e.position}`),o=g(()=>({margin:`${e.offset[1]}px ${e.offset[0]}px`}));return()=>y("div",{class:u.value,style:o.value},Ye(n.default))}});let We=0;const pn={fullscreen:Boolean,noRouteFullscreenExit:Boolean},hn=["update:fullscreen","fullscreen"];function yn(){const e=ge(),{props:n,emit:u,proxy:o}=e;let c,l,p;const v=$(!1);_a(e)===!0&&ce(()=>o.$route.fullPath,()=>{n.noRouteFullscreenExit!==!0&&d()}),ce(()=>n.fullscreen,C=>{v.value!==C&&h()}),ce(v,C=>{u("update:fullscreen",C),u("fullscreen",C)});function h(){v.value===!0?d():F()}function F(){v.value!==!0&&(v.value=!0,p=o.$el.parentNode,p.replaceChild(l,o.$el),document.body.appendChild(o.$el),We++,We===1&&document.body.classList.add("q-body--fullscreen-mixin"),c={handler:d},Xt.add(c))}function d(){v.value===!0&&(c!==void 0&&(Xt.remove(c),c=void 0),p.replaceChild(o.$el,l),v.value=!1,We=Math.max(0,We-1),We===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),o.$el.scrollIntoView!==void 0&&setTimeout(()=>{o.$el.scrollIntoView()})))}return Sl(()=>{l=document.createElement("span")}),rt(()=>{n.fullscreen===!0&&F()}),Ge(d),Object.assign(o,{toggleFullscreen:h,setFullscreen:F,exitFullscreen:d}),{inFullscreen:v,toggleFullscreen:h}}const Sn=["top","right","bottom","left"],bn=["regular","flat","outline","push","unelevated"],_n=Se({name:"QCarousel",props:{...wt,...dn,...pn,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>bn.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Sn.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...hn,...vn],setup(e,{slots:n}){const{proxy:{$q:u}}=ge(),o=Ct(e,u);let c=null,l;const{updatePanelsList:p,getPanelContent:v,panelDirectives:h,goToPanel:F,previousPanel:d,nextPanel:C,getEnabledPanels:i,panelIndex:m}=fn(),{inFullscreen:a}=yn(),q=g(()=>a.value!==!0&&e.height!==void 0?{height:e.height}:{}),f=g(()=>e.vertical===!0?"vertical":"horizontal"),k=g(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),b=g(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(a.value===!0?" fullscreen":"")+(o.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${f.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${k.value}`:"")),O=g(()=>{const I=[e.prevIcon||u.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||u.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&u.lang.rtl===!0?I.reverse():I}),V=g(()=>e.navigationIcon||u.iconSet.carousel.navigationIcon),z=g(()=>e.navigationActiveIcon||V.value),S=g(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));ce(()=>e.modelValue,()=>{e.autoplay&&T()}),ce(()=>e.autoplay,I=>{I?T():c!==null&&(clearTimeout(c),c=null)});function T(){const I=xa(e.autoplay)===!0?Math.abs(e.autoplay):5e3;c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,I>=0?C():d()},I)}rt(()=>{e.autoplay&&T()}),Ge(()=>{c!==null&&clearTimeout(c)});function Q(I,Z){return y("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${I} q-carousel__navigation--${k.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[y("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},i().map(Z))])}function R(){const I=[];if(e.navigation===!0){const Z=n["navigation-icon"]!==void 0?n["navigation-icon"]:j=>y(de,{key:"nav"+j.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${j.active===!0?"":"in"}active`,...j.btnProps,onClick:j.onClick}),P=l-1;I.push(Q("buttons",(j,A)=>{const E=j.props.name,U=m.value===A;return Z({index:A,maxIndex:P,name:E,active:U,btnProps:{icon:U===!0?z.value:V.value,size:"sm",...S.value},onClick:()=>{F(E)}})}))}else if(e.thumbnails===!0){const Z=e.controlColor!==void 0?` text-${e.controlColor}`:"";I.push(Q("thumbnails",P=>{const j=P.props;return y("img",{key:"tmb#"+j.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${j.name===e.modelValue?"":"in"}active`+Z,src:j.imgSrc||j["img-src"],onClick:()=>{F(j.name)}})}))}return e.arrows===!0&&m.value>=0&&((e.infinite===!0||m.value>0)&&I.push(y("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${f.value} absolute flex flex-center`},[y(de,{icon:O.value[0],...S.value,onClick:d})])),(e.infinite===!0||m.value<l-1)&&I.push(y("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${f.value} absolute flex flex-center`},[y(de,{icon:O.value[1],...S.value,onClick:C})]))),_l(n.control,I)}return()=>(l=p(n),y("div",{class:b.value,style:q.value},[hl("div",{class:"q-carousel__slides-container"},v(),"sl-cont",e.swipeable,()=>h.value)].concat(R())))}}),xn=st({__name:"ProductImgCarusel",props:{images:{}},emits:["refresh-data"],setup(e,{emit:n}){const u=e,o=n,c=Vt(),l=Ft(),p=kt(),{isManager:v}=zt(g(()=>p.user?.role)),h=$(0),F=$(!1);function d(){c.dialog({title:" ",message:"     ?",cancel:!0,persistent:!0}).onOk(()=>{C()})}async function C(){try{const i=u.images[h.value];await l.deleteFile(i.id),o("refresh-data")}catch(i){console.error(i)}}return(i,m)=>(ae(),se(_n,{swipeable:"",animated:"",arrows:"",modelValue:h.value,"onUpdate:modelValue":m[2]||(m[2]=a=>h.value=a),fullscreen:F.value,"onUpdate:fullscreen":m[3]||(m[3]=a=>F.value=a),infinite:"",height:ye(v)?"200px":"250px",class:"q-mb-sm"},{control:le(()=>[K(gn,{position:"bottom-right",offset:[18,18]},{default:le(()=>[ye(v)?Me("",!0):(ae(),se(de,{key:0,push:"",round:"",dense:"",color:"white","text-color":"primary",icon:F.value?"fullscreen_exit":"fullscreen",onClick:m[0]||(m[0]=a=>F.value=!F.value)},null,8,["icon"])),ye(v)?(ae(),se(de,{key:1,round:"",dense:"","text-color":"red",icon:"delete",onClick:m[1]||(m[1]=a=>d())})):Me("",!0)]),_:1})]),default:le(()=>[(ae(!0),Xe(wl,null,xl(i.images,(a,q)=>(ae(),se(mn,{key:q,name:q,"img-src":a.file_path,class:"card-image"},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue","fullscreen","height"]))}}),sl=Pt(xn,[["__scopeId","data-v-11af1822"]]),wn={class:"text-h6 q-mb-md"},Cn={class:"text-center upload-title"},qn={key:1},kn={class:"text-h6 text-center q-mt-sm"},Fn={class:"text-bold"},Vn=st({__name:"AddProductModal",props:{productData:{}},emits:["refresh-data","add-product"],setup(e,{emit:n}){const u=e,o=n,c=Vt(),l=Ft(),p=Aa(),{dialogRef:v}=At(),h=kt(),{isManager:F}=zt(g(()=>h.user?.role)),d=Fl(),C=$(!1),i=$({id:null,name:"",price:null,category_id:null,unit_id:null,qty:null,description:"",images:"",origin_country:"",unit:null}),m=new FormData;rt(()=>{u.productData&&(i.value=u.productData)});async function a(){try{let V=null;i.value?.id?V=l.updateProduct(i.value):(f(),V=await l.createProduct(m)),V&&(i.value.id=V.id,c.notify({message:" ",color:"primary"}),o("refresh-data"))}catch(V){console.error(V)}}function q(){o("add-product",i.value)}function f(){i?.value?.id&&m.append("id",i.value.id.toString()),i.value?.name&&m.append("name",i.value.name),i.value?.price&&m.append("price",i.value.price.toString()),i.value?.category_id&&m.append("category_id",i.value.category_id.toString()),i.value?.unit_id&&m.append("unit_id",i.value.unit_id.toString()),i.value?.qty&&m.append("qty",i.value.qty.toString()),i.value?.description&&m.append("description",i.value.description),i.value?.origin_country&&m.append("origin_country",i.value.origin_country)}function k(V){const z=new FileReader;z.readAsDataURL(V[0]),z.onload=()=>{},m.append("images",V[0]),i.value?.id&&b(V[0])}async function b(V){const z=new FormData;z.append("file",V),z.append("is_primary","true");try{await l.uploadFile(i.value.id,z)&&(O(),c.notify({message:"  ",color:"primary"}))}catch(S){console.error(S)}}async function O(){try{const V=await l.fetchProductsById(i.value.id);i.value=V}catch(V){console.error(V)}}return(V,z)=>(ae(),se(bl,{ref_key:"dialogRef",ref:v,modelValue:C.value,"onUpdate:modelValue":z[10]||(z[10]=S=>C.value=S),persistent:""},{default:le(()=>[K(Cl,{class:"add-product"},{default:le(()=>[ye(F)?(ae(),se(ll,{key:0,greedy:""},{default:le(()=>[K(ut,null,{default:le(()=>[oe("div",wn,fe(i.value.id?" ":" "),1),K(Ya,{ref:"uploaderRef",color:"primary",flat:"",onAdded:k},{header:le(()=>[...z[11]||(z[11]=[])]),list:le(()=>[K(Ba),oe("div",Cn,[K(Ee,{class:"q-mr-sm",name:"note_add",size:"24px"}),z[12]||(z[12]=oe("span",null," ",-1))])]),_:1},512),oe("div",null,[i.value?.images?.length?(ae(),se(sl,{key:0,onRefreshData:z[0]||(z[0]=S=>O()),images:i.value.images},null,8,["images"])):Me("",!0)]),K(je,{modelValue:i.value.name,"onUpdate:modelValue":z[1]||(z[1]=S=>i.value.name=S),class:"q-mb-xs",outlined:"",label:" "},null,8,["modelValue"]),K(je,{modelValue:i.value.price,"onUpdate:modelValue":z[2]||(z[2]=S=>i.value.price=S),class:"q-mb-xs",outlined:"",label:" "},null,8,["modelValue"]),K(je,{modelValue:i.value.qty,"onUpdate:modelValue":z[3]||(z[3]=S=>i.value.qty=S),class:"q-mb-xs",outlined:"",label:""},null,8,["modelValue"]),K(je,{modelValue:i.value.origin_country,"onUpdate:modelValue":z[4]||(z[4]=S=>i.value.origin_country=S),class:"q-mb-xs",outlined:"",label:" "},null,8,["modelValue"]),K(il,{modelValue:i.value.category_id,"onUpdate:modelValue":z[5]||(z[5]=S=>i.value.category_id=S),options:ye(p).categories,class:"q-mb-xs",outlined:"",label:"","emit-value":"","map-options":"","option-label":"name","option-value":"id"},null,8,["modelValue","options"]),K(il,{modelValue:i.value.unit_id,"onUpdate:modelValue":z[6]||(z[6]=S=>i.value.unit_id=S),options:ye(d).units,outlined:"",label:" ","emit-value":"","map-options":"","option-label":"name","option-value":"id"},null,8,["modelValue","options"]),K(je,{class:"q-mt-sm",modelValue:i.value.description,"onUpdate:modelValue":z[7]||(z[7]=S=>i.value.description=S),outlined:"",type:"textarea",rows:"2",label:""},null,8,["modelValue"])]),_:1}),K(_t,{align:"right"},{default:le(()=>[at(K(de,{color:"red",label:""},null,512),[[nt]]),at(K(de,{color:"primary",label:"",onClick:z[8]||(z[8]=S=>a())},null,512),[[nt]])]),_:1})]),_:1})):(ae(),se(ll,{key:1},{default:le(()=>[K(ut,null,{default:le(()=>[oe("div",null,[i.value?.images?.length?(ae(),se(sl,{key:0,images:i.value.images},null,8,["images"])):(ae(),Xe("div",qn,[K(ql,{class:"q-mt-sm",src:ye(kl)("/card-shop.jpg")},null,8,["src"])]))]),oe("div",kn,fe(i.value.name),1),oe("div",Fn," : "+fe(i.value.price),1),oe("div",null,": 11 "+fe(i.value?.unit?.name||"")+".",1),oe("div",null," : "+fe(i.value.origin_country),1),oe("div",null,": "+fe(i.value.description),1)]),_:1}),K(_t,{align:"right"},{default:le(()=>[at(K(de,{color:"red",label:""},null,512),[[nt]]),at(K(de,{color:"primary",label:"  ",onClick:z[9]||(z[9]=S=>q())},null,512),[[nt]])]),_:1})]),_:1}))]),_:1})]),_:1},8,["modelValue"]))}}),zn=Pt(Vn,[["__scopeId","data-v-74dadd3f"]]),Pn={class:"product-card row q-col-gutter-xs"},An=["onClick"],In={class:"text-center card-title"},Bn={class:"text-center"},$n={class:"text-bold"},Dn={key:0,class:"text-grey old-price"},On={class:"text-grey"},Tn=st({__name:"ProductList",setup(e){const n=Vt(),u=Fl(),o=Ft(),c=Ca(),l=kt(),{isManager:p}=zt(g(()=>l.user?.role)),v=$(!1),h=$(!1),F=$();rt(async()=>{try{await u.fetchUnits(),n.loading.show()}catch(q){console.error(q)}finally{n.loading.hide()}});function d(){o.pagination.offset=0,C()}async function C(){try{n.loading.show();const q={offset:o.pagination.offset,limit:o.pagination.limit},f=await o.fetchProducts(q);f&&(o.pagination.total=f.total,o.pagination.has_more=f.has_more,o?.products?.length?o.products.push(f.items):o.products=f.items)}catch(q){console.error(q)}finally{n.loading.hide()}}function i(q){try{n.loading.show(),c.basketData?.length?c.basketData.push(structuredClone(Yt(q))):c.basketData.push(structuredClone(Yt(q)))}catch(f){console.error(f)}finally{n.notify({message:` ${q.name}   `,color:"primary"}),n.loading.hide()}}const m=async(q,f)=>{if(!o.pagination.has_more){v.value=!0,f(!0);return}await C(),o.pagination.offset+=o.pagination.limit,f()};function a(q){F.value=q,h.value=!h.value}return(q,f)=>(ae(),se(ka,{onLoad:m,offset:250},{default:le(()=>[ye(p)?(ae(),se(de,{key:0,onClick:f[0]||(f[0]=k=>a()),class:"full-width q-mb-sm",color:"secondary",label:" "})):Me("",!0),oe("div",Pn,[(ae(!0),Xe(wl,null,xl(ye(o).products,(k,b)=>(ae(),Xe("div",{class:"col-6",key:b},[K(Cl,{class:"my-card radius-16 full-height",flat:"",bordered:""},{default:le(()=>[K(ut,{class:"q-pa-sm full-height"},{default:le(()=>[oe("div",{onClick:O=>a(k)},[K(ql,{class:"cursor-pointer radius-8",src:k?.primary_image?k.primary_image:ye(kl)("/card-shop.jpg"),height:"160px",fit:"cover"},null,8,["src"])],8,An),K(ut,{class:"q-pa-sm card-container"},{default:le(()=>[oe("div",In,fe(k.name),1),oe("div",Bn,[oe("span",$n,fe(k.price),1),f[3]||(f[3]=Gt("  ",-1)),k?.oldPrice?(ae(),Xe("span",Dn,fe(k.old_price)+" ",1)):Me("",!0),Gt(" / "+fe(k.unit_name)+" ",1),oe("div",On,fe(k.origin_country),1)])]),_:2},1024),K(_t,{class:"justify-center"},{default:le(()=>[K(de,{dense:"","no-caps":"",class:"full-width",color:"secondary",icon:"add_shopping_cart",label:" ",onClick:O=>i(k)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),h.value?(ae(),se(zn,{key:1,modelValue:h.value,"onUpdate:modelValue":f[1]||(f[1]=k=>h.value=k),productData:F.value,onRefreshData:f[2]||(f[2]=k=>d()),onAddProduct:i},null,8,["modelValue","productData"])):Me("",!0)]),_:1}))}}),Rn=Pt(Tn,[["__scopeId","data-v-5e43c418"]]),Xn=st({__name:"DashboardPage",setup(e){return(n,u)=>(ae(),se(Ia,{class:"q-mx-xs"},{default:le(()=>[K(Rn,{class:"q-mb-lg"})]),_:1}))}});export{Xn as default};
