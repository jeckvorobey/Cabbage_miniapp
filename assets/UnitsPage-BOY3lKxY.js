import{d as U,r as c,a5 as C,a4 as u,a9 as a,f as e,aa as k,L as p,Q as i,o as B,a2 as $,a3 as f,a6 as D,a8 as Q,F as L,ac as M,ae as _,ab as b}from"./index-BajYhe5X.js";import{u as q,Q as N,b as v,a as y}from"./use-quasar-DwvzMf_o.js";import{a as A,Q as F}from"./QSeparator-Bjbg7oo1.js";import{Q as w}from"./QCard-DGDbAFqO.js";import{u as x,Q as P}from"./unitsStore-DjbBXvCi.js";import{Q as V}from"./QInput-qWGwLL5E.js";import{Q as h}from"./QCardSection-CGotBi1d.js";import{a as E,C as g,Q as R}from"./ClosePopup-jLFc0xrf.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-timeout-B-TQLt4P.js";const j=U({__name:"AddUnitModal",setup(S){const r=q(),d=x(),s=c(!1),n=c({name:"",symbol:""});async function m(){try{await d.createUnit(n.value)&&r.notify({message:"Единица измерения успешно создана",color:"primary"})}catch(o){console.error(o)}}return(o,t)=>(u(),C(R,{ref:"dialogRef",modelValue:s.value,"onUpdate:modelValue":t[3]||(t[3]=l=>s.value=l),persistent:""},{default:a(()=>[e(w,{class:"add-product"},{default:a(()=>[e(P,{greedy:""},{default:a(()=>[e(h,null,{default:a(()=>[t[4]||(t[4]=k("div",{class:"text-h6 q-mb-md"},"Добавление единицы измерения",-1)),e(V,{modelValue:n.value.name,"onUpdate:modelValue":t[0]||(t[0]=l=>n.value.name=l),label:"Наименование","stack-label":""},null,8,["modelValue"]),e(V,{modelValue:n.value.symbol,"onUpdate:modelValue":t[1]||(t[1]=l=>n.value.symbol=l),label:"Количество","stack-label":""},null,8,["modelValue"])]),_:1}),e(E,{align:"right"},{default:a(()=>[p(e(i,{color:"red",label:"Отмена"},null,512),[[g]]),p(e(i,{color:"primary",label:"Подтвердить",onClick:t[2]||(t[2]=l=>m())},null,512),[[g]])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),z=T(j,[["__scopeId","data-v-e20b88fa"]]),G={key:0},te=U({__name:"UnitsPage",setup(S){const r=x(),d=q(),s=c(!1);B(()=>{n()});async function n(){try{await r.fetchUnits(),d.loading.show()}catch(m){console.error(m)}finally{d.loading.hide()}}return(m,o)=>{const t=$("q-item-action");return u(),f("div",null,[e(i,{onClick:o[0]||(o[0]=l=>s.value=!s.value),class:"full-width q-mb-sm",color:"secondary",label:"Добавление единицы измерения"}),Q(r).units?(u(),f("div",G,[o[2]||(o[2]=k("h6",{class:"text-center q-mt-md q-mb-md"},"Единицы измерения",-1)),e(w,{class:"my-card q-ma-sm",flat:"",bordered:""},{default:a(()=>[(u(!0),f(L,null,M(Q(r).units,(l,I)=>(u(),C(A,{key:I},{default:a(()=>[e(N,null,{default:a(()=>[e(v,null,{default:a(()=>[e(y,null,{default:a(()=>[_(b(l.name),1)]),_:2},1024)]),_:2},1024),e(v,null,{default:a(()=>[e(y,null,{default:a(()=>[_(b(l.symbol),1)]),_:2},1024)]),_:2},1024),e(t,null,{default:a(()=>[e(i,{flat:"",round:"",color:"primary",icon:"mode_edit"})]),_:1})]),_:2},1024),e(F)]),_:2},1024))),128))]),_:1})])):D("",!0),e(z,{modelValue:s.value,"onUpdate:modelValue":o[1]||(o[1]=l=>s.value=l),label:"test"},null,8,["modelValue"])])}}});export{te as default};
