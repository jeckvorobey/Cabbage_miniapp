import{aP as k,r as u,aQ as h,c as f,k as E,U as N,m as F,o as M,h as c,a6 as H,l as U,aC as W,w as X,aD as T,g as G}from"./index-BpCzmCto.js";const q={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},J=Object.keys(q);q.all=!0;function p(e){const t={};for(const o of J)e[o]===!0&&(t[o]=!0);return Object.keys(t).length===0?q:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const K=["INPUT","TEXTAREA"];function ee(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&K.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}const te=k("Products",()=>{const e=u(),t=u({offset:0,limit:20,total:0,has_more:!0});async function o(n){return h.post("products",n).then(i=>i.data).catch(i=>{throw console.error("[ProductsStore] - An error occurred while createing via product",i.message),i})}async function a(n){return h.get(`/products/${n}`).then(i=>i.data).catch(i=>{throw console.error("[ProductsStore] - An error occurred while fetching via product",i.message),i})}async function v(n){return h.get("products",{params:n}).then(i=>i.data).catch(i=>{throw console.error("[ProductsStore] - An error occurred while fetching via products",i.message),i})}async function m(n){return h.delete(`products/${n}`).then(i=>i.data).catch(i=>{throw console.error("[ProductsStore] - An error occurred while deleting via Product",i.message),i})}async function b(n,i){return h.post(`/products/${n}/images`,i).then(d=>d.data).catch(d=>{throw console.error("[ProductsStore] - An error occurred while createing via uploadFile",d.message),d})}return{pagination:t,products:e,createProduct:o,fetchProducts:v,deleteProduct:m,fetchProductsById:a,uploadFile:b}}),V={ratio:[String,Number]};function Y(e,t){return f(()=>{const o=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(o)!==!0&&o>0?{paddingBottom:`${100/o}%`}:null})}const Z=1.7778,re=E({name:"QImg",props:{...V,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Z},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:o}){const a=u(e.initialRatio),v=Y(e,a),m=G(),{registerTimeout:b,removeTimeout:n}=N(),{registerTimeout:i,removeTimeout:d}=N(),_=f(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),A=f(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),l=[u(null),u(_.value)],s=u(0),S=u(!1),y=u(!1),L=f(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),I=f(()=>({width:e.width,height:e.height})),O=f(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),B=f(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function R(){if(d(),e.loadingShowDelay===0){S.value=!0;return}i(()=>{S.value=!0},e.loadingShowDelay)}function P(){d(),S.value=!1}function D({target:r}){T(m)===!1&&(n(),a.value=r.naturalHeight===0?.5:r.naturalWidth/r.naturalHeight,C(r,1))}function C(r,g){g===1e3||T(m)===!0||(r.complete===!0?$(r):b(()=>{C(r,g+1)},50))}function $(r){T(m)!==!0&&(s.value=s.value^1,l[s.value].value=null,P(),r.getAttribute("__qerror")!=="true"&&(y.value=!1),o("load",r.currentSrc||r.src))}function j(r){n(),P(),y.value=!0,l[s.value].value=A.value,l[s.value^1].value=_.value,o("error",r)}function z(r){const g=l[r].value,w={key:"img_"+r,class:O.value,style:B.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...g};return s.value===r?Object.assign(w,{class:w.class+"current",onLoad:D,onError:j}):w.class+="loaded",c("div",{class:"q-img__container absolute-full",key:"img"+r},c("img",w))}function Q(){return S.value===!1?c("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},U(t[y.value===!0?"error":"default"])):c("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[c(W,{color:e.spinnerColor,size:e.spinnerSize})])}{let r=function(){X(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,g=>{n(),y.value=!1,g===null?(P(),l[s.value^1].value=_.value):R(),l[s.value].value=g},{immediate:!0})};F.value===!0?M(r):r()}return()=>{const r=[];return v.value!==null&&r.push(c("div",{key:"filler",style:v.value})),l[0].value!==null&&r.push(z(0)),l[1].value!==null&&r.push(z(1)),r.push(c(H,{name:"q-transition--fade"},Q)),c("div",{key:"main",class:L.value,style:I.value,role:"img","aria-label":e.alt},r)}}}),ie=k("Order",()=>{const e=u([]);async function t(o){return h.post("order",o).then(a=>a.data).catch(a=>{throw console.error("[OrderStore] - An error occurred while createing via order",a.message),a})}return{basketData:e,createOrder:t}});export{re as Q,ie as a,p as g,ee as s,te as u};
