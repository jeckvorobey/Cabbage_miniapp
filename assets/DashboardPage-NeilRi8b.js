import{k as te,g as Z,a as xe,v as G,x as mt,$ as gt,c as m,h as g,l as se,aw as Ke,ax as ht,ay as _t,az as yt,r as N,L as We,N as ie,G as oe,P as Xe,S as Ye,w as ee,n as Fe,i as bt,aA as xt,aB as St,aC as Be,aD as qt,ad as Ge,Q as O,_ as Ct,aE as Ft,D as kt,E as ye,H as be,p as wt,I as ce,J as Ie,M as Pt,U as $t,a6 as At,aF as Ut,aG as zt,aH as Dt,aI as Ee,aJ as Nt,o as he,aK as Bt,Z as It,C as Et,am as Y,d as ke,u as Je,aj as H,ai as Q,aL as Rt,an as R,f as z,aM as ge,ao as j,ak as me,av as de,aN as Se,Y as ve,ah as ue,aq as Ze,F as et,ap as J,as as tt,aO as Re,at as Te}from"./index-DO7qZzzZ.js";import{g as Ve,s as Me,u as at,Q as qe,a as Tt}from"./orderStore-jPsTPzk5.js";import{Q as Vt}from"./QInfiniteScroll-qfpbI2Do.js";import{u as nt}from"./use-quasar-DyogEl_l.js";import{b as Mt,h as Qe,u as Qt}from"./categoriesStore-DhewoSGp.js";import{Q as Le}from"./QSelect-Duz90AyO.js";import{u as ot,Q as je}from"./unitsStore-BfN--Mrj.js";import{c as Lt,E as V,g as lt}from"./useUtils-ivH3KM82.js";import{C as fe}from"./ClosePopup-DNbjEvC0.js";import{_ as rt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QMenu-DUE2oIJn.js";const jt=te({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:n}){const{proxy:{$q:l}}=Z(),o=xe(mt,G);if(o===G)return console.error("QPage needs to be a deep child of QLayout"),G;if(xe(gt,G)===G)return console.error("QPage needs to be child of QPageContainer"),G;const a=m(()=>{const c=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const _=o.isContainer.value===!0?o.containerHeight.value:l.screen.height;return e.styleFn(c,_)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-c+"px":l.screen.height===0?c!==0?`calc(100vh - ${c}px)`:"100vh":l.screen.height-c+"px"}}),i=m(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>g("main",{class:i.value,style:a.value},se(n.default))}}),Ot=te({name:"QUploaderAddTrigger",setup(){const e=xe(Ke,G);return e===G&&console.error("QUploaderAddTrigger needs to be child of QUploader"),e}}),Ht={...ht,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Ce=50,it=2*Ce,ut=it*Math.PI,Kt=Math.round(ut*1e3)/1e3,Wt=te({name:"QCircularProgress",props:{...Ht,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:n}){const{proxy:{$q:l}}=Z(),o=_t(e),u=m(()=>{const S=(l.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(l.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-S}deg)`:`rotate3d(0, 0, 1, ${S-90}deg)`}}),a=m(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),i=m(()=>it/(1-e.thickness/2)),c=m(()=>`${i.value/2} ${i.value/2} ${i.value} ${i.value}`),_=m(()=>Mt(e.value,e.min,e.max)),$=m(()=>e.max-e.min),y=m(()=>e.thickness/2*i.value),A=m(()=>{const S=(e.max-_.value)/$.value,t=e.rounded===!0&&_.value<e.max&&S<.25?y.value/2*(1-S/.25):0;return ut*S+t});function F({thickness:S,offset:t,color:d,cls:p,rounded:v}){return g("circle",{class:"q-circular-progress__"+p+(d!==void 0?` text-${d}`:""),style:a.value,fill:"transparent",stroke:"currentColor","stroke-width":S,"stroke-dasharray":Kt,"stroke-dashoffset":t,"stroke-linecap":v,cx:i.value,cy:i.value,r:Ce})}return()=>{const S=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&S.push(g("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Ce-y.value/2,cx:i.value,cy:i.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&S.push(F({cls:"track",thickness:y.value,offset:0,color:e.trackColor})),S.push(F({cls:"circle",thickness:y.value,offset:A.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const t=[g("svg",{class:"q-circular-progress__svg",style:u.value,viewBox:c.value,"aria-hidden":"true"},S)];return e.showValue===!0&&t.push(g("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},n.default!==void 0?n.default():[g("div",_.value)])),g("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:o.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:_.value},yt(n.internal,t))}}});function ne(e,n,l,o){const u=[];return e.forEach(a=>{o(a)===!0?u.push(a):n.push({failedPropValidation:l,file:a})}),u}function pe(e){e?.dataTransfer&&(e.dataTransfer.dropEffect="copy"),ie(e)}const Xt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Yt=["rejected"];function Gt({editable:e,dnd:n,getFileInput:l,addFilesToQueue:o}){const{props:u,emit:a,proxy:i}=Z(),c=N(null),_=m(()=>u.accept!==void 0?u.accept.split(",").map(r=>(r=r.trim(),r==="*"?"*/":(r.endsWith("/*")&&(r=r.slice(0,r.length-1)),r.toUpperCase()))):null),$=m(()=>parseInt(u.maxFiles,10)),y=m(()=>parseInt(u.maxTotalSize,10));function A(r){if(e.value)if(r!==Object(r)&&(r={target:null}),r.target?.matches('input[type="file"]')===!0)r.clientX===0&&r.clientY===0&&We(r);else{const w=l();w!==r.target&&w?.click(r)}}function F(r){e.value&&r&&o(null,r)}function S(r,w,f,b){let q=Array.from(w||r.target.files);const U=[],E=()=>{U.length!==0&&a("rejected",U)};if(u.accept!==void 0&&_.value.indexOf("*/")===-1&&(q=ne(q,U,"accept",k=>_.value.some(x=>k.type.toUpperCase().startsWith(x)||k.name.toUpperCase().endsWith(x))),q.length===0))return E();if(u.maxFileSize!==void 0){const k=parseInt(u.maxFileSize,10);if(q=ne(q,U,"max-file-size",x=>x.size<=k),q.length===0)return E()}if(u.multiple!==!0&&q.length!==0&&(q=[q[0]]),q.forEach(k=>{k.__key=k.webkitRelativePath+k.lastModified+k.name+k.size}),b===!0){const k=f.map(x=>x.__key);q=ne(q,U,"duplicate",x=>k.includes(x.__key)===!1)}if(q.length===0)return E();if(u.maxTotalSize!==void 0){let k=b===!0?f.reduce((x,T)=>x+T.size,0):0;if(q=ne(q,U,"max-total-size",x=>(k+=x.size,k<=y.value)),q.length===0)return E()}if(typeof u.filter=="function"){const k=u.filter(q);q=ne(q,U,"filter",x=>k.includes(x))}if(u.maxFiles!==void 0){let k=b===!0?f.length:0;if(q=ne(q,U,"max-files",()=>(k++,k<=$.value)),q.length===0)return E()}if(E(),q.length!==0)return q}function t(r){pe(r),n.value!==!0&&(n.value=!0)}function d(r){ie(r),(r.relatedTarget!==null||oe.is.safari!==!0?r.relatedTarget!==c.value:document.elementsFromPoint(r.clientX,r.clientY).includes(c.value)===!1)===!0&&(n.value=!1)}function p(r){pe(r);const w=r.dataTransfer.files;w.length!==0&&o(null,w),n.value=!1}function v(r){if(n.value===!0)return g("div",{ref:c,class:`q-${r}__dnd absolute-full`,onDragenter:pe,onDragover:pe,onDragleave:d,onDrop:p})}return Object.assign(i,{pickFiles:A,addFiles:F}),{pickFiles:A,addFiles:F,onDragover:t,onDragleave:d,processFiles:S,getDndNode:v,maxFilesNumber:$,maxTotalSizeNumber:y}}function Oe(e){return(e*100).toFixed(2)+"%"}const Jt={...Xe,...Xt,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},st=[...Yt,"start","finish","added","removed"];function Zt(e,n){const l=Z(),{props:o,slots:u,emit:a,proxy:i}=l,{$q:c}=i,_=Ye(o,c);function $(s,D,M){if(s.__status=D,D==="idle"){s.__uploaded=0,s.__progress=0,s.__sizeLabel=Qe(s.size),s.__progressLabel="0.00%";return}if(D==="failed"){i.$forceUpdate();return}s.__uploaded=D==="uploaded"?s.size:M,s.__progress=D==="uploaded"?1:Math.min(.9999,s.__uploaded/s.size),s.__progressLabel=Oe(s.__progress),i.$forceUpdate()}const y=m(()=>o.disable!==!0&&o.readonly!==!0),A=N(!1),F=N(null),S=N(null),t={files:N([]),queuedFiles:N([]),uploadedFiles:N([]),uploadedSize:N(0),updateFileStatus:$,isAlive:()=>qt(l)===!1},{pickFiles:d,addFiles:p,onDragover:v,onDragleave:r,processFiles:w,getDndNode:f,maxFilesNumber:b,maxTotalSizeNumber:q}=Gt({editable:y,dnd:A,getFileInput:Ae,addFilesToQueue:Ue});Object.assign(t,e({props:o,slots:u,emit:a,helpers:t,exposeApi:s=>{Object.assign(t,s)}})),t.isBusy===void 0&&(t.isBusy=N(!1));const U=N(0),E=m(()=>U.value===0?0:t.uploadedSize.value/U.value),k=m(()=>Oe(E.value)),x=m(()=>Qe(U.value)),T=m(()=>y.value===!0&&t.isUploading.value!==!0&&(o.multiple===!0||t.queuedFiles.value.length===0)&&(o.maxFiles===void 0||t.files.value.length<b.value)&&(o.maxTotalSize===void 0||U.value<q.value)),C=m(()=>y.value===!0&&t.isBusy.value!==!0&&t.isUploading.value!==!0&&t.queuedFiles.value.length!==0);Ct(Ke,De);const I=m(()=>"q-uploader column no-wrap"+(_.value===!0?" q-uploader--dark q-dark":"")+(o.bordered===!0?" q-uploader--bordered":"")+(o.square===!0?" q-uploader--square no-border-radius":"")+(o.flat===!0?" q-uploader--flat no-shadow":"")+(o.disable===!0?" disabled q-uploader--disable":"")+(A.value===!0?" q-uploader--dnd":"")),h=m(()=>"q-uploader__header"+(o.color!==void 0?` bg-${o.color}`:"")+(o.textColor!==void 0?` text-${o.textColor}`:""));ee(t.isUploading,(s,D)=>{D===!1&&s===!0?a("start"):D===!0&&s===!1&&a("finish")});function P(){o.disable===!1&&(t.abort(),t.uploadedSize.value=0,U.value=0,$e(),t.files.value=[],t.queuedFiles.value=[],t.uploadedFiles.value=[])}function B(){o.disable===!1&&Pe(["uploaded"],()=>{t.uploadedFiles.value=[]})}function K(){Pe(["idle","failed"],({size:s})=>{U.value-=s,t.queuedFiles.value=[]})}function Pe(s,D){if(o.disable===!0)return;const M={files:[],size:0},W=t.files.value.filter(L=>s.indexOf(L.__status)===-1?!0:(M.size+=L.size,M.files.push(L),L.__img!==void 0&&window.URL.revokeObjectURL(L.__img.src),!1));M.files.length!==0&&(t.files.value=W,D(M),a("removed",M.files))}function _e(s){o.disable||(s.__status==="uploaded"?t.uploadedFiles.value=t.uploadedFiles.value.filter(D=>D.__key!==s.__key):s.__status==="uploading"?s.__abort():U.value-=s.size,t.files.value=t.files.value.filter(D=>D.__key!==s.__key?!0:(D.__img!==void 0&&window.URL.revokeObjectURL(D.__img.src),!1)),t.queuedFiles.value=t.queuedFiles.value.filter(D=>D.__key!==s.__key),a("removed",[s]))}function $e(){t.files.value.forEach(s=>{s.__img!==void 0&&window.URL.revokeObjectURL(s.__img.src)})}function Ae(){return S.value||F.value.getElementsByClassName("q-uploader__input")[0]}function Ue(s,D){const M=w(s,D,t.files.value,!0),W=Ae();W!=null&&(W.value=""),M!==void 0&&(M.forEach(L=>{if(t.updateFileStatus(L,"idle"),U.value+=L.size,o.noThumbnails!==!0&&L.type.toUpperCase().startsWith("IMAGE")){const Ne=new Image;Ne.src=window.URL.createObjectURL(L),L.__img=Ne}}),t.files.value=t.files.value.concat(M),t.queuedFiles.value=t.queuedFiles.value.concat(M),a("added",M),o.autoUpload===!0&&t.upload())}function ze(){C.value===!0&&t.upload()}function le(s,D,M){if(s===!0){const W={type:"a",key:D,icon:c.iconSet.uploader[D],flat:!0,dense:!0};let L;return D==="add"?(W.onClick=d,L=De):W.onClick=M,g(O,W,L)}}function De(){return g("input",{ref:S,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:o.accept,multiple:o.multiple===!0?"multiple":void 0,capture:o.capture,onMousedown:We,onClick:d,onChange:Ue})}function ft(){return u.header!==void 0?u.header(ae):[g("div",{class:"q-uploader__header-content column"},[g("div",{class:"flex flex-center no-wrap q-gutter-xs"},[le(t.queuedFiles.value.length!==0,"removeQueue",K),le(t.uploadedFiles.value.length!==0,"removeUploaded",B),t.isUploading.value===!0?g(Be,{class:"q-uploader__spinner"}):null,g("div",{class:"col column justify-center"},[o.label!==void 0?g("div",{class:"q-uploader__title"},[o.label]):null,g("div",{class:"q-uploader__subtitle"},[x.value+" / "+k.value])]),le(T.value,"add"),le(o.hideUploadBtn===!1&&C.value===!0,"upload",t.upload),le(t.isUploading.value,"clear",t.abort)])])]}function pt(){return u.list!==void 0?u.list(ae):t.files.value.map(s=>g("div",{key:s.__key,class:"q-uploader__file relative-position"+(o.noThumbnails!==!0&&s.__img!==void 0?" q-uploader__file--img":"")+(s.__status==="failed"?" q-uploader__file--failed":s.__status==="uploaded"?" q-uploader__file--uploaded":""),style:o.noThumbnails!==!0&&s.__img!==void 0?{backgroundImage:'url("'+s.__img.src+'")',backgroundSize:o.thumbnailFit}:null},[g("div",{class:"q-uploader__file-header row flex-center no-wrap"},[s.__status==="failed"?g(Ge,{class:"q-uploader__file-status",name:c.iconSet.type.negative,color:"negative"}):null,g("div",{class:"q-uploader__file-header-content col"},[g("div",{class:"q-uploader__title"},[s.name]),g("div",{class:"q-uploader__subtitle row items-center no-wrap"},[s.__sizeLabel+" / "+s.__progressLabel])]),s.__status==="uploading"?g(Wt,{value:s.__progress,min:0,max:1,indeterminate:s.__progress===0}):g(O,{round:!0,dense:!0,flat:!0,icon:c.iconSet.uploader[s.__status==="uploaded"?"done":"clear"],onClick:()=>{_e(s)}})])]))}Fe(()=>{t.isUploading.value===!0&&t.abort(),t.files.value.length!==0&&$e()});const ae={};for(const s in t)bt(t[s])===!0?xt(ae,s,()=>t[s].value):ae[s]=t[s];return Object.assign(ae,{upload:ze,reset:P,removeUploadedFiles:B,removeQueuedFiles:K,removeFile:_e,pickFiles:d,addFiles:p}),St(ae,{canAddFiles:()=>T.value,canUpload:()=>C.value,uploadSizeLabel:()=>x.value,uploadProgressLabel:()=>k.value}),n({...t,upload:ze,reset:P,removeUploadedFiles:B,removeQueuedFiles:K,removeFile:_e,pickFiles:d,addFiles:p,canAddFiles:T,canUpload:C,uploadSizeLabel:x,uploadProgressLabel:k}),()=>{const s=[g("div",{class:h.value},ft()),g("div",{class:"q-uploader__list scroll"},pt()),f("uploader")];t.isBusy.value===!0&&s.push(g("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[g(Be)]));const D={ref:F,class:I.value};return T.value===!0&&Object.assign(D,{onDragover:v,onDragleave:r}),g("div",D,s)}}const ea=()=>!0;function ct(e){const n={};return e.forEach(l=>{n[l]=ea}),n}const ta=ct(st),aa=({name:e,props:n,emits:l,injectPlugin:o})=>te({name:e,props:{...Jt,...n},emits:Ft(l)===!0?{...ta,...l}:[...st,...l],setup(u,{expose:a}){return Zt(o,a)}});function X(e){return typeof e=="function"?e:()=>e}const na="QUploader",oa={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},la=["factoryFailed","uploaded","failed","uploading"];function ra({props:e,emit:n,helpers:l}){const o=N([]),u=N([]),a=N(0),i=m(()=>({url:X(e.url),method:X(e.method),headers:X(e.headers),formFields:X(e.formFields),fieldName:X(e.fieldName),withCredentials:X(e.withCredentials),sendRaw:X(e.sendRaw),batch:X(e.batch)})),c=m(()=>a.value>0),_=m(()=>u.value.length!==0);let $;function y(){o.value.forEach(t=>{t.abort()}),u.value.length!==0&&($=!0)}function A(){const t=l.queuedFiles.value.slice(0);l.queuedFiles.value=[],i.value.batch(t)?F(t):t.forEach(d=>{F([d])})}function F(t){if(a.value++,typeof e.factory!="function"){S(t,{});return}const d=e.factory(t);if(!d)n("factoryFailed",new Error("QUploader: factory() does not return properly"),t),a.value--;else if(typeof d.catch=="function"&&typeof d.then=="function"){u.value.push(d);const p=v=>{l.isAlive()===!0&&(u.value=u.value.filter(r=>r!==d),u.value.length===0&&($=!1),l.queuedFiles.value=l.queuedFiles.value.concat(t),t.forEach(r=>{l.updateFileStatus(r,"failed")}),n("factoryFailed",v,t),a.value--)};d.then(v=>{$===!0?p(new Error("Aborted")):l.isAlive()===!0&&(u.value=u.value.filter(r=>r!==d),S(t,v))}).catch(p)}else S(t,d||{})}function S(t,d){const p=new FormData,v=new XMLHttpRequest,r=(C,I)=>d[C]!==void 0?X(d[C])(I):i.value[C](I),w=r("url",t);if(!w){console.error("q-uploader: invalid or no URL specified"),a.value--;return}const f=r("formFields",t);f!==void 0&&f.forEach(C=>{p.append(C.name,C.value)});let b=0,q=0,U=0,E=0,k;v.upload.addEventListener("progress",C=>{if(k===!0)return;const I=Math.min(E,C.loaded);l.uploadedSize.value+=I-U,U=I;let h=U-q;for(let P=b;h>0&&P<t.length;P++){const B=t[P];if(h>B.size)h-=B.size,b++,q+=B.size,l.updateFileStatus(B,"uploading",B.size);else{l.updateFileStatus(B,"uploading",h);return}}},!1),v.onreadystatechange=()=>{v.readyState<4||(v.status&&v.status<400?(l.uploadedFiles.value=l.uploadedFiles.value.concat(t),t.forEach(C=>{l.updateFileStatus(C,"uploaded")}),n("uploaded",{files:t,xhr:v})):(k=!0,l.uploadedSize.value-=U,l.queuedFiles.value=l.queuedFiles.value.concat(t),t.forEach(C=>{l.updateFileStatus(C,"failed")}),n("failed",{files:t,xhr:v})),a.value--,o.value=o.value.filter(C=>C!==v))},v.open(r("method",t),w),r("withCredentials",t)===!0&&(v.withCredentials=!0);const x=r("headers",t);x!==void 0&&x.forEach(C=>{v.setRequestHeader(C.name,C.value)});const T=r("sendRaw",t);t.forEach(C=>{l.updateFileStatus(C,"uploading",0),T!==!0&&p.append(r("fieldName",C),C,C.name),C.xhr=v,C.__abort=()=>{v.abort()},E+=C.size}),n("uploading",{files:t,xhr:v}),o.value.push(v),T===!0?v.send(new Blob(t)):v.send(p)}return{isUploading:c,isBusy:_,abort:y,upload:A}}const ia={name:na,props:oa,emits:la,injectPlugin:ra},ua=aa(ia);function sa(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((l,o)=>{const u=parseFloat(l);u&&(n[o]=u)}),n}const ca=kt({name:"touch-swipe",beforeMount(e,{value:n,arg:l,modifiers:o}){if(o.mouse!==!0&&oe.has.touch!==!0)return;const u=o.mouseCapture===!0?"Capture":"",a={handler:n,sensitivity:sa(l),direction:Ve(o),noop:wt,mouseStart(i){Me(i,a)&&Pt(i)&&(ce(a,"temp",[[document,"mousemove","move",`notPassive${u}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(i,!0))},touchStart(i){if(Me(i,a)){const c=i.target;ce(a,"temp",[[c,"touchmove","move","notPassiveCapture"],[c,"touchcancel","end","notPassiveCapture"],[c,"touchend","end","notPassiveCapture"]]),a.start(i)}},start(i,c){oe.is.firefox===!0&&be(e,!0);const _=Ie(i);a.event={x:_.left,y:_.top,time:Date.now(),mouse:c===!0,dir:!1}},move(i){if(a.event===void 0)return;if(a.event.dir!==!1){ie(i);return}const c=Date.now()-a.event.time;if(c===0)return;const _=Ie(i),$=_.left-a.event.x,y=Math.abs($),A=_.top-a.event.y,F=Math.abs(A);if(a.event.mouse!==!0){if(y<a.sensitivity[1]&&F<a.sensitivity[1]){a.end(i);return}}else if(window.getSelection().toString()!==""){a.end(i);return}else if(y<a.sensitivity[2]&&F<a.sensitivity[2])return;const S=y/c,t=F/c;a.direction.vertical===!0&&y<F&&y<100&&t>a.sensitivity[0]&&(a.event.dir=A<0?"up":"down"),a.direction.horizontal===!0&&y>F&&F<100&&S>a.sensitivity[0]&&(a.event.dir=$<0?"left":"right"),a.direction.up===!0&&y<F&&A<0&&y<100&&t>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&y<F&&A>0&&y<100&&t>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&y>F&&$<0&&F<100&&S>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&y>F&&$>0&&F<100&&S>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(ie(i),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Lt(),a.styleCleanup=d=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const p=()=>{document.body.classList.remove("no-pointer-events--children")};d===!0?setTimeout(p,50):p()}),a.handler({evt:i,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:c,distance:{x:y,y:F}})):a.end(i)},end(i){a.event!==void 0&&(ye(a,"temp"),oe.is.firefox===!0&&be(e,!1),a.styleCleanup?.(!0),i!==void 0&&a.event.dir!==!1&&ie(i),a.event=void 0)}};if(e.__qtouchswipe=a,o.mouse===!0){const i=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";ce(a,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}oe.has.touch===!0&&ce(a,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const l=e.__qtouchswipe;l!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&l.end(),l.handler=n.value),l.direction=Ve(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&(ye(n,"main"),ye(n,"temp"),oe.is.firefox===!0&&be(e,!1),n.styleCleanup?.(),delete e.__qtouchswipe)}});function da(){let e=Object.create(null);return{getCache:(n,l)=>e[n]===void 0?e[n]=typeof l=="function"?l():l:e[n],setCache(n,l){e[n]=l},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const va={name:{required:!0},disable:Boolean},He={setup(e,{slots:n}){return()=>g("div",{class:"q-panel scroll",role:"tabpanel"},se(n.default))}},fa={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},pa=["update:modelValue","beforeTransition","transition"];function ma(){const{props:e,emit:n,proxy:l}=Z(),{getCache:o}=da(),{registerTimeout:u}=$t();let a,i;const c=N(null),_={value:null};function $(h){const P=e.vertical===!0?"up":"left";E((l.$q.lang.rtl===!0?-1:1)*(h.direction===P?1:-1))}const y=m(()=>[[ca,$,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),A=m(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),F=m(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),S=m(()=>`--q-transition-duration: ${e.transitionDuration}ms`),t=m(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),d=m(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),p=m(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ee(()=>e.modelValue,(h,P)=>{const B=f(h)===!0?b(h):-1;i!==!0&&U(B===-1?0:B<b(P)?-1:1),_.value!==B&&(_.value=B,n("beforeTransition",h,P),u(()=>{n("transition",h,P)},e.transitionDuration))});function v(){E(1)}function r(){E(-1)}function w(h){n("update:modelValue",h)}function f(h){return h!=null&&h!==""}function b(h){return a.findIndex(P=>P.props.name===h&&P.props.disable!==""&&P.props.disable!==!0)}function q(){return a.filter(h=>h.props.disable!==""&&h.props.disable!==!0)}function U(h){const P=h!==0&&e.animated===!0&&_.value!==-1?"q-transition--"+(h===-1?A.value:F.value):null;c.value!==P&&(c.value=P)}function E(h,P=_.value){let B=P+h;for(;B!==-1&&B<a.length;){const K=a[B];if(K!==void 0&&K.props.disable!==""&&K.props.disable!==!0){U(h),i=!0,n("update:modelValue",K.props.name),setTimeout(()=>{i=!1});return}B+=h}e.infinite===!0&&a.length!==0&&P!==-1&&P!==a.length&&E(h,h===-1?a.length:-1)}function k(){const h=b(e.modelValue);return _.value!==h&&(_.value=h),!0}function x(){const h=f(e.modelValue)===!0&&k()&&a[_.value];return e.keepAlive===!0?[g(zt,d.value,[g(p.value===!0?o(t.value,()=>({...He,name:t.value})):He,{key:t.value,style:S.value},()=>h)])]:[g("div",{class:"q-panel scroll",style:S.value,key:t.value,role:"tabpanel"},[h])]}function T(){if(a.length!==0)return e.animated===!0?[g(At,{name:c.value},x)]:x()}function C(h){return a=Ut(se(h.default,[])).filter(P=>P.props!==null&&P.props.slot===void 0&&f(P.props.name)===!0),a.length}function I(){return a}return Object.assign(l,{next:v,previous:r,goTo:w}),{panelIndex:_,panelDirectives:y,updatePanelsList:C,updatePanelIndex:k,getPanelContent:T,getEnabledPanels:q,getPanels:I,isValidPanelName:f,keepAliveProps:d,needsUniqueKeepAliveWrapper:p,goToPanelByOffset:E,goToPanel:w,nextPanel:v,previousPanel:r}}const ga=te({name:"QCarouselSlide",props:{...va,imgSrc:String},setup(e,{slots:n}){const l=m(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>g("div",{class:"q-carousel__slide",style:l.value},se(n.default))}}),ha=te({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,default:()=>[18,18],validator:e=>e.length===2}},setup(e,{slots:n}){const l=m(()=>`q-carousel__control absolute absolute-${e.position}`),o=m(()=>({margin:`${e.offset[1]}px ${e.offset[0]}px`}));return()=>g("div",{class:l.value,style:o.value},se(n.default))}});let re=0;const _a={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ya=["update:fullscreen","fullscreen"];function ba(){const e=Z(),{props:n,emit:l,proxy:o}=e;let u,a,i;const c=N(!1);Dt(e)===!0&&ee(()=>o.$route.fullPath,()=>{n.noRouteFullscreenExit!==!0&&y()}),ee(()=>n.fullscreen,A=>{c.value!==A&&_()}),ee(c,A=>{l("update:fullscreen",A),l("fullscreen",A)});function _(){c.value===!0?y():$()}function $(){c.value!==!0&&(c.value=!0,i=o.$el.parentNode,i.replaceChild(a,o.$el),document.body.appendChild(o.$el),re++,re===1&&document.body.classList.add("q-body--fullscreen-mixin"),u={handler:y},Ee.add(u))}function y(){c.value===!0&&(u!==void 0&&(Ee.remove(u),u=void 0),i.replaceChild(o.$el,a),c.value=!1,re=Math.max(0,re-1),re===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),o.$el.scrollIntoView!==void 0&&setTimeout(()=>{o.$el.scrollIntoView()})))}return Nt(()=>{a=document.createElement("span")}),he(()=>{n.fullscreen===!0&&$()}),Fe(y),Object.assign(o,{toggleFullscreen:_,setFullscreen:$,exitFullscreen:y}),{inFullscreen:c,toggleFullscreen:_}}const xa=["top","right","bottom","left"],Sa=["regular","flat","outline","push","unelevated"],qa=te({name:"QCarousel",props:{...Xe,...fa,..._a,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Sa.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>xa.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...ya,...pa],setup(e,{slots:n}){const{proxy:{$q:l}}=Z(),o=Ye(e,l);let u=null,a;const{updatePanelsList:i,getPanelContent:c,panelDirectives:_,goToPanel:$,previousPanel:y,nextPanel:A,getEnabledPanels:F,panelIndex:S}=ma(),{inFullscreen:t}=ba(),d=m(()=>t.value!==!0&&e.height!==void 0?{height:e.height}:{}),p=m(()=>e.vertical===!0?"vertical":"horizontal"),v=m(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),r=m(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(t.value===!0?" fullscreen":"")+(o.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${p.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${v.value}`:"")),w=m(()=>{const x=[e.prevIcon||l.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||l.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&l.lang.rtl===!0?x.reverse():x}),f=m(()=>e.navigationIcon||l.iconSet.carousel.navigationIcon),b=m(()=>e.navigationActiveIcon||f.value),q=m(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));ee(()=>e.modelValue,()=>{e.autoplay&&U()}),ee(()=>e.autoplay,x=>{x?U():u!==null&&(clearTimeout(u),u=null)});function U(){const x=Bt(e.autoplay)===!0?Math.abs(e.autoplay):5e3;u!==null&&clearTimeout(u),u=setTimeout(()=>{u=null,x>=0?A():y()},x)}he(()=>{e.autoplay&&U()}),Fe(()=>{u!==null&&clearTimeout(u)});function E(x,T){return g("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${x} q-carousel__navigation--${v.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[g("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},F().map(T))])}function k(){const x=[];if(e.navigation===!0){const T=n["navigation-icon"]!==void 0?n["navigation-icon"]:I=>g(O,{key:"nav"+I.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${I.active===!0?"":"in"}active`,...I.btnProps,onClick:I.onClick}),C=a-1;x.push(E("buttons",(I,h)=>{const P=I.props.name,B=S.value===h;return T({index:h,maxIndex:C,name:P,active:B,btnProps:{icon:B===!0?b.value:f.value,size:"sm",...q.value},onClick:()=>{$(P)}})}))}else if(e.thumbnails===!0){const T=e.controlColor!==void 0?` text-${e.controlColor}`:"";x.push(E("thumbnails",C=>{const I=C.props;return g("img",{key:"tmb#"+I.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${I.name===e.modelValue?"":"in"}active`+T,src:I.imgSrc||I["img-src"],onClick:()=>{$(I.name)}})}))}return e.arrows===!0&&S.value>=0&&((e.infinite===!0||S.value>0)&&x.push(g("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${p.value} absolute flex flex-center`},[g(O,{icon:w.value[0],...q.value,onClick:y})])),(e.infinite===!0||S.value<a-1)&&x.push(g("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${p.value} absolute flex flex-center`},[g(O,{icon:w.value[1],...q.value,onClick:A})]))),Et(n.control,x)}return()=>(a=i(n),g("div",{class:r.value,style:d.value},[It("div",{class:"q-carousel__slides-container"},c(),"sl-cont",e.swipeable,()=>_.value)].concat(k())))}});function we(){const{emit:e,proxy:n}=Z(),l=N(null);function o(){l.value.show()}function u(){l.value.hide()}function a(c){e("ok",c),u()}function i(){e("hide")}return Object.assign(n,{show:o,hide:u}),{dialogRef:l,onDialogHide:i,onDialogOK:a,onDialogCancel:u}}const dt=["ok","hide"];we.emits=dt;we.emitsObject=ct(dt);function Ca(e){const n=Y(e);if(n&&typeof n=="object"&&"role"in n){const l=n.role;return l!=null?Y(l):null}return n}function vt(e){const n=m(()=>{const i=Ca(e);if(i==null)return;const c=Number(i);if(Object.values(V).includes(c))return c}),l=m(()=>n.value===V.ADMIN),o=m(()=>n.value===V.MANAGER||n.value===V.ADMIN),u=m(()=>{const i=n.value;return i===V.USER||i===V.MANAGER||i===V.ADMIN});return{permission:n,isAdmin:l,isManager:o,isUser:u,hasPermission:i=>m(()=>{const c=n.value;if(c==null)return!1;switch(Number(i)){case V.ADMIN:return c===V.ADMIN;case V.MANAGER:return c===V.MANAGER||c===V.ADMIN;case V.USER:return c===V.USER||c===V.MANAGER||c===V.ADMIN;default:return!1}})}}const Fa={class:"text-center upload-title"},ka={key:1},wa={class:"text-h6 text-center q-mt-sm"},Pa=ke({__name:"AddProductModal",props:{productData:{}},emits:["refresh-data","add-product"],setup(e,{emit:n}){const l=e,o=n,u=nt(),a=N(1),i=N(!1),c=at(),_=Qt(),{dialogRef:$}=we(),y=Je(),{isManager:A}=vt(m(()=>y.user?.role)),F=ot(),S=N(!1),t=N(),d=N({id:null,name:"",price:null,category_id:null,unit_id:null,qty:null,description:"",images:""});he(()=>{l.productData&&(d.value=l.productData)});async function p(){try{const w=await c.createProduct(d.value);w&&(d.value.id=w.id,u.notify({message:"Товар успешно создан, теперь вам необходимо добавить картинку",color:"primary"}),o("refresh-data"))}catch(w){console.error(w)}}function v(){o("add-product",d.value)}function r(w){const f=new FileReader;f.readAsDataURL(w[0]),f.onload=()=>{f?.result&&(t.value=String(f.result))};const b=new FormData;b.append("file",w[0]),d.value.images=b}return(w,f)=>(Q(),H(Rt,{ref_key:"dialogRef",ref:$,modelValue:S.value,"onUpdate:modelValue":f[11]||(f[11]=b=>S.value=b),persistent:""},{default:R(()=>[z(tt,{class:"add-product"},{default:R(()=>[Y(A)?(Q(),H(je,{key:0,greedy:""},{default:R(()=>[z(ge,null,{default:R(()=>[f[14]||(f[14]=j("div",{class:"text-h6 q-mb-md"},"Добавление товара",-1)),z(ua,{class:"q-mt-sm",ref:"uploaderRef",color:"primary",flat:"",onAdded:r},{header:R(()=>[...f[12]||(f[12]=[])]),list:R(()=>[z(Ot),j("div",Fa,[z(Ge,{class:"q-mr-sm",name:"note_add",size:"24px"}),f[13]||(f[13]=j("span",null,"Загрузить картинку",-1))])]),_:1},512),t.value?(Q(),H(qe,{key:0,class:"q-mt-sm",src:t.value},null,8,["src"])):me("",!0),z(de,{modelValue:d.value.name,"onUpdate:modelValue":f[0]||(f[0]=b=>d.value.name=b),class:"q-mb-xs",outlined:"",label:"Наименование товара"},null,8,["modelValue"]),z(de,{modelValue:d.value.price,"onUpdate:modelValue":f[1]||(f[1]=b=>d.value.price=b),class:"q-mb-xs",outlined:"",label:"Стоимость товара"},null,8,["modelValue"]),z(de,{modelValue:d.value.qty,"onUpdate:modelValue":f[2]||(f[2]=b=>d.value.qty=b),class:"q-mb-xs",outlined:"",label:"Количество"},null,8,["modelValue"]),z(Le,{modelValue:d.value.category_id,"onUpdate:modelValue":f[3]||(f[3]=b=>d.value.category_id=b),options:Y(_).categories,class:"q-mb-xs",outlined:"",label:"Тип тары","emit-value":"","map-options":"","option-label":"name","option-value":"id"},null,8,["modelValue","options"]),z(Le,{modelValue:d.value.unit_id,"onUpdate:modelValue":f[4]||(f[4]=b=>d.value.unit_id=b),options:Y(F).units,outlined:"",label:"Вес","emit-value":"","map-options":"","option-label":"name","option-value":"id"},null,8,["modelValue","options"]),z(de,{class:"q-mt-sm",modelValue:d.value.description,"onUpdate:modelValue":f[5]||(f[5]=b=>d.value.description=b),filled:"",type:"textarea",rows:"2",label:"Описание"},null,8,["modelValue"])]),_:1}),z(Se,{align:"right"},{default:R(()=>[ve(z(O,{color:"red",label:"Отмена"},null,512),[[fe]]),ve(z(O,{color:"primary",label:"Подтвердить",onClick:f[6]||(f[6]=b=>p())},null,512),[[fe]])]),_:1})]),_:1})):(Q(),H(je,{key:1},{default:R(()=>[z(ge,null,{default:R(()=>[j("div",null,[d.value?.images?.length?(Q(),H(qa,{key:0,swipeable:"",animated:"",arrows:"",modelValue:a.value,"onUpdate:modelValue":f[8]||(f[8]=b=>a.value=b),fullscreen:i.value,"onUpdate:fullscreen":f[9]||(f[9]=b=>i.value=b),infinite:"",height:"250px"},{control:R(()=>[z(ha,{position:"bottom-right",offset:[18,18]},{default:R(()=>[z(O,{push:"",round:"",dense:"",color:"white","text-color":"primary",icon:i.value?"fullscreen_exit":"fullscreen",onClick:f[7]||(f[7]=b=>i.value=!i.value)},null,8,["icon"])]),_:1})]),default:R(()=>[(Q(!0),ue(et,null,Ze(d.value.images,(b,q)=>(Q(),H(ga,{key:q,name:q,"img-src":b.file_path,class:"card-image"},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue","fullscreen"])):(Q(),ue("div",ka,[z(qe,{class:"q-mt-sm",src:Y(lt)("/card-shop.jpg")},null,8,["src"])]))]),j("div",wa,J(d.value.name),1),j("div",null,"Стоимость товара: "+J(d.value.price),1),j("div",null,"Количество: "+J(d.value.qty),1),f[15]||(f[15]=j("div",null,"Вес: 11 ",-1)),j("div",null,"Описание: "+J(d.value.description),1)]),_:1}),z(Se,{align:"right"},{default:R(()=>[ve(z(O,{color:"red",label:"Отмена"},null,512),[[fe]]),ve(z(O,{color:"primary",label:"Добавить в карзину",onClick:f[10]||(f[10]=b=>v())},null,512),[[fe]])]),_:1})]),_:1}))]),_:1})]),_:1},8,["modelValue"]))}}),$a=rt(Pa,[["__scopeId","data-v-01a71ce5"]]),Aa={class:"product-card row q-col-gutter-xs"},Ua=["onClick"],za={class:"text-center card-title"},Da={class:"text-center"},Na={class:"text-bold"},Ba={key:0,class:"text-grey old-price"},Ia=ke({__name:"ProductList",setup(e){const n=nt(),l=ot(),o=at(),u=Tt(),a=Je(),{isManager:i}=vt(m(()=>a.user?.role)),c=N(!1),_=N(!1),$=N();he(async()=>{try{await l.fetchUnits(),n.loading.show()}catch(p){console.error(p)}finally{n.loading.hide()}});function y(){A()}async function A(){try{n.loading.show();const p=await o.fetchProducts(o.pagination);p&&(o.pagination.total=p.total,o.pagination.has_more=p.has_more,o?.products?.length?o.products.push(p.items):o.products=p.items)}catch(p){console.error(p)}finally{n.loading.hide()}}function F(p){try{if(n.loading.show(),u.basketData?.length){const v=u.basketData.find(r=>r.id===p.id);v?S(v,p):u.basketData.push(structuredClone(Re(p)))}else u.basketData.push(structuredClone(Re(p)))}catch(v){console.error(v)}finally{n.notify({message:`Товар ${p.name} добавлен в корзину`,color:"primary"}),n.loading.hide()}}function S(p,v){p.price&&(p.price+=v.price),p.weight&&(p.weight+=v.weight),p.oldPrice&&(p.oldPrice+=v.oldPrice)}const t=async(p,v)=>{if(!o.pagination.has_more){c.value=!0,v(!0);return}await A(),o.pagination.offset+=o.pagination.limit,v()};function d(p){$.value=p,_.value=!_.value}return(p,v)=>(Q(),H(Vt,{onLoad:t,offset:250},{default:R(()=>[Y(i)?(Q(),H(O,{key:0,onClick:v[0]||(v[0]=r=>d()),class:"full-width q-mb-sm",color:"secondary",label:"Добавление товара"})):me("",!0),j("div",Aa,[(Q(!0),ue(et,null,Ze(Y(o).products,(r,w)=>(Q(),ue("div",{class:"col-6",key:w},[z(tt,{class:"my-card radius-16 full-height",flat:"",bordered:""},{default:R(()=>[z(ge,{class:"q-pa-sm full-height"},{default:R(()=>[j("div",{onClick:f=>d(r)},[z(qe,{class:"cursor-pointer radius-8",src:r?.primary_image?r.primary_image:Y(lt)("/card-shop.jpg")},null,8,["src"])],8,Ua),z(ge,{class:"q-pa-sm"},{default:R(()=>[j("div",za,J(r.name),1),j("div",Da,[j("span",Na,J(r.price),1),v[3]||(v[3]=Te(" ₽ ",-1)),r?.oldPrice?(Q(),ue("span",Ba,J(r.old_price)+" ₽",1)):me("",!0),Te(" / "+J(r.unit_symbol),1)])]),_:2},1024),z(Se,{class:"justify-center"},{default:R(()=>[z(O,{dense:"","no-caps":"",class:"full-width",color:"secondary",icon:"add_shopping_cart",label:"В корзину",onClick:f=>F(r)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_.value?(Q(),H($a,{key:1,modelValue:_.value,"onUpdate:modelValue":v[1]||(v[1]=r=>_.value=r),productData:$.value,onRefreshData:v[2]||(v[2]=r=>y()),onAddProduct:F},null,8,["modelValue","productData"])):me("",!0)]),_:1}))}}),Ea=rt(Ia,[["__scopeId","data-v-9166f24b"]]),Xa=ke({__name:"DashboardPage",setup(e){return(n,l)=>(Q(),H(jt,{class:"q-mx-xs"},{default:R(()=>[z(Ea,{class:"q-mb-lg"})]),_:1}))}});export{Xa as default};
