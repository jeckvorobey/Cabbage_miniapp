import{aP as k,r as u,aQ as f,c as h,k as E,U as N,m as F,o as M,h as d,a6 as H,l as U,aC as W,w as X,aD as T,g as G}from"./index-O6iO29Vn.js";const q={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},J=Object.keys(q);q.all=!0;function p(e){const t={};for(const n of J)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?q:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const K=["INPUT","TEXTAREA"];function ee(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&K.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}const te=k("Products",()=>{const e=u(),t=u({offset:0,limit:20,total:0,has_more:!0});async function n(i){return f.post("products",i).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while createing via product",r.message),r})}async function a(i){return f.patch(`/products/${i.id}`,i).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while creating via updateProduct",r.message),r})}async function S(i){return f.get(`/products/${i}`).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while fetching via product",r.message),r})}async function m(i){return f.get("products",{params:i}).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while fetching via products",r.message),r})}async function P(i){return f.delete(`products/${i}`).then(r=>r.data).catch(r=>{throw console.error("[ProductsStore] - An error occurred while deleting via Product",r.message),r})}async function v(i,r){return f.post(`/products/${i}/images`,r).then(l=>l.data).catch(l=>{throw console.error("[ProductsStore] - An error occurred while createing via uploadFile",l.message),l})}return{pagination:t,products:e,createProduct:n,updateProduct:a,fetchProducts:m,deleteProduct:P,fetchProductsById:S,uploadFile:v}}),V={ratio:[String,Number]};function Y(e,t){return h(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const Z=1.7778,re=E({name:"QImg",props:{...V,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Z},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const a=u(e.initialRatio),S=Y(e,a),m=G(),{registerTimeout:P,removeTimeout:v}=N(),{registerTimeout:i,removeTimeout:r}=N(),l=h(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),A=h(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),c=[u(null),u(l.value)],s=u(0),y=u(!1),w=u(!1),L=h(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),I=h(()=>({width:e.width,height:e.height})),O=h(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),B=h(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function R(){if(r(),e.loadingShowDelay===0){y.value=!0;return}i(()=>{y.value=!0},e.loadingShowDelay)}function _(){r(),y.value=!1}function $({target:o}){T(m)===!1&&(v(),a.value=o.naturalHeight===0?.5:o.naturalWidth/o.naturalHeight,C(o,1))}function C(o,g){g===1e3||T(m)===!0||(o.complete===!0?D(o):P(()=>{C(o,g+1)},50))}function D(o){T(m)!==!0&&(s.value=s.value^1,c[s.value].value=null,_(),o.getAttribute("__qerror")!=="true"&&(w.value=!1),n("load",o.currentSrc||o.src))}function j(o){v(),_(),w.value=!0,c[s.value].value=A.value,c[s.value^1].value=l.value,n("error",o)}function z(o){const g=c[o].value,b={key:"img_"+o,class:O.value,style:B.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...g};return s.value===o?Object.assign(b,{class:b.class+"current",onLoad:$,onError:j}):b.class+="loaded",d("div",{class:"q-img__container absolute-full",key:"img"+o},d("img",b))}function Q(){return y.value===!1?d("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},U(t[w.value===!0?"error":"default"])):d("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[d(W,{color:e.spinnerColor,size:e.spinnerSize})])}{let o=function(){X(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,g=>{v(),w.value=!1,g===null?(_(),c[s.value^1].value=l.value):R(),c[s.value].value=g},{immediate:!0})};F.value===!0?M(o):o()}return()=>{const o=[];return S.value!==null&&o.push(d("div",{key:"filler",style:S.value})),c[0].value!==null&&o.push(z(0)),c[1].value!==null&&o.push(z(1)),o.push(d(H,{name:"q-transition--fade"},Q)),d("div",{key:"main",class:L.value,style:I.value,role:"img","aria-label":e.alt},o)}}}),oe=k("Order",()=>{const e=u([]);async function t(n){return f.post("order",n).then(a=>a.data).catch(a=>{throw console.error("[OrderStore] - An error occurred while createing via order",a.message),a})}return{basketData:e,createOrder:t}});export{re as Q,oe as a,p as g,ee as s,te as u};
