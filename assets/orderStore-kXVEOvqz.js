import{aP as k,r as u,aQ as d,c as f,k as Q,U as N,m as E,o as M,h as s,a6 as H,l as U,aC as W,w as X,aD as q,g as G}from"./index-BHoUKiZc.js";const C={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},J=Object.keys(C);C.all=!0;function p(e){const r={};for(const n of J)e[n]===!0&&(r[n]=!0);return Object.keys(r).length===0?C:(r.horizontal===!0?r.left=r.right=!0:r.left===!0&&r.right===!0&&(r.horizontal=!0),r.vertical===!0?r.up=r.down=!0:r.up===!0&&r.down===!0&&(r.vertical=!0),r.horizontal===!0&&r.vertical===!0&&(r.all=!0),r)}const K=["INPUT","TEXTAREA"];function ee(e,r){return r.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof r.handler=="function"&&K.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(r.uid)===-1)}const te=k("Products",()=>{const e=u(),r=u({offset:0,limit:20,total:0,has_more:!0});async function n(i){return d.post("products",i).then(t=>t.data).catch(t=>{throw console.error("[ProductsStore] - An error occurred while createing via product",t.message),t})}async function a(i){return d.patch(`/products/${i.id}`,i).then(t=>t.data).catch(t=>{throw console.error("[ProductsStore] - An error occurred while creating via updateProduct",t.message),t})}async function S(i){return d.get(`/products/${i}`).then(t=>t.data).catch(t=>{throw console.error("[ProductsStore] - An error occurred while fetching via product",t.message),t})}async function m(i){return d.get("products",{params:i}).then(t=>t.data).catch(t=>{throw console.error("[ProductsStore] - An error occurred while fetching via products",t.message),t})}async function P(i){return d.delete(`products/${i}`).then(t=>t.data).catch(t=>{throw console.error("[ProductsStore] - An error occurred while deleting via Product",t.message),t})}async function v(i,t){return d.post(`/products/${i}/images`,t).then(h=>h.data).catch(h=>{throw console.error("[ProductsStore] - An error occurred while createing via uploadFile",h.message),h})}async function _(i){return d.delete(`/products/images/${i}`).then(t=>t.data).catch(t=>{throw console.error("[ProductsStore] - An error occurred while createing via deleteFile",t.message),t})}return{pagination:r,products:e,createProduct:n,updateProduct:a,fetchProducts:m,deleteProduct:P,fetchProductsById:S,uploadFile:v,deleteFile:_}}),V={ratio:[String,Number]};function Y(e,r){return f(()=>{const n=Number(e.ratio||(r!==void 0?r.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const Z=1.7778,re=Q({name:"QImg",props:{...V,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Z},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:r,emit:n}){const a=u(e.initialRatio),S=Y(e,a),m=G(),{registerTimeout:P,removeTimeout:v}=N(),{registerTimeout:_,removeTimeout:i}=N(),t=f(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),h=f(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),l=[u(null),u(t.value)],c=u(0),y=u(!1),w=u(!1),L=f(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),I=f(()=>({width:e.width,height:e.height})),O=f(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),$=f(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function B(){if(i(),e.loadingShowDelay===0){y.value=!0;return}_(()=>{y.value=!0},e.loadingShowDelay)}function T(){i(),y.value=!1}function R({target:o}){q(m)===!1&&(v(),a.value=o.naturalHeight===0?.5:o.naturalWidth/o.naturalHeight,z(o,1))}function z(o,g){g===1e3||q(m)===!0||(o.complete===!0?D(o):P(()=>{z(o,g+1)},50))}function D(o){q(m)!==!0&&(c.value=c.value^1,l[c.value].value=null,T(),o.getAttribute("__qerror")!=="true"&&(w.value=!1),n("load",o.currentSrc||o.src))}function j(o){v(),T(),w.value=!0,l[c.value].value=h.value,l[c.value^1].value=t.value,n("error",o)}function A(o){const g=l[o].value,b={key:"img_"+o,class:O.value,style:$.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...g};return c.value===o?Object.assign(b,{class:b.class+"current",onLoad:R,onError:j}):b.class+="loaded",s("div",{class:"q-img__container absolute-full",key:"img"+o},s("img",b))}function F(){return y.value===!1?s("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},U(r[w.value===!0?"error":"default"])):s("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},r.loading!==void 0?r.loading():e.noSpinner===!0?void 0:[s(W,{color:e.spinnerColor,size:e.spinnerSize})])}{let o=function(){X(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,g=>{v(),w.value=!1,g===null?(T(),l[c.value^1].value=t.value):B(),l[c.value].value=g},{immediate:!0})};E.value===!0?M(o):o()}return()=>{const o=[];return S.value!==null&&o.push(s("div",{key:"filler",style:S.value})),l[0].value!==null&&o.push(A(0)),l[1].value!==null&&o.push(A(1)),o.push(s(H,{name:"q-transition--fade"},F)),s("div",{key:"main",class:L.value,style:I.value,role:"img","aria-label":e.alt},o)}}}),oe=k("Order",()=>{const e=u([]);async function r(n){return d.post("order",n).then(a=>a.data).catch(a=>{throw console.error("[OrderStore] - An error occurred while createing via order",a.message),a})}return{basketData:e,createOrder:r}});export{re as Q,oe as a,p as g,ee as s,te as u};
