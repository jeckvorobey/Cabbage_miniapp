import{bx as x,B as f,aX as y,a4 as m,by as b,ar as v,r as h,f as w,ah as g,bz as S,bA as E,bw as R,bB as k,bC as _,bD as C,a2 as T,aW as L,bE as P,bF as A,a$ as B,bG as M,bH as N,bI as O,X as W,ab as j,a1 as z,_ as D,bJ as I,a5 as U,$ as F,V as H,n as Y,bK as $,bL as V,h as K,bM as G,bN as X,aj as Z,bO as q,av as J,q as Q,l as ee,aG as ae,M as se,aN as te,o as ne,bP as re,m as oe,bQ as ie,bR as ce,bS as de,a_ as le,aO as ue,Y as pe,w as fe,bT as ye,a3 as me,W as be,bU as ve,bV as he,bW as we,bX as xe,bY as ge,bZ as Se,Z as Ee,a7 as Re,b_ as ke,b$ as _e,aZ as Ce,c0 as Te,c1 as Le,c2 as Pe,c3 as Ae,as as Be,c4 as Me,c5 as Ne,c6 as Oe,c7 as We,c8 as je,al as ze,c9 as De,au as Ie,ca as Ue,cb as Fe,cc as He,cd as Ye,am as $e,ce as Ve,a6 as Ke,cf as Ge}from"./index-COHfszfx.js";/**
* vue v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Xe=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:k,BaseTransitionPropsValidators:_,Comment:C,EffectScope:ke,Fragment:T,KeepAlive:L,ReactiveEffect:_e,Static:P,Teleport:A,Text:B,Transition:g,TransitionGroup:S,callWithAsyncErrorHandling:M,callWithErrorHandling:N,camelize:He,capitalize:Ye,cloneVNode:O,computed:w,createApp:E,createBlock:W,createCommentVNode:j,createElementBlock:z,createElementVNode:D,createRenderer:I,createTextVNode:U,createVNode:F,defineComponent:H,effectScope:Ce,getCurrentInstance:Y,getCurrentScope:Te,getTransitionRawChildren:$,guardReactiveProps:V,h:K,handleError:G,hasInjectionContext:X,inject:Z,isProxy:Le,isReactive:Pe,isReadonly:Ae,isRef:Be,isShallow:Me,isVNode:q,markRaw:Ne,mergeProps:J,nextTick:Q,normalizeClass:$e,normalizeStyle:Ve,onActivated:ee,onBeforeMount:ae,onBeforeUnmount:se,onBeforeUpdate:te,onDeactivated:ne,onErrorCaptured:re,onMounted:oe,onRenderTracked:ie,onRenderTriggered:ce,onScopeDispose:Oe,onServerPrefetch:de,onUnmounted:le,onUpdated:ue,onWatcherCleanup:We,openBlock:pe,provide:fe,proxyRefs:je,queuePostFlushCb:ye,reactive:ze,readonly:De,ref:h,renderList:me,resolveComponent:be,resolveTransitionHooks:ve,setBlockTracking:he,setTransitionHooks:we,shallowReactive:Ie,shallowReadonly:Ue,shallowRef:v,ssrContextKey:xe,toDisplayString:Ke,toHandlerKey:Ge,toRaw:y,toRefs:Fe,unref:m,useSSRContext:ge,useTransitionState:Se,vShow:R,version:b,watch:f,withCtx:Ee,withDirectives:Re},Symbol.toStringTag,{value:"Module"}));var s;(e=>{e.settings=d({apikey:""}),e.isReadyToInit=u(()=>!!e.settings.value.apikey),e.ymaps=()=>ymaps3,e.script=v(null);class t extends Error{constructor(o){super(o),this.message=o,this.name="YandexMapException"}}e.YandexMapException=t,e.loadStatus=d("pending"),e.isLoaded=u(()=>e.loadStatus.value==="loaded"||e.loadStatus.value==="error"),e.loadError=d(null);function a(){return ymaps3.import("@yandex/ymaps3-layers-extra")}e.importLayersExtra=a})(s||(s={}));function d(e){return typeof window>"u"?{value:e,__v_isRef:!0}:h(e)}function u(e,t){return typeof window>"u"?{get value(){return e()},__v_isRef:!0}:w(e,t)}function p(e){return e=y(m(e)),Array.isArray(e)?e.map(t=>p(t)):!e||typeof e!="object"||e?.constructor!==void 0&&e?.constructor!==Object?e:Object.keys(e).reduce((t,a)=>{const r=e[a];return t[a]=p(r),t},{})}function Ze(){return typeof process<"u"&&process.dev}function qe({text:e,isInternal:t,warn:a}){return a&&(e=`Warning: ${e}`),t&&(e+=" This is likely Vue Yandex Maps internal bug.",Ze()&&(e+=" You can report this bug here: https://github.com/yandex-maps-unofficial/vue-yandex-maps/issues/new/choose")),new s.YandexMapException(e)}function Je(e){const t=qe(e);if(e.warn)console.warn(t);else throw t}function Qe(){return b.startsWith("2")}let l;async function sa(){if(l===void 0){if(Qe()){l=null;return}l=(await x(async()=>{const{Fragment:e}=await Promise.resolve().then(()=>Xe);return{Fragment:e}},void 0)).Fragment}}const ea=s.YandexMapException;function ta(){return new Promise((e,t)=>{if(typeof ymaps3<"u")return s.loadStatus.value!=="loaded"&&(s.loadStatus.value="loaded"),e();if(typeof window>"u")return t(new ea("You must call initYmaps on Client Side only"));if(s.loadStatus.value==="loading"){const n=f(s.loadStatus,i=>{s.isLoaded.value&&(n(),i==="error"&&t(s.loadError),i==="loaded"&&e())},{immediate:!0});return}s.loadStatus.value="loading";const a=s.settings.value;a.apikey||Je({text:"apikey was not set for Yandex Maps initialization. Ensure you have attached needed plugins or called createYmapsOptions with apikey. If you need delayed init, please use VueYandexMaps.isReadyToInit computed as v-if."});const r=document.createElement("SCRIPT");s.script.value=r;const o=new URL(`${a.domain}/${a.version}/`);o.searchParams.set("lang",a.lang||"ru_RU"),o.searchParams.set("apikey",a.apikey);const c={async:"",defer:"",referrerpolicy:"strict-origin-when-cross-origin",type:"text/javascript",id:"vue-yandex-maps",src:o.toString(),...a.scriptAttributes||{}};for(const n in c)c[n]!==!1&&r.setAttribute(n,c[n]);document.head.appendChild(r),r.onload=async()=>{try{await s.ymaps().ready,a.servicesApikeys&&Object.keys(a.servicesApikeys).length>0&&s.ymaps().getDefaultConfig().setApikeys(a.servicesApikeys),typeof a.strictMode=="boolean"&&(s.ymaps().strictMode=a.strictMode),a.importModules&&await Promise.all(a.importModules.map(n=>s.ymaps().import(n))),a.cdnLibraryLoading?.enabled!==!1&&s.ymaps().import.registerCdn(a.cdnLibraryLoading?.url||"https://cdn.jsdelivr.net/npm/{package}",[...["@yandex/ymaps3-default-ui-theme@latest","@yandex/ymaps3-resizer@latest","@yandex/ymaps3-minimap@latest","@yandex/ymaps3-context-menu@latest","@yandex/ymaps3-drawer-control@latest","@yandex/ymaps3-signpost@latest","@yandex/ymaps3-spinner@latest","@yandex/ymaps3-world-utils@latest"].filter(n=>!(a.cdnLibraryLoading?.extendLibraries??[]).some(i=>i.startsWith("@yandex")?i.split("@")[1]===n.split("@")[1]:!1)),...a.cdnLibraryLoading?.extendLibraries??[]]),s.loadStatus.value="loaded",e()}catch(n){s.loadStatus.value="error",s.loadError.value=n,t(n)}},r.onerror=n=>{s.loadError.value=n,t(n)}})}export{s as V,p as c,ta as i,sa as s,Je as t};
