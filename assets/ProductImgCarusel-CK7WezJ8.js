import{k as H,a as Ue,x as ve,aH as he,aI as $e,g as G,aJ as Be,c as v,h as i,aK as Ie,r as U,I as be,K as ye,C as Te,M as Fe,O as Se,w as V,p as oe,i as Ee,aL as Ne,aM as Re,aN as fe,aO as Le,a9 as je,av as Q,W as Ae,aP as Oe,l as xe,aQ as Qe,aR as me,aS as De,o as qe,aT as Me,V as Ve,m as He,d as We,u as Ke,af as J,ae as K,ai as te,aj as ae,ad as Xe,am as Ge,F as Ye,f as Je,ag as ge}from"./index-UQ4LS6XS.js";import{b as Ze,h as pe}from"./rtl-D3GObVCM.js";import{u as et,b as tt,c as at,d as lt}from"./orderStore-6jMwWpcM.js";import{u as ot}from"./use-quasar-DrikdOyv.js";import{u as nt}from"./usePermissionVisibility.hook-DeMoY8ty.js";import{u as rt}from"./productsStore-CyAsE0Bm.js";import{_ as ut}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ot=H({name:"QUploaderAddTrigger",setup(){const e=Ue(he,ve);return e===ve&&console.error("QUploaderAddTrigger needs to be child of QUploader"),e}}),it={...$e,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},le=50,ke=2*le,Ce=ke*Math.PI,st=Math.round(Ce*1e3)/1e3,ct=H({name:"QCircularProgress",props:{...it,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:u}){const{proxy:{$q:r}}=G(),l=Be(e),n=v(()=>{const c=(r.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(r.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-c}deg)`:`rotate3d(0, 0, 1, ${c-90}deg)`}}),f=v(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),y=v(()=>ke/(1-e.thickness/2)),h=v(()=>`${y.value/2} ${y.value/2} ${y.value} ${y.value}`),q=v(()=>Ze(e.value,e.min,e.max)),x=v(()=>e.max-e.min),S=v(()=>e.thickness/2*y.value),C=v(()=>{const c=(e.max-q.value)/x.value,t=e.rounded===!0&&q.value<e.max&&c<.25?S.value/2*(1-c/.25):0;return Ce*c+t});function w({thickness:c,offset:t,color:p,cls:z,rounded:g}){return i("circle",{class:"q-circular-progress__"+z+(p!==void 0?` text-${p}`:""),style:f.value,fill:"transparent",stroke:"currentColor","stroke-width":c,"stroke-dasharray":st,"stroke-dashoffset":t,"stroke-linecap":g,cx:y.value,cy:y.value,r:le})}return()=>{const c=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&c.push(i("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:le-S.value/2,cx:y.value,cy:y.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&c.push(w({cls:"track",thickness:S.value,offset:0,color:e.trackColor})),c.push(w({cls:"circle",thickness:S.value,offset:C.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const t=[i("svg",{class:"q-circular-progress__svg",style:n.value,viewBox:h.value,"aria-hidden":"true"},c)];return e.showValue===!0&&t.push(i("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},u.default!==void 0?u.default():[i("div",q.value)])),i("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:l.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:q.value},Ie(u.internal,t))}}});function M(e,u,r,l){const n=[];return e.forEach(f=>{l(f)===!0?n.push(f):u.push({failedPropValidation:r,file:f})}),n}function Z(e){e?.dataTransfer&&(e.dataTransfer.dropEffect="copy"),ye(e)}const dt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},vt=["rejected"];function ft({editable:e,dnd:u,getFileInput:r,addFilesToQueue:l}){const{props:n,emit:f,proxy:y}=G(),h=U(null),q=v(()=>n.accept!==void 0?n.accept.split(",").map(o=>(o=o.trim(),o==="*"?"*/":(o.endsWith("/*")&&(o=o.slice(0,o.length-1)),o.toUpperCase()))):null),x=v(()=>parseInt(n.maxFiles,10)),S=v(()=>parseInt(n.maxTotalSize,10));function C(o){if(e.value)if(o!==Object(o)&&(o={target:null}),o.target?.matches('input[type="file"]')===!0)o.clientX===0&&o.clientY===0&&be(o);else{const P=r();P!==o.target&&P?.click(o)}}function w(o){e.value&&o&&l(null,o)}function c(o,P,N,R){let m=Array.from(P||o.target.files);const F=[],I=()=>{F.length!==0&&f("rejected",F)};if(n.accept!==void 0&&q.value.indexOf("*/")===-1&&(m=M(m,F,"accept",_=>q.value.some(s=>_.type.toUpperCase().startsWith(s)||_.name.toUpperCase().endsWith(s))),m.length===0))return I();if(n.maxFileSize!==void 0){const _=parseInt(n.maxFileSize,10);if(m=M(m,F,"max-file-size",s=>s.size<=_),m.length===0)return I()}if(n.multiple!==!0&&m.length!==0&&(m=[m[0]]),m.forEach(_=>{_.__key=_.webkitRelativePath+_.lastModified+_.name+_.size}),R===!0){const _=N.map(s=>s.__key);m=M(m,F,"duplicate",s=>_.includes(s.__key)===!1)}if(m.length===0)return I();if(n.maxTotalSize!==void 0){let _=R===!0?N.reduce((s,$)=>s+$.size,0):0;if(m=M(m,F,"max-total-size",s=>(_+=s.size,_<=S.value)),m.length===0)return I()}if(typeof n.filter=="function"){const _=n.filter(m);m=M(m,F,"filter",s=>_.includes(s))}if(n.maxFiles!==void 0){let _=R===!0?N.length:0;if(m=M(m,F,"max-files",()=>(_++,_<=x.value)),m.length===0)return I()}if(I(),m.length!==0)return m}function t(o){Z(o),u.value!==!0&&(u.value=!0)}function p(o){ye(o),(o.relatedTarget!==null||Te.is.safari!==!0?o.relatedTarget!==h.value:document.elementsFromPoint(o.clientX,o.clientY).includes(h.value)===!1)===!0&&(u.value=!1)}function z(o){Z(o);const P=o.dataTransfer.files;P.length!==0&&l(null,P),u.value=!1}function g(o){if(u.value===!0)return i("div",{ref:h,class:`q-${o}__dnd absolute-full`,onDragenter:Z,onDragover:Z,onDragleave:p,onDrop:z})}return Object.assign(y,{pickFiles:C,addFiles:w}),{pickFiles:C,addFiles:w,onDragover:t,onDragleave:p,processFiles:c,getDndNode:g,maxFilesNumber:x,maxTotalSizeNumber:S}}function _e(e){return(e*100).toFixed(2)+"%"}const mt={...Fe,...dt,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},we=[...vt,"start","finish","added","removed"];function gt(e,u){const r=G(),{props:l,slots:n,emit:f,proxy:y}=r,{$q:h}=y,q=Se(l,h);function x(a,b,B){if(a.__status=b,b==="idle"){a.__uploaded=0,a.__progress=0,a.__sizeLabel=pe(a.size),a.__progressLabel="0.00%";return}if(b==="failed"){y.$forceUpdate();return}a.__uploaded=b==="uploaded"?a.size:B,a.__progress=b==="uploaded"?1:Math.min(.9999,a.__uploaded/a.size),a.__progressLabel=_e(a.__progress),y.$forceUpdate()}const S=v(()=>l.disable!==!0&&l.readonly!==!0),C=U(!1),w=U(null),c=U(null),t={files:U([]),queuedFiles:U([]),uploadedFiles:U([]),uploadedSize:U(0),updateFileStatus:x,isAlive:()=>Le(r)===!1},{pickFiles:p,addFiles:z,onDragover:g,onDragleave:o,processFiles:P,getDndNode:N,maxFilesNumber:R,maxTotalSizeNumber:m}=ft({editable:S,dnd:C,getFileInput:ue,addFilesToQueue:ie});Object.assign(t,e({props:l,slots:n,emit:f,helpers:t,exposeApi:a=>{Object.assign(t,a)}})),t.isBusy===void 0&&(t.isBusy=U(!1));const F=U(0),I=v(()=>F.value===0?0:t.uploadedSize.value/F.value),_=v(()=>_e(I.value)),s=v(()=>pe(F.value)),$=v(()=>S.value===!0&&t.isUploading.value!==!0&&(l.multiple===!0||t.queuedFiles.value.length===0)&&(l.maxFiles===void 0||t.files.value.length<R.value)&&(l.maxTotalSize===void 0||F.value<m.value)),d=v(()=>S.value===!0&&t.isBusy.value!==!0&&t.isUploading.value!==!0&&t.queuedFiles.value.length!==0);Ae(he,ce);const k=v(()=>"q-uploader column no-wrap"+(q.value===!0?" q-uploader--dark q-dark":"")+(l.bordered===!0?" q-uploader--bordered":"")+(l.square===!0?" q-uploader--square no-border-radius":"")+(l.flat===!0?" q-uploader--flat no-shadow":"")+(l.disable===!0?" disabled q-uploader--disable":"")+(C.value===!0?" q-uploader--dnd":"")),L=v(()=>"q-uploader__header"+(l.color!==void 0?` bg-${l.color}`:"")+(l.textColor!==void 0?` text-${l.textColor}`:""));V(t.isUploading,(a,b)=>{b===!1&&a===!0?f("start"):b===!0&&a===!1&&f("finish")});function j(){l.disable===!1&&(t.abort(),t.uploadedSize.value=0,F.value=0,re(),t.files.value=[],t.queuedFiles.value=[],t.uploadedFiles.value=[])}function E(){l.disable===!1&&ne(["uploaded"],()=>{t.uploadedFiles.value=[]})}function Y(){ne(["idle","failed"],({size:a})=>{F.value-=a,t.queuedFiles.value=[]})}function ne(a,b){if(l.disable===!0)return;const B={files:[],size:0},A=t.files.value.filter(T=>a.indexOf(T.__status)===-1?!0:(B.size+=T.size,B.files.push(T),T.__img!==void 0&&window.URL.revokeObjectURL(T.__img.src),!1));B.files.length!==0&&(t.files.value=A,b(B),f("removed",B.files))}function ee(a){l.disable||(a.__status==="uploaded"?t.uploadedFiles.value=t.uploadedFiles.value.filter(b=>b.__key!==a.__key):a.__status==="uploading"?a.__abort():F.value-=a.size,t.files.value=t.files.value.filter(b=>b.__key!==a.__key?!0:(b.__img!==void 0&&window.URL.revokeObjectURL(b.__img.src),!1)),t.queuedFiles.value=t.queuedFiles.value.filter(b=>b.__key!==a.__key),f("removed",[a]))}function re(){t.files.value.forEach(a=>{a.__img!==void 0&&window.URL.revokeObjectURL(a.__img.src)})}function ue(){return c.value||w.value.getElementsByClassName("q-uploader__input")[0]}function ie(a,b){const B=P(a,b,t.files.value,!0),A=ue();A!=null&&(A.value=""),B!==void 0&&(B.forEach(T=>{if(t.updateFileStatus(T,"idle"),F.value+=T.size,l.noThumbnails!==!0&&T.type.toUpperCase().startsWith("IMAGE")){const de=new Image;de.src=window.URL.createObjectURL(T),T.__img=de}}),t.files.value=t.files.value.concat(B),t.queuedFiles.value=t.queuedFiles.value.concat(B),f("added",B),l.autoUpload===!0&&t.upload())}function se(){d.value===!0&&t.upload()}function W(a,b,B){if(a===!0){const A={type:"a",key:b,icon:h.iconSet.uploader[b],flat:!0,dense:!0};let T;return b==="add"?(A.onClick=p,T=ce):A.onClick=B,i(Q,A,T)}}function ce(){return i("input",{ref:c,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:l.accept,multiple:l.multiple===!0?"multiple":void 0,capture:l.capture,onMousedown:be,onClick:p,onChange:ie})}function ze(){return n.header!==void 0?n.header(D):[i("div",{class:"q-uploader__header-content column"},[i("div",{class:"flex flex-center no-wrap q-gutter-xs"},[W(t.queuedFiles.value.length!==0,"removeQueue",Y),W(t.uploadedFiles.value.length!==0,"removeUploaded",E),t.isUploading.value===!0?i(fe,{class:"q-uploader__spinner"}):null,i("div",{class:"col column justify-center"},[l.label!==void 0?i("div",{class:"q-uploader__title"},[l.label]):null,i("div",{class:"q-uploader__subtitle"},[s.value+" / "+_.value])]),W($.value,"add"),W(l.hideUploadBtn===!1&&d.value===!0,"upload",t.upload),W(t.isUploading.value,"clear",t.abort)])])]}function Pe(){return n.list!==void 0?n.list(D):t.files.value.map(a=>i("div",{key:a.__key,class:"q-uploader__file relative-position"+(l.noThumbnails!==!0&&a.__img!==void 0?" q-uploader__file--img":"")+(a.__status==="failed"?" q-uploader__file--failed":a.__status==="uploaded"?" q-uploader__file--uploaded":""),style:l.noThumbnails!==!0&&a.__img!==void 0?{backgroundImage:'url("'+a.__img.src+'")',backgroundSize:l.thumbnailFit}:null},[i("div",{class:"q-uploader__file-header row flex-center no-wrap"},[a.__status==="failed"?i(je,{class:"q-uploader__file-status",name:h.iconSet.type.negative,color:"negative"}):null,i("div",{class:"q-uploader__file-header-content col"},[i("div",{class:"q-uploader__title"},[a.name]),i("div",{class:"q-uploader__subtitle row items-center no-wrap"},[a.__sizeLabel+" / "+a.__progressLabel])]),a.__status==="uploading"?i(ct,{value:a.__progress,min:0,max:1,indeterminate:a.__progress===0}):i(Q,{round:!0,dense:!0,flat:!0,icon:h.iconSet.uploader[a.__status==="uploaded"?"done":"clear"],onClick:()=>{ee(a)}})])]))}oe(()=>{t.isUploading.value===!0&&t.abort(),t.files.value.length!==0&&re()});const D={};for(const a in t)Ee(t[a])===!0?Ne(D,a,()=>t[a].value):D[a]=t[a];return Object.assign(D,{upload:se,reset:j,removeUploadedFiles:E,removeQueuedFiles:Y,removeFile:ee,pickFiles:p,addFiles:z}),Re(D,{canAddFiles:()=>$.value,canUpload:()=>d.value,uploadSizeLabel:()=>s.value,uploadProgressLabel:()=>_.value}),u({...t,upload:se,reset:j,removeUploadedFiles:E,removeQueuedFiles:Y,removeFile:ee,pickFiles:p,addFiles:z,canAddFiles:$,canUpload:d,uploadSizeLabel:s,uploadProgressLabel:_}),()=>{const a=[i("div",{class:L.value},ze()),i("div",{class:"q-uploader__list scroll"},Pe()),N("uploader")];t.isBusy.value===!0&&a.push(i("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[i(fe)]));const b={ref:w,class:k.value};return $.value===!0&&Object.assign(b,{onDragover:g,onDragleave:o}),i("div",b,a)}}const pt=()=>!0;function _t(e){const u={};return e.forEach(r=>{u[r]=pt}),u}const ht=_t(we),bt=({name:e,props:u,emits:r,injectPlugin:l})=>H({name:e,props:{...mt,...u},emits:Oe(r)===!0?{...ht,...r}:[...we,...r],setup(n,{expose:f}){return gt(l,f)}});function O(e){return typeof e=="function"?e:()=>e}const yt="QUploader",Ft={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},St=["factoryFailed","uploaded","failed","uploading"];function xt({props:e,emit:u,helpers:r}){const l=U([]),n=U([]),f=U(0),y=v(()=>({url:O(e.url),method:O(e.method),headers:O(e.headers),formFields:O(e.formFields),fieldName:O(e.fieldName),withCredentials:O(e.withCredentials),sendRaw:O(e.sendRaw),batch:O(e.batch)})),h=v(()=>f.value>0),q=v(()=>n.value.length!==0);let x;function S(){l.value.forEach(t=>{t.abort()}),n.value.length!==0&&(x=!0)}function C(){const t=r.queuedFiles.value.slice(0);r.queuedFiles.value=[],y.value.batch(t)?w(t):t.forEach(p=>{w([p])})}function w(t){if(f.value++,typeof e.factory!="function"){c(t,{});return}const p=e.factory(t);if(!p)u("factoryFailed",new Error("QUploader: factory() does not return properly"),t),f.value--;else if(typeof p.catch=="function"&&typeof p.then=="function"){n.value.push(p);const z=g=>{r.isAlive()===!0&&(n.value=n.value.filter(o=>o!==p),n.value.length===0&&(x=!1),r.queuedFiles.value=r.queuedFiles.value.concat(t),t.forEach(o=>{r.updateFileStatus(o,"failed")}),u("factoryFailed",g,t),f.value--)};p.then(g=>{x===!0?z(new Error("Aborted")):r.isAlive()===!0&&(n.value=n.value.filter(o=>o!==p),c(t,g))}).catch(z)}else c(t,p||{})}function c(t,p){const z=new FormData,g=new XMLHttpRequest,o=(d,k)=>p[d]!==void 0?O(p[d])(k):y.value[d](k),P=o("url",t);if(!P){console.error("q-uploader: invalid or no URL specified"),f.value--;return}const N=o("formFields",t);N!==void 0&&N.forEach(d=>{z.append(d.name,d.value)});let R=0,m=0,F=0,I=0,_;g.upload.addEventListener("progress",d=>{if(_===!0)return;const k=Math.min(I,d.loaded);r.uploadedSize.value+=k-F,F=k;let L=F-m;for(let j=R;L>0&&j<t.length;j++){const E=t[j];if(L>E.size)L-=E.size,R++,m+=E.size,r.updateFileStatus(E,"uploading",E.size);else{r.updateFileStatus(E,"uploading",L);return}}},!1),g.onreadystatechange=()=>{g.readyState<4||(g.status&&g.status<400?(r.uploadedFiles.value=r.uploadedFiles.value.concat(t),t.forEach(d=>{r.updateFileStatus(d,"uploaded")}),u("uploaded",{files:t,xhr:g})):(_=!0,r.uploadedSize.value-=F,r.queuedFiles.value=r.queuedFiles.value.concat(t),t.forEach(d=>{r.updateFileStatus(d,"failed")}),u("failed",{files:t,xhr:g})),f.value--,l.value=l.value.filter(d=>d!==g))},g.open(o("method",t),P),o("withCredentials",t)===!0&&(g.withCredentials=!0);const s=o("headers",t);s!==void 0&&s.forEach(d=>{g.setRequestHeader(d.name,d.value)});const $=o("sendRaw",t);t.forEach(d=>{r.updateFileStatus(d,"uploading",0),$!==!0&&z.append(o("fieldName",d),d,d.name),d.xhr=g,d.__abort=()=>{g.abort()},I+=d.size}),u("uploading",{files:t,xhr:g}),l.value.push(g),$===!0?g.send(new Blob(t)):g.send(z)}return{isUploading:h,isBusy:q,abort:S,upload:C}}const qt={name:yt,props:Ft,emits:St,injectPlugin:xt},Qt=bt(qt),kt=H({name:"QCarouselSlide",props:{...et,imgSrc:String},setup(e,{slots:u}){const r=v(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>i("div",{class:"q-carousel__slide",style:r.value},xe(u.default))}}),Ct=H({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,default:()=>[18,18],validator:e=>e.length===2}},setup(e,{slots:u}){const r=v(()=>`q-carousel__control absolute absolute-${e.position}`),l=v(()=>({margin:`${e.offset[1]}px ${e.offset[0]}px`}));return()=>i("div",{class:r.value,style:l.value},xe(u.default))}});let X=0;const wt={fullscreen:Boolean,noRouteFullscreenExit:Boolean},zt=["update:fullscreen","fullscreen"];function Pt(){const e=G(),{props:u,emit:r,proxy:l}=e;let n,f,y;const h=U(!1);Qe(e)===!0&&V(()=>l.$route.fullPath,()=>{u.noRouteFullscreenExit!==!0&&S()}),V(()=>u.fullscreen,C=>{h.value!==C&&q()}),V(h,C=>{r("update:fullscreen",C),r("fullscreen",C)});function q(){h.value===!0?S():x()}function x(){h.value!==!0&&(h.value=!0,y=l.$el.parentNode,y.replaceChild(f,l.$el),document.body.appendChild(l.$el),X++,X===1&&document.body.classList.add("q-body--fullscreen-mixin"),n={handler:S},me.add(n))}function S(){h.value===!0&&(n!==void 0&&(me.remove(n),n=void 0),y.replaceChild(l.$el,f),h.value=!1,X=Math.max(0,X-1),X===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),l.$el.scrollIntoView!==void 0&&setTimeout(()=>{l.$el.scrollIntoView()})))}return De(()=>{f=document.createElement("span")}),qe(()=>{u.fullscreen===!0&&x()}),oe(S),Object.assign(l,{toggleFullscreen:q,setFullscreen:x,exitFullscreen:S}),{inFullscreen:h,toggleFullscreen:q}}const Ut=["top","right","bottom","left"],$t=["regular","flat","outline","push","unelevated"],Bt=H({name:"QCarousel",props:{...Fe,...at,...wt,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>$t.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Ut.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...zt,...tt],setup(e,{slots:u}){const{proxy:{$q:r}}=G(),l=Se(e,r);let n=null,f;const{updatePanelsList:y,getPanelContent:h,panelDirectives:q,goToPanel:x,previousPanel:S,nextPanel:C,getEnabledPanels:w,panelIndex:c}=lt(),{inFullscreen:t}=Pt(),p=v(()=>t.value!==!0&&e.height!==void 0?{height:e.height}:{}),z=v(()=>e.vertical===!0?"vertical":"horizontal"),g=v(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),o=v(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(t.value===!0?" fullscreen":"")+(l.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${z.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${g.value}`:"")),P=v(()=>{const s=[e.prevIcon||r.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||r.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&r.lang.rtl===!0?s.reverse():s}),N=v(()=>e.navigationIcon||r.iconSet.carousel.navigationIcon),R=v(()=>e.navigationActiveIcon||N.value),m=v(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));V(()=>e.modelValue,()=>{e.autoplay&&F()}),V(()=>e.autoplay,s=>{s?F():n!==null&&(clearTimeout(n),n=null)});function F(){const s=Me(e.autoplay)===!0?Math.abs(e.autoplay):5e3;n!==null&&clearTimeout(n),n=setTimeout(()=>{n=null,s>=0?C():S()},s)}qe(()=>{e.autoplay&&F()}),oe(()=>{n!==null&&clearTimeout(n)});function I(s,$){return i("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${s} q-carousel__navigation--${g.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[i("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},w().map($))])}function _(){const s=[];if(e.navigation===!0){const $=u["navigation-icon"]!==void 0?u["navigation-icon"]:k=>i(Q,{key:"nav"+k.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${k.active===!0?"":"in"}active`,...k.btnProps,onClick:k.onClick}),d=f-1;s.push(I("buttons",(k,L)=>{const j=k.props.name,E=c.value===L;return $({index:L,maxIndex:d,name:j,active:E,btnProps:{icon:E===!0?R.value:N.value,size:"sm",...m.value},onClick:()=>{x(j)}})}))}else if(e.thumbnails===!0){const $=e.controlColor!==void 0?` text-${e.controlColor}`:"";s.push(I("thumbnails",d=>{const k=d.props;return i("img",{key:"tmb#"+k.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${k.name===e.modelValue?"":"in"}active`+$,src:k.imgSrc||k["img-src"],onClick:()=>{x(k.name)}})}))}return e.arrows===!0&&c.value>=0&&((e.infinite===!0||c.value>0)&&s.push(i("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${z.value} absolute flex flex-center`},[i(Q,{icon:P.value[0],...m.value,onClick:S})])),(e.infinite===!0||c.value<f-1)&&s.push(i("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${z.value} absolute flex flex-center`},[i(Q,{icon:P.value[1],...m.value,onClick:C})]))),He(u.control,s)}return()=>(f=y(u),i("div",{class:o.value,style:p.value},[Ve("div",{class:"q-carousel__slides-container"},h(),"sl-cont",e.swipeable,()=>q.value)].concat(_())))}}),It=We({__name:"ProductImgCarusel",props:{images:{}},emits:["refresh-data"],setup(e,{emit:u}){const r=e,l=u,n=ot(),f=rt(),y=Ke(),{isManager:h}=nt(v(()=>y.user)),q=U(0),x=U(!1);function S(){n.dialog({title:"Удаление картинки",message:"Вы уверенны что хотите удалить картинку?",cancel:!0,persistent:!0}).onOk(()=>{C()})}async function C(){try{const w=r.images[q.value];await f.deleteFile(w.id),l("refresh-data")}catch(w){console.error(w)}}return(w,c)=>(K(),J(Bt,{swipeable:"",animated:"",arrows:"",modelValue:q.value,"onUpdate:modelValue":c[2]||(c[2]=t=>q.value=t),fullscreen:x.value,"onUpdate:fullscreen":c[3]||(c[3]=t=>x.value=t),infinite:"",height:te(h)?"200px":"250px",class:"q-mb-sm"},{control:ae(()=>[Je(Ct,{position:"bottom-right",offset:[18,18]},{default:ae(()=>[te(h)?ge("",!0):(K(),J(Q,{key:0,push:"",round:"",dense:"",color:"white","text-color":"primary",icon:x.value?"fullscreen_exit":"fullscreen",onClick:c[0]||(c[0]=t=>x.value=!x.value)},null,8,["icon"])),te(h)?(K(),J(Q,{key:1,round:"",dense:"","text-color":"red",icon:"delete",onClick:c[1]||(c[1]=t=>S())})):ge("",!0)]),_:1})]),default:ae(()=>[(K(!0),Xe(Ye,null,Ge(w.images,(t,p)=>(K(),J(kt,{key:p,name:p,"img-src":t.file_path,class:"card-image"},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue","fullscreen","height"]))}}),Dt=ut(It,[["__scopeId","data-v-cba867e9"]]);export{Dt as P,Qt as Q,Ot as a,_t as g};
