import{V as d,W as g,u as f,r as l,p as v,a3 as _,P as r,R as n,a5 as u,_ as h,S as c,X as k}from"./index-Ohtvikhu.js";const S={key:0,class:"align-center pt-2.5"},V={key:1,class:"align-center pt-2.5"},x=d({__name:"TelegramStartPage",setup(w){const p=g(),t=f(),e=l(),s=l(!0);v(()=>{e.value=window?.Telegram?.WebApp?.initData,i()});async function i(){try{console.log("TelegramStartPage",e.value),localStorage.removeItem("token"),t.token=null,e.value&&(t.telegramData=e.value,await t.auth(t.telegramData)&&p.push("/dashboard"))}catch(o){console.error(o)}finally{s.value=!1}}return(o,a)=>{const m=_("ExpandedViewport");return n(),r(k,null,[s.value?(n(),r("div",S,[...a[0]||(a[0]=[c("h3",null,"Загрузка...",-1)])])):u("",!0),e.value?u("",!0):(n(),r("div",V,[...a[1]||(a[1]=[c("h4",null,"Вам необходимо войти через Telegram.",-1)])])),h(m,{force:""})],64)}}});export{x as default};
