import{Q as g}from"./QImg-CvrX_SWz.js";import{X as _,ab as h,m as x,a3 as r,_ as i,a0 as e,a4 as q,a5 as v,a6 as l,a1 as n,$ as m,ac as C,a8 as y,a2 as w}from"./index-_eQ6ifiF.js";import{u as S}from"./use-quasar-BDlt-IKv.js";import{u as k}from"./categoriesStore-By7kOImW.js";import{u as Q}from"./productsStore-DvkSCDw8.js";import{g as b}from"./useUtils-CxT89PWc.js";const P={class:"q-px-md"},B={class:"row q-col-gutter-sm"},$=["onClick"],I={class:"q-mr-sm"},N={class:"self-center text-18"},X=_({__name:"CatalogPage",setup(V){const c=S(),u=h(),d=k(),s=Q();x(()=>{console.log(d.categories)});async function p(o){try{c.loading.show(),o?(s.pagination.category_ids=o,s.pagination.offset=0):(delete s.pagination.category_ids,s.pagination.offset=0);const t={category_ids:s.pagination.category_ids,limit:s.pagination.limit,offset:s.pagination.offset},a=await s.fetchProducts(t);a&&(s.products=a.items),u.push("/")}catch(t){console.error(t)}finally{c.loading.hide()}}return(o,t)=>(i(),r("div",P,[t[0]||(t[0]=e("h5",{class:"text-center q-ma-none q-mb-sm"},"Каталог",-1)),t[1]||(t[1]=e("div",{class:"text-18 text-bold q-mb-sm"},"Список каталога:",-1)),e("div",B,[(i(!0),r(q,null,v(l(d).categories,(a,f)=>(i(),r("div",{key:f,class:"col-6",onClick:j=>p(a.id)},[n(w,{class:"my-card radius-16"},{default:m(()=>[n(C,{class:"row q-pa-sm"},{default:m(()=>[e("div",I,[n(g,{class:"cursor-pointer radius-8",src:a?.image?a.image:l(b)("/card-shop.jpg"),height:"60px",width:"60px",fit:"cover"},null,8,["src"])]),e("div",N,y(a.name),1)]),_:2},1024)]),_:2},1024)],8,$))),128))])]))}});export{X as default};
