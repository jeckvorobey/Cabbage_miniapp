import{E as e}from"./useUtils-swB5BgqH.js";import{c as u,ai as c}from"./index-CHzkcKTR.js";function m(i){const s=c(i);if(s&&typeof s=="object"&&"role"in s){const r=s,a=r.role!=null?c(r.role):null,l=r.is_user!=null?c(r.is_user)===!0:!1;return{role:a,isUserFlag:l}}return{role:s,isUserFlag:!1}}function M(i){const s=u(()=>m(i)),r=u(()=>{const{role:t,isUserFlag:o}=s.value;if(o)return e.USER;if(t==null)return;const n=Number(t);if(Object.values(e).includes(n))return n}),a=u(()=>s.value.isUserFlag?!1:r.value===e.ADMIN),l=u(()=>s.value.isUserFlag?!1:r.value?r.value<=e.MANAGER:!1),A=u(()=>{const t=r.value;return t===e.USER||t===e.MANAGER||t===e.ADMIN});return{permission:r,isAdmin:a,isManager:l,isUser:A,hasPermission:t=>u(()=>{const{isUserFlag:o}=s.value,n=r.value;if(n==null)return!1;const f=Number(t);if(o)return f===e.USER;switch(f){case e.ADMIN:return n===e.ADMIN;case e.MANAGER:return n===e.MANAGER||n===e.ADMIN;case e.USER:return n===e.USER||n===e.MANAGER||n===e.ADMIN;default:return!1}})}}export{M as u};
